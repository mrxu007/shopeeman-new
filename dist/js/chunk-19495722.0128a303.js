(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-19495722","chunk-2d0d3286"],{"1fab0":function(e,t,a){"use strict";a("e6ee")},"3e66":function(e,t,a){"use strict";a("fd04")},"4c28":function(e,t,a){},"5c24":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"catch-notice-style"},["0"===e.activeVal?a("main",[a("CatchNoticeSignForPackage")],1):e._e(),"1"===e.activeVal?a("main",[a("CatchNoticeGetLogisticsOrderNo")],1):e._e(),"2"===e.activeVal?a("main",[a("CatchNoticeExpiringOrder")],1):e._e(),"3"===e.activeVal?a("main",[a("CatchNoticeStoreExceptionInfo")],1):e._e(),"4"===e.activeVal?a("main",[a("CatchNoticeOfficialAccountBind")],1):e._e(),"5"===e.activeVal?a("main",[a("CatchNoticeStoreExceptionOverSea")],1):e._e()])},r=[],l=(a("d3b7"),a("3ca3"),a("ddb0"),function(){return a.e("chunk-57c4e786").then(a.bind(null,"df5d"))}),s=function(){return a.e("chunk-afa5c326").then(a.bind(null,"8340"))},n=function(){return a.e("chunk-b6e719be").then(a.bind(null,"a2ef"))},o=function(){return a.e("chunk-fc2ac79a").then(a.bind(null,"1e45"))},c=function(){return a.e("chunk-335d96d0").then(a.bind(null,"a8b8"))},u=function(){return a.e("chunk-eaf63d58").then(a.bind(null,"d7c9"))},p={components:{CatchNoticeExpiringOrder:l,CatchNoticeGetLogisticsOrderNo:s,CatchNoticeOfficialAccountBind:n,CatchNoticeSignForPackage:o,CatchNoticeStoreExceptionInfo:c,CatchNoticeStoreExceptionOverSea:u},data:function(){return{activeVal:0}},mounted:function(){this.$route.query.activeVal&&(this.activeVal=this.$route.query.activeVal)}},d=p,h=a("2877"),m=Object(h["a"])(d,i,r,!1,null,null,null);t["default"]=m.exports},7558:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("ul",{staticClass:"storeChooseUL"},[a("li",[a("span",{style:{width:e.spanWidth}},[e._v("所属站点：")]),a("el-select",{staticClass:"siteSelectBox",attrs:{size:"mini",filterable:""},on:{change:e.getsite},model:{value:e.countryVal,callback:function(t){e.countryVal=t},expression:"countryVal"}},[e.isAll?a("el-option",{attrs:{label:"全部",value:""}}):e._e(),e._l(e.countries,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})}))],2)],1),a("li",[a("span",{style:{width:e.spanWidth}},[e._v("店铺分组：")]),a("el-select",{staticClass:"selectBox",attrs:{placeholder:"",multiple:"","collapse-tags":"",size:"mini",filterable:""},model:{value:e.groupId,callback:function(t){e.groupId=t},expression:"groupId"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._l(e.groupIdList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.group_name,value:e.id}})}))],2)],1),e.showMall?a("li",[a("span",{style:{width:e.spanWidth}},[e._v("店铺名称：")]),a("el-select",{staticClass:"selectBox",attrs:{placeholder:"",multiple:"","collapse-tags":"",size:"mini",filterable:""},model:{value:e.site,callback:function(t){e.site=t},expression:"site"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._l(e.siteList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.mall_alias_name||e.platform_mall_name,value:e.platform_mall_id}})}))],2)],1):e._e()])])},r=[],l=a("1da1"),s=(a("96cf"),a("159b"),a("fb6a"),a("d3b7"),a("25f0"),a("c740"),a("4de4"),a("7646")),n={name:"Storechoosemall",props:{showMall:{type:Boolean,default:!1},spanWidth:{type:String,default:"80px"},isAll:{type:Boolean,default:function(){return!1}},source:{type:String,default:function(){return""}}},data:function(){return{isAllowSet1:!0,isAllowSet2:!0,countryVal:null,groupId:[],groupIdList:[],site:[],siteList:[],countries:this.$filters.countries_option,mallListAPIInstance:new s["a"](this)}},watch:{countryVal:{handler:function(e,t){this.isAllowSet2=!1,this.groupId=[],this.groupIdList=[],this.ddMallGoodsGetMallList(1)},deep:!0},groupId:{handler:function(e,t){var a=this;if(this.isAllowSet2){this.isAllowSet2=!1;var i=t.indexOf("")>-1,r=e.indexOf("")>-1;i!==r?r?(this.groupId=[""],this.groupIdList.forEach((function(e){a.groupId.push(e.id)}))):this.groupId=[]:r?this.groupId=e.slice(1):this.groupIdList.length>0&&this.groupId.length===this.groupIdList.length&&this.groupId.unshift(""),setTimeout((function(){a.isAllowSet2=!0,a.ddMallGoodsGetMallList(2)}),10)}},deep:!0},site:{handler:function(e,t){var a=this;if(this.isAllowSet1){this.isAllowSet1=!1;var i=t.indexOf("")>-1,r=e.indexOf("")>-1;i!==r?r?(this.site=[""],this.siteList.forEach((function(e){a.site.push(e.platform_mall_id)}))):this.site=[]:r?this.site=e.slice(1):this.siteList.length>0&&this.siteList.length===this.site.length&&this.site.unshift(""),setTimeout((function(){a.changeMallList(),a.isAllowSet1=!0}))}},deep:!0}},mounted:function(){this.countryVal=this.isAll?"":"TH"},methods:{getsite:function(e){var t=e;this.$emit("getSite",t)},changeSelect:function(e){return Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},ddMallGoodsGetMallList:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var a,i,r,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.site=[],a=t.countryVal,i=t.groupId.indexOf("")>-1&&t.groupId.slice(1).toString()||t.groupId.toString(),r={country:a,mallGroupIds:i},e.next=6,t.mallListAPIInstance.ddMallGoodsGetMallList(r);case 6:l=e.sent,200===l.code?(t.siteList=l.data,0===t.groupIdList.length&&(t.groupId=[""],t.siteList.forEach((function(e){var a=t.groupIdList.findIndex((function(t){return t.id===e.group_id}));e.group_name&&a<0&&(t.groupIdList.push({group_name:e.group_name,id:e.group_id}),t.groupId.push(e.group_id))}))),setTimeout((function(){t.isAllowSet2=!0,t.isAllowSet1=!0,t.site=[""]}),10)):t.$message.error("获取分组、店铺列表失败");case 8:case"end":return e.stop()}}),e)})))()},changeMallList:function(){var e=this,t=[];this.site.forEach((function(a){if(a){var i=e.siteList.filter((function(e){return e.platform_mall_id===a}));t.push(i[0])}})),this.source?(t["country"]=this.countryVal,this.$emit("changeMallList",{mallList:t,source:this.source})):(t["country"]=this.countryVal,this.$emit("changeMallList",t))}}},o=n,c=(a("3e66"),a("2877")),u=Object(c["a"])(o,i,r,!1,null,null,null);t["a"]=u.exports},8992:function(e,t,a){"use strict";a("4c28")},"8d8d":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"content"},[a("div",{staticClass:"all_condition"},[a("div",{staticClass:"des_conditon"},[a("storeChoose",{attrs:{"is-all":!0,"show-mall-all":!0,source:"true"},on:{changeMallList:e.changeMallList}}),a("div",{staticStyle:{"margin-left":"20px"}},[a("span",[e._v("过期时间：")]),a("el-date-picker",{staticStyle:{width:"324px"},attrs:{size:"mini",type:"datetimerange","value-format":"yyyy-MM-dd HH:mm:ss","range-separator":"-","picker-options":e.pickerOptions,"start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.cloumn_date,callback:function(t){e.cloumn_date=t},expression:"cloumn_date"}})],1)],1),a("div",{staticClass:"des_conditon"},[a("div",{staticClass:"condition_item"},[a("span",[e._v("状态：")]),a("el-select",{staticStyle:{width:"100px"},attrs:{size:"mini",placeholder:"站点"},model:{value:e.query.statius,callback:function(t){e.$set(e.query,"statius",t)},expression:"query.statius"}},[a("el-option",{attrs:{value:"",label:"全部"}}),a("el-option",{attrs:{value:"1",label:"正常"}}),a("el-option",{attrs:{value:"3",label:"已过期"}}),a("el-option",{attrs:{value:"10",label:"采购中"}})],1)],1),a("div",{staticClass:"condition_item",staticStyle:{"margin-left":"-12px"}},[a("span",[e._v("IP区域/渠道商：")]),a("el-input",{staticStyle:{width:"180px"},attrs:{clearable:"",size:"mini"},model:{value:e.query.supplier_info,callback:function(t){e.$set(e.query,"supplier_info",t)},expression:"query.supplier_info"}})],1),a("div",{staticClass:"condition_item",staticStyle:{"margin-left":"17px"}},[a("span",[e._v("主体名称：")]),a("el-input",{staticStyle:{width:"180px"},attrs:{clearable:"",placeholder:"主体名称",size:"mini"},model:{value:e.query.ip_alias,callback:function(t){e.$set(e.query,"ip_alias",t)},expression:"query.ip_alias"}})],1),a("div",{staticClass:"condition_item",staticStyle:{"margin-left":"30px"}},[a("span",[e._v("IP来源：")]),a("el-select",{staticStyle:{width:"100px"},attrs:{size:"mini",placeholder:"IP来源"},model:{value:e.query.source,callback:function(t){e.$set(e.query,"source",t)},expression:"query.source"}},[a("el-option",{attrs:{value:"",label:"全部"}}),a("el-option",{attrs:{value:"1",label:"系统"}}),a("el-option",{attrs:{value:"2",label:"用户"}})],1)],1)]),a("div",{staticClass:"des_conditon"},[a("div",{staticClass:"condition_item",staticStyle:{"margin-left":"15px"}},[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.addFun}},[e._v("新增公司主体")]),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.addSelfFun}},[e._v("新增自有IP公司主体")]),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.clearIP()}}},[e._v("清除IP缓存")]),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.lostIP}},[e._v("解绑主体IP")]),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.timeToMonth(1)}}},[e._v("续费一个月")]),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.timeToMonth(3)}}},[e._v("续费三个月")]),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.getTableList()}}},[e._v("搜 索")])],1)])]),e._m(0),a("div",{staticClass:"table_clo"},[a("div",{staticClass:"data_table",staticStyle:{height:"100%","background-color":"white"}},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%",height:"calc(100vh - 233px)"},attrs:{height:"calc(100vh - 233px)",data:e.tableListEnd,"row-style":{height:"50px"},"header-cell-style":{background:"#f7fafa"}},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection","min-width":"55px",align:"center"}}),a("el-table-column",{attrs:{label:"序号",type:"index",align:"center",index:e.indexMethod,fixed:""}}),a("el-table-column",{attrs:{prop:"id",label:"主体ID",align:"center","min-width":"100px",fixed:""}}),a("el-table-column",{attrs:{prop:"ip_alias",label:"主体名称",align:"center","min-width":"200px"}}),a("el-table-column",{attrs:{prop:"poxyIP",label:"代理IP",align:"center","min-width":"150px"}}),a("el-table-column",{attrs:{prop:"",label:"IP渠道",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[i.data_ipinfor?a("span",[e._v(e._s(i.data_ipinfor.area_name||i.data_ipinfor.channel_name))]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"source",label:"IP来源",align:"center","min-width":"80px"}}),a("el-table-column",{attrs:{prop:"status",label:"状态",align:"center","min-width":"150px"}}),a("el-table-column",{attrs:{prop:"main_order_sn",label:"订单号",align:"center","min-width":"200px"}}),a("el-table-column",{attrs:{prop:"expiration_time",label:"有效日期",align:"center","min-width":"200px"}}),a("el-table-column",{attrs:{prop:"mall_alias_name",label:"绑定店铺",align:"center","min-width":"200px"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[i.mall_alias_name?a("el-tooltip",{attrs:{effect:"dark",placement:"top-start"}},[a("div",{staticStyle:{width:"200px",height:"auto"},attrs:{slot:"content"},slot:"content"},[e._v(e._s(i.mall_alias_name))]),a("el-button",{staticClass:"bindmallclass",attrs:{type:"text"}},[e._v(e._s(i.mall_alias_name))])],1):e._e()]}}])}),a("el-table-column",{attrs:{prop:"",label:"操作",align:"center","min-width":"450px",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("div",{staticStyle:{display:"flex"}},[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.openSoft(i.poxyIP,i.id)}}},[e._v("打开代理浏览器")]),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.showupdateVisible(i)}}},[e._v("修改绑定店铺")]),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.delInforFun(i.id)}}},[e._v("删除")]),i.isMiddleIP?a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.MiddleIP(i.id)}}},[e._v("刷新IP信息")]):e._e()],1)]}}])})],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"","current-page":e.page,"page-sizes":[20,50,100,200],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"update:currentPage":function(t){e.page=t},"update:current-page":function(t){e.page=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)]),a("div",{staticClass:"dialog_addip"},[a("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],class:{changeVisible:""===e.Typeis},attrs:{title:e.dialog_title,visible:e.dialogvisible,width:"1000px",height:"600px",top:"2vh","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.dialogvisible=t},closed:e.closeDialog1}},[a("div",{staticClass:"left"},["ipMaster"===e.Typeis?a("div",[a("div",{staticClass:"left_item"},[e._v(" ip区域： "),a("el-select",{attrs:{size:"mini"},on:{change:function(t){e.getPrice(),e.ipMaster_params.period=""}},model:{value:e.ipMaster_params.lineId,callback:function(t){e.$set(e.ipMaster_params,"lineId",t)},expression:"ipMaster_params.lineId"}},e._l(e.region_ipList,(function(e,t){return a("el-option",{key:"region"+t,attrs:{label:e.value,value:e.id}})})),1)],1),a("div",{staticClass:"left_item"},[e._v(" ip周期： "),a("el-select",{attrs:{size:"mini"},model:{value:e.ipMaster_params.period,callback:function(t){e.$set(e.ipMaster_params,"period",t)},expression:"ipMaster_params.period"}},e._l(e.time_ipList,(function(e,t){return a("el-option",{key:"time"+t,attrs:{label:e.period+"个月 / "+e.price+" 元",value:e.period}})})),1)],1),a("div",{staticClass:"left_item",staticStyle:{"margin-left":"-12px"}},[e._v(" 主体名称： "),a("el-input",{staticStyle:{width:"180px"},attrs:{clearable:"",size:"mini"},model:{value:e.ipMaster_params.ipAlias,callback:function(t){e.$set(e.ipMaster_params,"ipAlias",t)},expression:"ipMaster_params.ipAlias"}}),a("span",{staticStyle:{color:"red","margin-left":"200px"}},[e._v("(必填)")])],1),a("div",{staticClass:"left_item",staticStyle:{display:"flex","justify-content":"center"}},[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.addMasterFun()}}},[e._v("确定")])],1)]):e._e(),"ipPerson"===e.Typeis?a("div",[a("el-form",{ref:"query_person",attrs:{model:e.query_person,rules:e.httpRules,"label-width":"120px"}},[a("el-form-item",{attrs:{prop:"region_name"}},[a("span",{staticStyle:{color:"red","margin-right":"3px"},attrs:{slot:"label"},slot:"label"},[e._v("*")]),a("span",{attrs:{slot:"label"},slot:"label"},[e._v("IP区域：")]),a("el-select",{staticStyle:{width:"150px"},attrs:{size:"mini"},model:{value:e.query_person.region_name,callback:function(t){e.$set(e.query_person,"region_name",t)},expression:"query_person.region_name"}},e._l(e.region_ipListSelf,(function(e,t){return a("el-option",{key:"region"+t,attrs:{label:e.value,value:e.value}})})),1)],1),a("el-form-item",{attrs:{prop:"ip_alias"}},[a("span",{staticStyle:{color:"red"},attrs:{slot:"label"},slot:"label"},[e._v("*")]),a("span",{attrs:{slot:"label"},slot:"label"},[e._v("主体名称：")]),a("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"主体名称",size:"mini",clearable:""},model:{value:e.query_person.ip_alias,callback:function(t){e.$set(e.query_person,"ip_alias",t)},expression:"query_person.ip_alias"}})],1),a("el-form-item",{staticClass:"ipType",attrs:{prop:"ip_agency"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("自有IP类型：")]),a("el-radio-group",{staticStyle:{width:"150px"},model:{value:e.query_person.ip_agency,callback:function(t){e.$set(e.query_person,"ip_agency",t)},expression:"query_person.ip_agency"}},e._l(e.ipTypeList,(function(e){return a("el-radio",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"链接"!==e.query_person.ip_agency,expression:"query_person.ip_agency !== '链接'"}],key:"ip_address",attrs:{prop:"ip_address"}},[a("span",{staticStyle:{color:"red","margin-right":"3px"},attrs:{slot:"label"},slot:"label"},[e._v("*")]),a("span",{attrs:{slot:"label"},slot:"label"},[e._v("服务器IP：")]),a("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"请输入IP",size:"mini",clearable:""},model:{value:e.query_person.ip_address,callback:function(t){e.$set(e.query_person,"ip_address",t)},expression:"query_person.ip_address"}})],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"链接"!==e.query_person.ip_agency,expression:"query_person.ip_agency !== '链接'"}],key:"ip_port",attrs:{prop:"ip_port"}},[a("span",{staticStyle:{color:"red","margin-right":"3px"},attrs:{slot:"label"},slot:"label"},[e._v("*")]),a("span",{attrs:{slot:"label"},slot:"label"},[e._v("服务器端口：")]),a("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"请输入端口",size:"mini",clearable:""},model:{value:e.query_person.ip_port,callback:function(t){e.$set(e.query_person,"ip_port",t)},expression:"query_person.ip_port"}})],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"链接"!==e.query_person.ip_agency,expression:"query_person.ip_agency !== '链接'"}],key:"password",attrs:{prop:"password"}},[a("span",{directives:[{name:"show",rawName:"v-show",value:"http"!==e.query_person.ip_agency,expression:"query_person.ip_agency !== 'http'"}],staticStyle:{color:"red","margin-right":"3px"},attrs:{slot:"label"},slot:"label"},[e._v("*")]),a("span",{attrs:{slot:"label"},slot:"label"},[e._v("密码：")]),a("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"请输入密码",size:"mini",clearable:""},model:{value:e.query_person.password,callback:function(t){e.$set(e.query_person,"password",t)},expression:"query_person.password"}})],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"ssr"===e.query_person.ip_agency||"ss"===e.query_person.ip_agency,expression:"query_person.ip_agency === 'ssr' || query_person.ip_agency === 'ss'"}],key:"encryption",attrs:{prop:"encryption"}},[a("span",{staticStyle:{color:"red","margin-right":"3px"},attrs:{slot:"label"},slot:"label"},[e._v("*")]),a("span",{attrs:{slot:"label"},slot:"label"},[e._v("加密方式：")]),a("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"请选择",size:"mini"},model:{value:e.query_person.encryption,callback:function(t){e.$set(e.query_person,"encryption",t)},expression:"query_person.encryption"}},e._l(e.encryptionList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"ssr"===e.query_person.ip_agency,expression:"query_person.ip_agency === 'ssr'"}]},[a("el-form-item",{key:"protocol",attrs:{prop:"protocol"}},[a("span",{staticStyle:{color:"red","margin-right":"3px"},attrs:{slot:"label"},slot:"label"},[e._v("*")]),a("span",{attrs:{slot:"label"},slot:"label"},[e._v("协议：")]),a("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"请选择",size:"mini",clearable:""},model:{value:e.query_person.protocol,callback:function(t){e.$set(e.query_person,"protocol",t)},expression:"query_person.protocol"}},e._l(e.protocolList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{prop:"parameter"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("协议参数：")]),a("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"请输入协议参数",size:"mini",clearable:""},model:{value:e.query_person.parameter,callback:function(t){e.$set(e.query_person,"parameter",t)},expression:"query_person.parameter"}})],1),a("el-form-item",{key:"confuse",attrs:{prop:"confuse"}},[a("span",{staticStyle:{color:"red","margin-right":"3px"},attrs:{slot:"label"},slot:"label"},[e._v("*")]),a("span",{attrs:{slot:"label"},slot:"label"},[e._v("混淆：")]),a("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"请选择",clearable:"",size:"mini"},model:{value:e.query_person.confuse,callback:function(t){e.$set(e.query_person,"confuse",t)},expression:"query_person.confuse"}},e._l(e.confuseList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{prop:"argument"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("混淆参数：")]),a("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"请输入协议参数",size:"mini",clearable:""},model:{value:e.query_person.argument,callback:function(t){e.$set(e.query_person,"argument",t)},expression:"query_person.argument"}})],1)],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"http"===e.query_person.ip_agency,expression:"query_person.ip_agency === 'http'"}],attrs:{prop:"username"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("用户名：")]),a("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"请输入用户名",size:"mini",clearable:""},model:{value:e.query_person.username,callback:function(t){e.$set(e.query_person,"username",t)},expression:"query_person.username"}})],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"链接"===e.query_person.ip_agency,expression:"query_person.ip_agency === '链接'"}],attrs:{label:"链接"}},[a("span",{staticStyle:{color:"red","margin-right":"3px"},attrs:{slot:"label"},slot:"label"},[e._v("*")]),a("span",{attrs:{slot:"label"},slot:"label"},[e._v("链接")]),a("el-input",{staticStyle:{width:"150px"},attrs:{type:"textarea",resize:"none",rows:"5"},model:{value:e.query_person.link,callback:function(t){e.$set(e.query_person,"link",t)},expression:"query_person.link"}})],1)],1),a("div",{staticClass:"item",staticStyle:{"margin-left":"120px","margin-top":"2px"}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.addMallMainAndBind}},[e._v("保存")])],1)],1):e._e(),"updataMall"===e.Typeis?a("div",[a("el-form",{ref:"query_person",attrs:{model:e.query_person,rules:e.httpRules,"label-width":"120px"}},[a("el-form-item",{attrs:{prop:"region_name"}},[a("span",{staticStyle:{color:"red","margin-right":"3px"},attrs:{slot:"label"},slot:"label"},[e._v("*")]),a("span",{attrs:{slot:"label"},slot:"label"},[e._v("IP区域：")]),a("el-select",{staticStyle:{width:"150px"},attrs:{size:"mini",disabled:e.source1},model:{value:e.query_person.region_name,callback:function(t){e.$set(e.query_person,"region_name",t)},expression:"query_person.region_name"}},e._l(e.region_ipListSelf,(function(e,t){return a("el-option",{key:"region"+t,attrs:{label:e.value,value:e.value}})})),1)],1),a("el-form-item",{attrs:{prop:"ip_alias"}},[a("span",{staticStyle:{color:"red","margin-right":"3px"},attrs:{slot:"label"},slot:"label"},[e._v("*")]),a("span",{attrs:{slot:"label"},slot:"label"},[e._v("主体名称：")]),a("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"主体名称",size:"mini",clearable:""},model:{value:e.query_person.ip_alias,callback:function(t){e.$set(e.query_person,"ip_alias",t)},expression:"query_person.ip_alias"}})],1),a("el-form-item",{key:"ip_address",attrs:{prop:"ip_address"}},[a("span",{staticStyle:{color:"red","margin-right":"3px"},attrs:{slot:"label"},slot:"label"},[e._v("*")]),a("span",{attrs:{slot:"label"},slot:"label"},[e._v("服务器IP：")]),a("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"请输入IP",size:"mini",disabled:e.source1,clearable:""},model:{value:e.query_person.ip_address,callback:function(t){e.$set(e.query_person,"ip_address",t)},expression:"query_person.ip_address"}})],1),a("el-form-item",{key:"ip_port",attrs:{prop:"ip_port"}},[a("span",{staticStyle:{color:"red","margin-right":"3px"},attrs:{slot:"label"},slot:"label"},[e._v("*")]),a("span",{attrs:{slot:"label"},slot:"label"},[e._v("服务器端口：")]),a("el-input",{staticStyle:{width:"150px"},attrs:{disabled:e.source1,placeholder:"请输入端口",size:"mini",clearable:""},model:{value:e.query_person.ip_port,callback:function(t){e.$set(e.query_person,"ip_port",t)},expression:"query_person.ip_port"}})],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!e.query_person.linkType,expression:"!query_person.linkType"}],key:"password",attrs:{prop:"password"}},[a("span",{directives:[{name:"show",rawName:"v-show",value:"http"!==e.query_person.ip_agency,expression:"query_person.ip_agency !== 'http'"}],staticStyle:{color:"red","margin-right":"3px"},attrs:{slot:"label"},slot:"label"},[e._v("*")]),a("span",{attrs:{slot:"label"},slot:"label"},[e._v("密码：")]),a("el-input",{staticStyle:{width:"150px"},attrs:{"show-password":"",placeholder:"请输入密码",size:"mini",clearable:""},model:{value:e.query_person.password,callback:function(t){e.$set(e.query_person,"password",t)},expression:"query_person.password"}})],1),"ssr"===e.query_person.ip_agency?a("div",[a("el-form-item",{key:"encryption",attrs:{prop:"encryption"}},[a("span",{staticStyle:{color:"red","margin-right":"3px"},attrs:{slot:"label"},slot:"label"},[e._v("*")]),a("span",{attrs:{slot:"label"},slot:"label"},[e._v("加密方式：")]),a("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"请选择",size:"mini"},model:{value:e.query_person.encryption,callback:function(t){e.$set(e.query_person,"encryption",t)},expression:"query_person.encryption"}},e._l(e.encryptionList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{key:"protocol",attrs:{prop:"protocol"}},[a("span",{staticStyle:{color:"red","margin-right":"3px"},attrs:{slot:"label"},slot:"label"},[e._v("*")]),a("span",{attrs:{slot:"label"},slot:"label"},[e._v("协议：")]),a("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"请选择",size:"mini",clearable:""},model:{value:e.query_person.protocol,callback:function(t){e.$set(e.query_person,"protocol",t)},expression:"query_person.protocol"}},e._l(e.protocolList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{prop:"parameter"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("协议参数：")]),a("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"请输入协议参数",size:"mini",clearable:""},model:{value:e.query_person.parameter,callback:function(t){e.$set(e.query_person,"parameter",t)},expression:"query_person.parameter"}})],1),a("el-form-item",{key:"confuse",attrs:{prop:"confuse"}},[a("span",{staticStyle:{color:"red","margin-right":"3px"},attrs:{slot:"label"},slot:"label"},[e._v("*")]),a("span",{attrs:{slot:"label"},slot:"label"},[e._v("混淆：")]),a("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"请选择",clearable:"",size:"mini"},model:{value:e.query_person.confuse,callback:function(t){e.$set(e.query_person,"confuse",t)},expression:"query_person.confuse"}},e._l(e.confuseList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{prop:"argument"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("混淆参数：")]),a("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"请输入协议参数",size:"mini",clearable:""},model:{value:e.query_person.argument,callback:function(t){e.$set(e.query_person,"argument",t)},expression:"query_person.argument"}})],1)],1):e._e(),"http"===e.query_person.ip_agency||"HTTP"===e.query_person.ip_agency?a("el-form-item",{attrs:{prop:"username"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("用户名：")]),a("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"请输入用户名",size:"mini",clearable:""},model:{value:e.query_person.username,callback:function(t){e.$set(e.query_person,"username",t)},expression:"query_person.username"}})],1):e._e(),a("el-form-item",{staticClass:"formdata",attrs:{label:"有效日期"}},[a("el-date-picker",{staticStyle:{width:"194px"},attrs:{type:"datetime",placeholder:"选择日期时间",size:"mini",disabled:!0},model:{value:e.query_person.dataTime,callback:function(t){e.$set(e.query_person,"dataTime",t)},expression:"query_person.dataTime"}})],1)],1),a("div",{staticClass:"item",staticStyle:{"margin-left":"120px","margin-top":"2px"}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.updataDesc()}}},[e._v("更新主体IP信息")])],1)],1):e._e()]),a("div",{staticClass:"right"},[a("div",{staticClass:"right_condition"},[a("div",{staticStyle:{display:"flex",margin:"4px 0px","flex-flow":"column"}},[a("div",{staticStyle:{display:"flex"}},[a("Storechoosemall",{key:e.changeIndex,staticStyle:{"margin-left":"-20px"},attrs:{"is-all":!0,"show-mall":!1},on:{changeMallList:e.changeMallList2,getSite:e.changeSite}}),a("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"primary",size:"mini"},on:{click:e.getMallList}},[e._v("查询")])],1),a("div",[a("el-checkbox",{staticStyle:{margin:"4px 0px"},on:{change:e.bindedMall},model:{value:e.showUserIP,callback:function(t){e.showUserIP=t},expression:"showUserIP"}},[e._v("显示已绑定ip店铺")])],1)]),a("div",{staticClass:"right_table",staticStyle:{border:"1px solid #c0c4cc",width:"700px"}},[a("el-table",{ref:"multipleTable_dialog",attrs:{height:"400px","header-cell-style":{background:"#f7fafa"},data:e.dialog_mallList},on:{"selection-change":e.handleSelectionChangeDialog}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{type:"index",label:"序号",align:"center"}}),a("el-table-column",{attrs:{prop:"country",label:"站点",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(e._f("chineseSite")(a.country))+" ")]}}])}),a("el-table-column",{attrs:{prop:"mall_alias_name",label:"店铺名称",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.mall_alias_name?i.mall_alias_name:i.platform_mall_name))])]}}])}),a("el-table-column",{attrs:{prop:"main_name",label:"已绑定公司主体名称"}})],1)],1),a("div",{staticStyle:{display:"flex","justify-content":"center","margin-top":"5px"}},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.showButton,expression:"showButton"}],attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.updataMallList()}}},[e._v("更新绑定店铺信息")])],1)])])])],1)])},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{margin:"10px"}},[a("div",{staticStyle:{"font-size":"smaller",color:"red"}},[e._v(" 温馨提示：1.因为IP为实时购买，所以购买后不会立即生成IP信息。IP信息会在三分钟内生成 2.一个主体IP最多绑定10个店铺 3.若状态为【已绑定，已分配店铺】，但绑定店铺为空，则表示 店铺不存在此账号 ")]),a("div",{staticStyle:{"font-size":"smaller",color:"red","margin-left":"60px","margin-top":"5px"}},[e._v(" 3.所有的IP的过期后，将无法进行续费，请在IP有效期内续费。 4、系统的香港IP（非香港名称）过期后，会被自动回收，回收后将不在显示代理IP信息 ")])])}],l=a("2909"),s=a("1da1"),n=(a("96cf"),a("d3b7"),a("25f0"),a("159b"),a("c740"),a("a9e3"),a("9911"),a("ac1f"),a("5319"),a("caad"),a("2532"),a("b0c0"),a("d81d"),a("a15b"),a("fb6a"),a("63c1"),a("7558")),o=a("feb6"),c=a("0e0b"),u=[{label:"none",value:"none"},{label:"aes-128-ctr",value:"aes-128-ctr"},{label:"aes-192-ctr",value:"aes-192-ctr"},{label:"aes-256-ctr",value:"aes-256-ctr"},{label:"aes-128-cfb",value:"aes-128-cfb"},{label:"aes-192-cfb",value:"aes-192-cfb"},{label:"aes-256-cfb",value:"aes-256-cfb"},{label:"rc4",value:"rc4"},{label:"rc4-md5",value:"rc4-md5"},{label:"rc4-md5-6",value:"rc4-md5-6"},{label:"salsa20",value:"salsa20"},{label:"chacha20",value:"chacha20"},{label:"xsalsa20",value:"xsalsa20"},{label:"xchacha20",value:"xchacha20"},{label:"chacha20-ietf",value:"chacha20-ietf"},{label:"chacha20-ietf-poly1305",value:"chacha20-ietf-poly1305"}],p=[{value:"ssr",label:"ssr"},{value:"ss",label:"ss"},{value:"http",label:"http"},{value:"链接",label:"链接"}],d=[{label:"origin",value:"origin"},{label:"verify_deflate",value:"verify_deflate"},{label:"auth_sha1_v4",value:"auth_sha1_v4"},{label:"auth_aes128_md5",value:"auth_aes128_md5"},{label:"auth_aes128_sha1",value:"auth_aes128_sha1"},{label:"auth_chain_a",value:"auth_chain_a"},{label:"auth_chain_b",value:"auth_chain_b"},{label:"auth_chain_c",value:"auth_chain_c"},{label:"auth_chain_d",value:"auth_chain_d"},{label:"auth_chain_e",value:"auth_chain_e"},{label:"auth_chain_f",value:"auth_chain_f"}],h=[{label:"plain",value:"plain"},{label:"http_simple",value:"http_simple"},{label:"http_post",value:"http_post"},{label:"random_head",value:"random_head"},{label:"tls1.2_ticket_auth",value:"tls1.2_ticket_auth"},{label:"tls1.2_ticket_fastauth",value:"tls1.2_ticket_fastauth"}],m=[{label:"香港",value:"香港"},{label:"大陆",value:"大陆"},{label:"泰国",value:"泰国"},{label:"马来",value:"马来"},{label:"新加坡",value:"新加坡"},{label:"菲律宾",value:"菲律宾"},{label:"印尼",value:"印尼"},{label:"越南",value:"越南"},{label:"台湾",value:"台湾"}],_=(a("5c24"),{components:{Storechoosemall:n["a"],storeChoose:o["a"]},data:function(){return{bindMalltable:[],changeIndex:0,dialogMallquery:{country:"",mallGroupIds:[]},rowData:"",bindindex:[],bindMalList:[],region_ipListSelf:m,loading:!1,showButton:!1,targetId:"",dialog_selectMallList:[],ipMaster_params:{lineId:"",uid:"",uuid:"",ipAlias:"",num:"1",period:"",isPresale:"2"},dialog_title:"",Typeis:"",mulSelect:[],dialogvisible:!1,encryptionList:u,ipTypeList:p,updata_Params:{uid:"",targetId:"",mallIds:""},httpRules:{},protocolList:d,confuseList:h,source1:!1,query_person:{username:"",password:"",ip_address:"",ip_port:"",ip_alias:"",ip_agency:"ssr",encryption:"",protocol:"",confuse:"",uid:"",uuid:"",channel_code:"",channel_name:"",region_name:"",area_name:"",parameter:"",argument:"",map_ip_address:"",map_ip_port:"",IPLink:"",dataTime:""},dialog_mallList:[],dialog_mallList_all:[],showUserIP:!1,ipName:"",time_ipList:[],time_ip:"1",region_ip:"",region_ipList:[{id:1,value:"新加坡"},{id:2,value:"泰国-曼谷"},{id:3,value:"菲律宾-预售"}],tableList:[],tableListEnd:[],page:1,pageSize:50,total:0,siteList:[{id:1,value:"美国"},{id:2,value:"中国"},{id:3,value:"英国"}],query:{mall_ids:"",expiration_dates:"",statius:"",ip_address:"",supplier_info:"",source:"",ip_alias:""},cloumn_date:[],pickerOptions:{disabledDate:function(e){}},showRMB:!0,showLog:!0,shopAccountList:[]}},mounted:function(){this.getInfo(),this.GetCloudIPAreaList()},methods:{MiddleIP:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,r,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i={targetId:e.toString()},a.prev=2,a.next=5,t.$commodityService.RefreshLinkIp(i.targetId);case 5:r=a.sent,l=JSON.parse(r),200===l.code?t.$message.success("IP更新成功"):t.$message.warning("IP更新失败"+l.message),a.next=14;break;case 11:a.prev=11,a.t0=a["catch"](2),t.$message.warning("IP更新失败"+"".concat(a.t0));case 14:case"end":return a.stop()}}),a,null,[[2,11]])})))()},addFun:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.Typeis="ipMaster",e.dialogvisible=!0,e.showButton=!1,e.dialog_title="新增公司主体",e.changeIndex++,e.getMallList();case 6:case"end":return t.stop()}}),t)})))()},addSelfFun:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.Typeis="ipPerson",e.dialogvisible=!0,e.showButton=!1,e.dialog_title="新增自有IP公司主体",e.changeIndex++,e.getMallList();case 6:case"end":return t.stop()}}),t)})))()},lostIP:function(){var e=this;this.mulSelect.length<=0||this.mulSelect.length>1?this.$message.warning("请选择一个解绑的主体"):this.$confirm("确定要解绑1个主体的IP吗？，解绑之后可能存在店铺IP关联的风险和台湾站点不能回粉操作","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.lostIPFun()}))},lostIPFun:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,i,r,l,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,a=[],i=e.mulSelect[0].target_mall_info,i&&i.length>0&&i.forEach((function(e){a.push(e.mall_id)})),r=e.mulSelect[0].id.toString(),t.prev=5,t.next=8,e.$YipService.BusinessunbindiP(r);case 8:return l=t.sent,e.loading=!1,s=JSON.parse(l),200===s.code?e.$message.success("解绑成功"):e.$message.error(s.message),e.$refs.multipleTable.clearSelection(),t.next=15,e.$BaseUtilService.UpdateProxy();case 15:t.sent,e.getTableList(),t.next=22;break;case 19:t.prev=19,t.t0=t["catch"](5),e.loading=!1;case 22:case"end":return t.stop()}}),t,null,[[5,19]])})))()},closeDialog1:function(){this.query_person={username:"",password:"",ip_address:"",ip_port:"",ip_alias:"",ip_agency:"ssr",encryption:"",protocol:"",confuse:"",uid:"",uuid:"",channel_code:"",channel_name:"",region_name:"",area_name:"",parameter:"",argument:"",map_ip_address:"",map_ip_port:"",IPLink:"",dataTime:""},this.ipMaster_params={lineId:"",uid:"",uuid:"",ipAlias:"",num:"1",period:"",isPresale:"2"},this.showUserIP=!1,this.rowData="",this.$refs.multipleTable_dialog.clearSelection()},delInforFun:function(e){var t=this,a=e;this.$confirm("确定要删除数据吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.delInfor(a)}))},delInfor:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,r,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i=e.toString(),t.loading=!0,a.next=4,t.$YipService.delInfor(i);case 4:return r=a.sent,t.loading=!1,l=JSON.parse(r),-1===l.code?t.$message.error(l.message):t.$message.success("删除成功"),a.next=10,t.$BaseUtilService.UpdateProxy();case 10:a.sent,t.getTableList();case 12:case"end":return a.stop()}}),a)})))()},getInfo:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:Object(c["s"])().then((function(t){e.shopAccountList=t,e.query.mall_ids="",e.dialogMallquery.mallGroupIds=[],e.shopAccountList.forEach((function(t){e.dialogMallquery.mallGroupIds.push(t.group_id)})),e.getTableList()}));case 1:case"end":return t.stop()}}),t)})))()},selectFun:function(){var e=this,t=this.rowData;this.dialog_mallList=this.dialog_mallList_all,this.$nextTick((function(){e.$refs.multipleTable_dialog&&e.$refs.multipleTable_dialog.clearSelection()})),t.target_mall_info&&t.target_mall_info.length>0&&t.target_mall_info.forEach((function(t){var a=e.dialog_mallList.findIndex((function(e){return Number(e.id)===Number(t.mall_id)}));a>-1&&e.$nextTick((function(){e.$refs.multipleTable_dialog.toggleRowSelection(e.dialog_mallList[a],!0)}))}))},showupdateVisible:function(e){this.dialogvisible=!0,this.changeIndex++,this.showButton=!0,this.dialog_title="修改绑定店铺",this.Typeis="updataMall",this.targetId=e.id,this.bindindex=[],this.bindMalList=[],this.dialogMallquery.country="",this.rowData=e,this.getMallList();var t=e;this.query_person={target_id:e.id,source:"系统"===e.source?1:2,region_name:t.data_ipinfor.region_name,ip_address:t.data_ipinfor.ip_address,ip_port:t.data_ipinfor.port,ip_agency:t.data_ipinfor.ip_agency,ip_alias:t.ip_alias,username:t.data_ipinfor.username,password:t.data_ipinfor.password,encryption:t.data_ipinfor.encryption,protocol:t.data_ipinfor.protocol,parameter:t.data_ipinfor.parameter,confuse:t.data_ipinfor.confuse,argument:t.data_ipinfor.argument,dataTime:"2030-01-01 00:00:00",linkType:t.data_ipinfor.is_link||""},1===Number(this.query_person.source)&&(this.source1=!0)},updataDesc:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.query_person,"ssr"!==e.query_person.ip_agency){t.next=5;break}if(""!==e.query_person.ip_alias&&""!==e.query_person.ip_address&&""!==e.query_person.ip_port&&""!==e.query_person.password&&""!==e.query_person.encryption&&""!==e.query_person.protocol&&""!==e.query_person.confuse){t.next=5;break}return e.$message.warning("必填信息不能为空"),t.abrupt("return");case 5:if("ss"!==e.query_person.ip_agency){t.next=9;break}if(""!==e.query_person.ip_alias&&""!==e.query_person.ip_address&&""!==e.query_person.ip_port&&""!==e.query_person.password){t.next=9;break}return e.$message.warning("必填信息不能为空"),t.abrupt("return");case 9:if("http"!==e.query_person.ip_agency&&!e.query_person.linkType){t.next=13;break}if(""!==e.query_person.ip_alias&&""!==e.query_person.ip_address&&""!==e.query_person.ip_port){t.next=13;break}return e.$message.warning("必填信息不能为空"),t.abrupt("return");case 13:if(1!==Number(e.query_person.source)||""!==e.query_person.ip_alias){t.next=16;break}return e.$message.warning("主体名称不能为空"),t.abrupt("return");case 16:return t.prev=16,e.loading=!0,t.next=20,e.$YipService.UpdateSelfIP(JSON.stringify(e.query_person));case 20:a=t.sent,e.loading=!1,i=JSON.parse(a),200===i.code?e.$message.success("修改成功"):e.$message.error(i.message),e.dialogvisible=!1,e.getTableList(),e.closeDialog1(),t.next=32;break;case 29:t.prev=29,t.t0=t["catch"](16),e.loading=!1;case 32:case"end":return t.stop()}}),t,null,[[16,29]])})))()},getMallList:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,i,r,l,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={country:e.dialogMallquery.country,mallGroupIds:e.dialogMallquery.mallGroupIds.toString()},e.loading=!0,i=[],t.next=5,e.$api.ddMallGoodsGetMallList(a);case 5:if(r=t.sent,e.loading=!1,200===r.data.code){for(i=r.data.data,l=function(t){for(var a=0;a<e.bindMalltable.length;a++){var r=e.bindMalltable[a].bindmall.findIndex((function(e){return Number(i[t].id)===Number(e.mall_id)}));r>=0&&(i[t].main_name=e.bindMalltable[a].main_name)}},s=0;s<i.length;s++)l(s);e.dialog_mallList_all=i}else e.$message.warning("店铺列表获取失败！");e.bindedMall();case 9:case"end":return t.stop()}}),t)})))()},updataMallList:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,i,r,l,s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!("1"===e.rowData._source&&e.dialog_selectMallList.length>10)){t.next=3;break}return e.$message.warning("一个系统IP最多绑定10个店铺"),t.abrupt("return");case 3:return t.next=5,e.$appConfig.getUserInfo();case 5:return a=t.sent,i=a.muid.toString(),r=e.targetId.toString(),l=e.dialog_selectMallList.toString()||"",t.prev=9,e.loading=!0,t.next=13,e.$commodityService.newBangdingMall(i,r,l);case 13:if(s=t.sent,e.loading=!1,n=JSON.parse(s),200===n.code){t.next=20;break}e.$message.error(n.message),t.next=24;break;case 20:return e.$message.success("绑定成功"),t.next=23,e.$BaseUtilService.UpdateProxy();case 23:t.sent;case 24:t.next=29;break;case 26:t.prev=26,t.t0=t["catch"](9),e.loading=!1;case 29:e.dialogvisible=!1,e.rowData="",e.getTableList(),e.$refs.multipleTable_dialog.clearSelection();case 33:case"end":return t.stop()}}),t,null,[[9,26]])})))()},getDialogMallList:function(){},bindedMall:function(){if(this.showUserIP)this.selectFun();else{var e=[];this.dialog_mallList_all.forEach((function(t){t.main_name||e.push(t)})),this.dialog_mallList=e}},handleSelectionChangeDialog:function(e){var t=this;this.dialog_selectMallList=[],e.forEach((function(e){t.dialog_selectMallList.push(e.id)}))},openSoft:function(e,t){var a=this;return Object(s["a"])(regeneratorRuntime.mark((function i(){var r,l;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return r={proxy_ip:e,proxy_id:t},i.next=3,a.$BaseUtilService.OpenProxyWeb(JSON.stringify(r));case 3:l=i.sent,null===l||a.$message.error("网络错误");case 5:case"end":return i.stop()}}),i)})))()},clearIP:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.$BaseUtilService.UpdateProxy();case 3:a=t.sent,e.loading=!1,null===a&&e.$message.success("清理成功");case 6:case"end":return t.stop()}}),t)})))()},updataMall:function(){},randomWord:function(e,t,a){var i="",r=t,l=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];e&&(r=Math.round(Math.random()*(a-t))+t);for(var s=0;s<r;s++){var n=Math.round(Math.random()*(l.length-1));i+=l[n]}return i},addMallMainAndBind:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,i,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!==e.query_person.region_name&&""!==e.query_person.ip_alias){t.next=3;break}return e.$message.warning("必填信息不能为空"),t.abrupt("return");case 3:if("ssr"!==e.query_person.ip_agency){t.next=7;break}if(""!==e.query_person.ip_address&&""!==e.query_person.ip_port&&""!==e.query_person.password&&""!==e.query_person.encryption&&""!==e.query_person.protocol&&""!==e.query_person.confuse){t.next=7;break}return e.$message.warning("必填信息不能为空"),t.abrupt("return");case 7:if("ss"!==e.query_person.ip_agency){t.next=11;break}if(""!==e.query_person.ip_port&&""!==e.query_person.ip_address&&""!==e.query_person.password&&""!==e.query_person.encryption){t.next=11;break}return e.$message.warning("必填信息不能为空"),t.abrupt("return");case 11:if("http"!==e.query_person.ip_agency){t.next=15;break}if(""!==e.query_person.ip_address&&""!==e.query_person.ip_port){t.next=15;break}return e.$message.warning("必填信息不能为空"),t.abrupt("return");case 15:if("链接"!==e.query_person.ip_agency){t.next=19;break}if(""!==e.query_person.link){t.next=19;break}return e.$message.warning("链接不能为空"),t.abrupt("return");case 19:return t.next=21,e.$appConfig.getUserInfo();case 21:return a=t.sent,e.query_person.uid=a.muid,e.query_person.uuid=a.child_id,e.loading=!0,t.next=27,e.$YipService.AddSelfIP(JSON.stringify(e.query_person));case 27:if(i=t.sent,e.loading=!1,r=JSON.parse(i),200===r.code){t.next=34;break}e.$message.error(r.message),t.next=42;break;case 34:return e.$message.success("IP保存成功"),e.targetId=r.data,e.dialog_selectMallList.length>0&&e.updataMallList(),t.next=39,e.$BaseUtilService.UpdateProxy();case 39:t.sent,e.getTableList(),e.dialogvisible=!1;case 42:case"end":return t.stop()}}),t)})))()},del:function(e){},search:function(){this.getTableList()},timeToMonth:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,r,l,s,n,o,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!(t.mulSelect.length<=0)){a.next=4;break}t.$message.warning("请选择要续费的主体"),a.next=24;break;case 4:return t.loading=!0,a.next=7,t.$appConfig.getUserInfo();case 7:return i=a.sent,r=[],t.mulSelect.forEach((function(e){r.push(e.id)})),l=r.toString()||"",s=String(i.muid),n=String(i.child_id),a.next=16,t.$YipService.RenewIP(l,s,n,String(e));case 16:return o=a.sent,t.loading=!1,c=JSON.parse(o),-1===c.code?t.$message.error(c):t.$message.success("续费成功"),t.$refs.multipleTable.clearSelection(),a.next=23,t.$BaseUtilService.UpdateProxy();case 23:a.sent;case 24:case"end":return a.stop()}}),a)})))()},GetIPPrice:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a="",t.next=3,e.$YipService.GetIPPrice(a);case 3:t.sent;case 4:case"end":return t.stop()}}),t)})))()},addMasterFun:function(){var e=this;this.$confirm("您确定要购买一个新的IP吗?","购买提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.addMaster()})).catch((function(){}))},addMaster:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,i,r,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!==e.ipMaster_params.ipAlias){t.next=3;break}return e.$message.warning("主体名称不能为空！"),t.abrupt("return",!1);case 3:if(!(e.dialog_selectMallList.length>0)){t.next=6;break}return e.$message.warning("新增IP主体时不能同时绑定店铺，购买成功后再进行绑定店铺！"),t.abrupt("return",!1);case 6:return t.next=8,e.$appConfig.getUserInfo();case 8:return a=t.sent,e.ipMaster_params.uid=a.muid,e.ipMaster_params.uuid=a.child_id,i=e.ipMaster_params,e.loading=!0,t.prev=13,t.next=16,e.$commodityService.addIPMaster(i);case 16:if(r=t.sent,e.loading=!1,t.prev=18,"string"!==typeof JSON.parse(r)){t.next=22;break}return e.$message.error(r),t.abrupt("return");case 22:t.next=28;break;case 24:return t.prev=24,t.t0=t["catch"](18),e.$message.error(r),t.abrupt("return");case 28:return l=JSON.parse(r),-1===l.code?e.$confirm(l.message,"购买提示",{confirmButtonText:"确定",type:"warning"}):e.$message.success("新增成功"),t.next=32,e.$BaseUtilService.UpdateProxy();case 32:t.sent,e.getTableList(),e.dialogvisible=!1,e.closeDialog1(),t.next=41;break;case 38:t.prev=38,t.t1=t["catch"](13),e.loading=!1;case 41:case"end":return t.stop()}}),t,null,[[13,38],[18,24]])})))()},generateUUID:function(){var e=(new Date).getTime();window.performance&&"function"===typeof window.performance.now&&(e+=performance.now());var t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var a=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?a:3&a|8).toString(16)}));return t},handleSelectionChange:function(e){this.mulSelect=e},changeMallList2:function(e){var t=this;this.dialogMallquery.mallGroupIds=[],e&&e.length>0&&e.forEach((function(e){t.dialogMallquery.mallGroupIds.push(e.group_id)}))},changeSite:function(e){this.dialogMallquery.country=e},GetCloudIPAreaList:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$YipService.GetCloudIPAreaList();case 2:a=t.sent,e.loading=!1,i=JSON.parse(a),-1===i.code?e.$message.error("ip数据请求失败"):(e.region_ipList=[],i.data.forEach((function(t){t.area_list.forEach((function(t){t.name.includes("特惠")?e.region_ipList.unshift({id:t.channel_list[0].lineid,value:t.name}):e.region_ipList.push({id:t.channel_list[0].lineid,value:t.name})}))})));case 6:case"end":return t.stop()}}),t)})))()},getPrice:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,i,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={line_id:e.ipMaster_params.lineId.toString()||"",is_renewal:"0"},t.prev=1,t.next=4,e.$YipService.getprice(a.line_id,a.is_renewal);case 4:i=t.sent,r=JSON.parse(i),200===r.code?e.time_ipList=r.data.period_info:e.$message.warning(r.message),t.next=11;break;case 9:t.prev=9,t.t0=t["catch"](1);case 11:case"end":return t.stop()}}),t,null,[[1,9]])})))()},changeMallList:function(e){this.query.mall_ids="",e.searchAll?this.query.mall_ids=Object(l["a"])(e.mallList.map((function(e){return e.id}))).toString():this.query.mall_ids=""},getTableList:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,i,r,l,s,n,o,u,p;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,a={},t.next=4,e.$appConfig.getUserInfo();case 4:return i=t.sent,a.uid=i.muid,a.uuid=i.child_id,a.ip_id="",a.ip_alias=e.query.ip_alias,a.source=e.query.source,a.statius=e.query.statius,a.ip_address=e.query.ip_address,a.supplier_info=e.query.supplier_info,a.expiration_datesg=e.cloumn_date&&e.cloumn_date.length>0?e.cloumn_date.join("/").toString():"",a.mall_ids=e.query.mall_ids||"",t.prev=15,t.next=18,e.$YipService.GetIpList(JSON.stringify(a));case 18:if(r=t.sent,e.loading=!1,e.tableList=[],e.bindMalltable=[],l=JSON.parse(r),200!==l.code){t.next=52;break}if(!(l.data&&l.data.length>0)){t.next=48;break}s=0;case 26:if(!(s<l.data.length)){t.next=46;break}return n=l.data[s],n.mall_alias_name="",e.shopAccountList.length>0&&n.target_mall_info&&n.target_mall_info.length>0&&function(){var t=[];e.bindMalltable.push({main_name:n.ip_alias,bindmall:n.target_mall_info}),n.target_mall_info.forEach((function(a){var i=Object(c["b"])(e.shopAccountList,"label","id",a.mall_id);i&&t.push(i)})),n.mall_alias_name=t.toString()}(),n.poxyIP="",n.poxyID="",t.next=34,e.$YipService.GetIPinfor(n.ip_info);case 34:o=t.sent,u=JSON.parse(o),n.poxyID=u.id,n.poxyIP=u.map_ip_address,n.data_ipinfor=u,n.isMiddleIP=!1,p=new Date(n.expiration_time).getTime(),p>(new Date).getTime()&&("系统"===n.source&&0===Number(n.data_ipinfor.is_old)||"用户"===n.source&&1===Number(n.data_ipinfor.is_link))&&(n.isMiddleIP=!0),e.tableList.push(n);case 43:s++,t.next=26;break;case 46:t.next=49;break;case 48:e.tableList=[];case 49:e.chang(),t.next=52;break;case 52:t.next=58;break;case 54:t.prev=54,t.t0=t["catch"](15),e.loading=!1,e.$message.error(t.t0);case 58:case"end":return t.stop()}}),t,null,[[15,54]])})))()},chang:function(){this.total=this.tableList.length,this.page=1,this.tableListEnd=this.tableList.slice((this.page-1)*this.pageSize,this.page*this.pageSize)},indexMethod:function(e){return e=e+1+(this.page-1)*this.pageSize,e},initDate:function(){var e=new Date,t=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()+" 23:59:59",a=e.getFullYear()+"-"+e.getMonth()+"-"+e.getDate()+" 23:59:59";this.cloumn_date=[a,t],this.cloumn_date&&this.cloumn_date.length>0&&this.cloumn_date.join("/").toString()},handleSizeChange:function(e){this.pageSize=e,this.handleCurrentChange(this.page)},handleCurrentChange:function(e){this.page=e,this.currentChangePage(this.tableList,e)},currentChangePage:function(e,t){var a=(t-1)*this.pageSize,i=t*this.pageSize;for(this.tableDataEnd=[];a<i;a++)e[a]&&this.tableListEnd.push(e[a])}}}),g=_,f=(a("1fab0"),a("2877")),b=Object(f["a"])(g,i,r,!1,null,null,null);t["default"]=b.exports},e6ee:function(e,t,a){},fd04:function(e,t,a){},feb6:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("ul",{staticClass:"storeChooseUL"},[e.isMall?a("li",[e._v(e._s(e._f("chineseSite")(e.countryVal)))]):a("li",{style:e.isReset&&"margin-bottom: 5px"},[a("span",{style:{width:e.spanWidth}},[e._v("所属站点：")]),a("el-select",{staticClass:"siteSelectBox",attrs:{size:"mini",filterable:"",disabled:e.isBanPerform},model:{value:e.countryVal,callback:function(t){e.countryVal=t},expression:"countryVal"}},[e.isAll?a("el-option",{attrs:{label:"全部",value:""}}):e._e(),e._l(e.countries,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})}))],2)],1),a("li",{style:e.isReset&&"margin-bottom: 5px"},[a("span",{style:{width:e.spanWidth}},[e._v("店铺分组：")]),a("el-select",{staticClass:"selectBox",attrs:{disabled:e.isBanPerform,multiple:"","collapse-tags":"",filterable:"",size:"mini"},model:{value:e.groupId,callback:function(t){e.groupId=t},expression:"groupId"}},e._l(e.groupIdList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.group_name,value:e.id}})})),1)],1),a("li",{style:e.isReset&&"margin-bottom: 5px"},[a("span",{style:{width:e.spanWidth}},[e._v("店铺名称：")]),a("el-select",{directives:[{name:"loadmore",rawName:"v-loadmore",value:e.loadmoreMall,expression:"loadmoreMall"}],staticClass:"selectBox",attrs:{disabled:e.isBanPerform,placeholder:"",multiple:!e.isAShop,"collapse-tags":"","filter-method":e.filterMall,size:"mini",filterable:"",clearable:""},on:{"visible-change":function(t){return e.filterMall("")}},model:{value:e.site,callback:function(t){e.site=t},expression:"site"}},[e.isAShop?e._e():a("el-option",{attrs:{label:"全部",value:""}}),e._l(e.siteShowList,(function(t,i){return e.showMall(t,i)?a("el-option",{key:i,attrs:{label:t.mall_alias_name||t.platform_mall_name,value:t.platform_mall_id}}):e._e()}))],2)],1),e.isReset?a("li",{staticStyle:{"margin-bottom":"5px","margin-left":"25px"}},[a("el-button",{staticStyle:{"justify-self":"self-end"},attrs:{size:"mini",type:"primary",disabled:e.isBanPerform},on:{click:e.reset}},[e._v("　刷　　新　")])],1):e._e()])])},r=[],l=a("1da1"),s=a("b85c"),n=a("2909"),o=(a("96cf"),a("d81d"),a("fb6a"),a("caad"),a("2532"),a("d3b7"),a("25f0"),a("99af"),a("6062"),a("3ca3"),a("ddb0"),a("4de4"),a("159b"),a("c740"),a("7db0"),a("7646")),c=a("2b0e");c["default"].directive("loadmore",{bind:function(e,t){var a=e.querySelector(".el-select-dropdown .el-select-dropdown__wrap");a.addEventListener("scroll",(function(){this.scrollHeight-this.scrollTop<=this.clientHeight+50?t.value(!0,this):this.scrollTop<30&&t.value(!1,this)}))}});var u={name:"StoreChoose",props:{spanWidth:{type:String,default:"80px"},parentCountry:{type:String,default:"TH"},isMall:{type:Boolean,default:function(){return!1}},isBanPerform:{type:Boolean,default:function(){return!1}},isAll:{type:Boolean,default:function(){return!1}},isReset:{type:Boolean,default:function(){return!1}},source:{type:String,default:function(){return""}},isAShop:{type:Boolean,default:function(){return!1}}},data:function(){return{isAllowSet1:!0,isAllowSet2:!0,countryVal:null,groupId:[],groupIdList:[],site:[],siteList:[],siteShowList:[],countries:this.$filters.countries_option,mallListAPIInstance:new o["a"](this),isShowName:"",isShowNameAll:!1,showMallNumber:100,mallShowIndex:0,jsonMallData:[],filterMallTime:null}},watch:{siteList:function(e){this.siteShowList=e},countryVal:{handler:function(e,t){this.isShowName="",this.isAllowSet2=!1,this.groupId=[],this.groupIdList=[],this.ddMallGoodsGetMallList(1)},deep:!0},groupId:{handler:function(e,t){var a=this;if(this.isAllowSet2){this.isShowName="",this.isAllowSet2=!1;var i=t.indexOf("")>-1,r=e.indexOf("")>-1;i!==r?this.groupId=r?Object(n["a"])(this.groupIdList.map((function(e){return e.id}))):[]:r?this.groupId=e.slice(1):this.groupIdList.length>0&&this.groupId.length===this.groupIdList.length-1&&this.groupId.unshift(""),setTimeout((function(){a.isAllowSet2=!0,a.ddMallGoodsGetMallList(2)}),10)}},deep:!0},site:{handler:function(e,t){var a=this;if(this.isAllowSet1){this.isAllowSet1=!1;var i=this.isShowName;if(!this.isAShop){var r=t.includes(""),l=e.includes("");if(r!==l||t.toString()===e.toString()&&this.isShowNameAll)if(l&&(!i||i&&!this.isShowNameAll)){var o=i&&Object(n["a"])(this.siteShowList.map((function(e){return e.platform_mall_id})))||[""].concat(Object(n["a"])(this.siteList.map((function(e){return e.platform_mall_id})))),c=new Set([].concat(Object(n["a"])(o),Object(n["a"])(t)));this.site=Object(n["a"])(c),this.isShowNameAll=!0,i&&this.siteList.length===this.site.length&&this.site.unshift("")}else{this.isShowNameAll=!1;var u=[];if(i){var p=i&&Object(n["a"])(this.siteShowList.map((function(e){return e.platform_mall_id}))),d=p.length>this.site.length&&this.site||p,h=p.length>this.site.length&&p||this.site;u=new Set(this.site);var m,_=Object(s["a"])(h);try{for(_.s();!(m=_.n()).done;){var g=m.value;d.includes(g)&&u.delete(g)}}catch(f){_.e(f)}finally{_.f()}u.delete("")}this.site=Object(n["a"])(u)}else l?this.site=e.slice(1):this.siteList.length>0&&this.siteList.length===this.site.length?this.site.unshift(""):this.isShowNameAll=!1}setTimeout((function(){a.changeMallList(),a.filterMall(i),a.isAllowSet1=!0}),10)}},deep:!0}},mounted:function(){this.countryVal=this.isMall?this.parentCountry:this.isAll?"":"TH"},methods:{reset:function(){this.isAllowSet2=!1,this.groupId=[],this.groupIdList=[],this.ddMallGoodsGetMallList(1)},ddMallGoodsGetMallList:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function a(){var i,r,l,s,o,c,u;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.site=[],i=t.countryVal,r=[],!(t.jsonMallData.length>0)){a.next=7;break}r=t.jsonMallData,a.next=12;break;case 7:return a.next=9,t.$appConfig.temporaryCacheInfo("get","mallAllData","");case 9:l=a.sent,r=JSON.parse(l)||[],t.jsonMallData=JSON.parse(l)||[];case 12:if(!(r.length>0)){a.next=17;break}1===e&&(t.siteList=""===i?r:r.filter((function(e){return e.country===i}))),2===e&&(0===t.groupId.length?t.siteList=[]:(t.siteList=[],t.groupId.forEach((function(e){r.forEach((function(a){i?e===a.group_id&&i===a.country&&t.siteList.push(a):e===a.group_id&&t.siteList.push(a)}))})))),a.next=22;break;case 17:return s={country:"",mallGroupIds:""},a.next=20,t.mallListAPIInstance.ddMallGoodsGetMallList(s);case 20:o=a.sent,200===o.code?(t.$appConfig.temporaryCacheInfo("save","mallAllData",o.data),c=o.data||[],t.siteList=c,t.jsonMallData=c,t.siteList=""===i?c:c.filter((function(e){return e.country===i}))):t.$message.error("获取分组、店铺列表失败");case 22:u=[],0===t.groupIdList.length&&(t.groupIdList=[{group_name:"全部",id:""}],t.siteList.forEach((function(e){var t=u.findIndex((function(t){return t&&t.id===e.group_id}));e.group_name&&t<0&&u.push({group_name:e.group_name,id:e.group_id})})),u.zzSort("id"),t.groupIdList=[].concat(Object(n["a"])(t.groupIdList),u),t.groupId=[""].concat(Object(n["a"])(u.map((function(e){return e.id}))))),setTimeout((function(){t.isAllowSet2=!0,t.isAllowSet1=!0,t.site=!t.isAShop&&[""]||""}),10);case 25:case"end":return a.stop()}}),a)})))()},changeMallList:function(){var e=this,t=[],a="";if(this.isAShop){var i=this.siteList.find((function(t){return t.platform_mall_id===e.site}));a=this.site,t.push(i)}else this.site.forEach((function(i){if(i){var r=e.siteList.find((function(e){return e.platform_mall_id===i}));t.push(r),a+=i+","}}));!this.countryVal&&this.groupId.indexOf("")>-1&&(a=t.length!==this.siteList.length&&a||""),this.source?this.$emit("changeMallList",{mallList:t,source:this.source,searchAll:a,country:this.countryVal.toLocaleUpperCase()}):(t["country"]=this.countryVal,this.$emit("changeMallList",t))},filterMall:function(e){var t=this,a=e&&this.isShowName!==e?1e3:100;this.filterMallTime&&(clearTimeout(this.filterMallTime),this.filterMallTime=null),this.filterMallTime=setTimeout((function(){t.isShowName!==e&&(t.mallShowIndex=0),t.isShowName=e||"";var a=t.siteList;e&&(a=t.siteList.filter((function(t){var a=t.mall_alias_name||t.platform_mall_name;return a.includes(e)}))),t.siteShowList=a}),a)},showMall:function(e,t){var a=e.mall_alias_name||e.platform_mall_name,i=this.site[0]===e.platform_mall_id;return i||this.mallShowIndex<=t&&t<=this.mallShowIndex+this.showMallNumber&&(!this.isShowName||a.includes(this.isShowName))},loadmoreMall:function(e,t){if(this.siteShowList.length>this.showMallNumber){var a=0;e?(a=this.mallShowIndex+10,a=a<this.siteShowList.length-this.showMallNumber&&a||this.siteShowList.length-this.showMallNumber):(a=this.mallShowIndex-10,a=a>0&&a||0),a!==this.mallShowIndex&&(t.scrollTop=e?t.scrollTop-100:30),this.mallShowIndex=a}}}},p=u,d=(a("8992"),a("2877")),h=Object(d["a"])(p,i,r,!1,null,null,null);t["a"]=h.exports}}]);