(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0eb63080"],{a468:function(e,t,a){},c693:function(e,t,a){"use strict";a("a468")},e567:function(e,t,a){"use strict";a.r(t);var i,l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"advertisement"},[a("div",{staticClass:"header-btn"},[a("storeChoose",{attrs:{"is-all":!1},on:{changeMallList:e.changeMallList}})],1),a("div",{staticClass:"select-btn"},[a("div",{staticClass:"select-item"},[a("div",{staticClass:"base-box"},[a("span",{staticClass:"base-title"},[e._v("综合统计")]),a("div",{staticClass:"base-item"},[a("el-date-picker",{staticStyle:{width:"300px"},attrs:{size:"mini","value-format":"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":e.pickerOptions},model:{value:e.statisticalTime,callback:function(t){e.statisticalTime=t},expression:"statisticalTime"}}),a("el-button",{staticClass:"mar-left",attrs:{type:"primary",size:"mini",disabled:e.loading},on:{click:e.batchGetAdventList}},[e._v("搜 索")]),a("el-button",{attrs:{type:"primary",size:"mini",disabled:e.loading},on:{click:function(t){e.viewDetailVisible=!0}}},[e._v("查看详情")]),a("el-button",{attrs:{type:"primary",size:"mini",disabled:e.loading},on:{click:e.exportData}},[e._v("导出数据")]),a("div",{staticClass:"over-view"},[a("div",{staticClass:"item"},[a("span",[e._v("余额")]),a("span",{staticClass:"mar-left"},[e._v(e._s(e.totalAnalysisData.balance))])]),a("div",{staticClass:"item"},[a("span",[e._v("浏览数")]),a("span",{attrs:{lass:"mar-left"}},[e._v(e._s(e.totalAnalysisData.impression))])]),a("div",{staticClass:"item"},[a("span",[e._v("点击次数")]),a("span",{staticClass:"mar-left"},[e._v(e._s(e.totalAnalysisData.click))])]),a("div",{staticClass:"item"},[a("span",[e._v("点击率")]),a("span",{staticClass:"mar-left"},[e._v(e._s(0==e.totalAnalysisData.impression?0:(e.totalAnalysisData.click/e.totalAnalysisData.impression*100).toFixed(2))+"%")])]),a("div",{staticClass:"item"},[a("span",[e._v("订单数")]),a("span",{staticClass:"mar-left"},[e._v(e._s(e.totalAnalysisData.order))])]),a("div",{staticClass:"item"},[a("span",[e._v("商品已出售")]),a("span",{staticClass:"mar-left"},[e._v(e._s(e.totalAnalysisData.order))])]),a("div",{staticClass:"item"},[a("span",[e._v("销售金额")]),a("span",{staticClass:"mar-left"},[e._v(e._s(e.totalAnalysisData.orderGmv))])]),a("div",{staticClass:"item"},[a("span",[e._v("花费")]),a("span",{staticClass:"mar-left"},[e._v(e._s(Number(e.totalAnalysisData.cost).toFixed(2)))])])])],1)])]),a("div",{staticClass:"select-item"},[a("div",{staticClass:"base-box"},[a("span",{staticClass:"base-title"},[e._v("商品统计")]),a("div",{staticClass:"base-item"},[a("div",{staticClass:"select-row"},[a("div",{staticClass:"item-box"},[a("span",[e._v("广告类型：")]),a("el-select",{staticStyle:{width:"140px"},attrs:{placeholder:"请选择",size:"mini"},model:{value:e.adventType,callback:function(t){e.adventType=t},expression:"adventType"}},e._l(e.adventTypeList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("div",{staticClass:"item-box"},[a("span",[e._v("活动类型：")]),a("el-select",{staticStyle:{width:"140px"},attrs:{placeholder:"请选择",size:"mini"},model:{value:e.activeType,callback:function(t){e.activeType=t},expression:"activeType"}},[a("el-option",{attrs:{label:"全部",value:"all"}}),e._l(e.activeTypeList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],2)],1),a("div",{staticClass:"item-box"},[a("span",[e._v("关键字：")]),a("el-input",{attrs:{size:"mini",type:"primary",placeholder:"可输入商品标题查询活动"},model:{value:e.keyWords,callback:function(t){e.keyWords=t},expression:"keyWords"}})],1),a("el-button",{staticClass:"mar-left",attrs:{type:"primary",size:"mini",disabled:e.loading},on:{click:e.batchGetAdventList}},[e._v("搜 索")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.cancel}},[e._v("停止搜索")]),a("el-checkbox",{staticClass:"mar-left",model:{value:e.showConsole,callback:function(t){e.showConsole=t},expression:"showConsole"}},[e._v("隐藏日志")])],1),a("div",{staticClass:"select-row"},[a("el-button",{attrs:{type:"primary",size:"mini",disabled:e.loading},on:{click:e.createSingleKeyword}},[e._v("创建单个商品关键字广告")]),a("el-button",{attrs:{type:"primary",size:"mini",disabled:e.loading},on:{click:e.createBatchKeyword}},[e._v("创建批量商品关键字广告")]),a("el-button",{attrs:{type:"primary",size:"mini",disabled:e.loading},on:{click:e.createRelevance}},[e._v("创建关联广告")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.stopCreateAdvent}},[e._v("停止创建广告")]),a("el-button",{attrs:{type:"primary",size:"mini",plain:"",disabled:e.loading},on:{click:function(t){return e.stopStartActive(1)}}},[e._v("暂停广告活动")]),a("el-button",{attrs:{type:"primary",size:"mini",plain:"",disabled:e.loading},on:{click:function(t){return e.stopStartActive(3)}}},[e._v("继续广告活动")])],1)])])])]),a("div",{staticClass:"content"},[a("u-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"editPlTable",attrs:{data:e.tableData,"use-virtual":"",height:550,"row-height":68,"data-changes-scroll-top":!1,border:!1,"header-cell-style":{textAlign:"center",backgroundColor:"#f5f7fa"}},on:{"selection-change":e.handleSelectionChange}},[a("u-table-column",{attrs:{align:"center",type:"selection",width:"50"}}),a("u-table-column",{attrs:{align:"center",type:"index",label:"序号",width:"50"}}),a("u-table-column",{attrs:{width:"120px",label:"店铺名称",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.mallInfo.country)+"-"+e._s(a.mallInfo.mall_alias_name||a.mallInfo.platform_mall_name)+" ")]}}])}),a("u-table-column",{attrs:{align:"center",label:"商品图片",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{staticStyle:{width:"32px",height:"32px",display:"inline-block"},attrs:{effect:"light",placement:"right-end","visible-arrow":!1,enterable:!1}},[a("div",{attrs:{slot:"content"},slot:"content"},[a("el-image",{staticStyle:{width:"400px",height:"400px"},attrs:{src:e._f("imageRender")([t.row.image])}})],1),a("el-image",{staticStyle:{width:"32px",height:"32px"},attrs:{src:e._f("imageRender")([t.row.image,!0])}})],1)]}}])}),a("u-table-column",{attrs:{align:"center",label:"商品ID","min-width":"150",prop:"product.itemid"}}),a("u-table-column",{attrs:{align:"center",label:"商品名称","min-width":"150",prop:"product.name","show-overflow-tooltip":""}}),a("u-table-column",{attrs:{align:"center",label:"活动类型","min-width":"150",prop:"campaign.state","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(e.activeState[a.campaign.state])+" ")]}}])}),a("u-table-column",{attrs:{align:"center",label:"活动日期",width:"260",prop:"price","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(e.$dayjs(1e3*a.campaign.start_time).format("YYYY/MM/DD HH:mm:ss")+" - "+(0==a.campaign.end_time?"":e.$dayjs(1e3*a.campaign.end_time).format("YYYY/MM/DD HH:mm:ss")))+" ")]}}])}),a("u-table-column",{attrs:{align:"center",label:"预算",width:"120",prop:"promotion_price_after_tax"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(e.dealWithQuota(a))+" ")]}}])}),a("u-table-column",{attrs:{align:"center",label:"浏览数",width:"120",prop:"report.impression.value"}}),a("u-table-column",{attrs:{align:"center",label:"点击次数","min-width":"150",prop:"report.click.value"}}),a("u-table-column",{attrs:{align:"center",label:"点击率(%)","min-width":"150",prop:"user_item_limit"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(0==Number(a.report.impression.value)?0:Math.round(Number(a.report.click.value)/Number(a.report.impression.value)*100).toFixed(2))+" ")]}}])}),a("u-table-column",{attrs:{align:"center",label:"订单数","min-width":"150",prop:"report.order_amount.value"}}),a("u-table-column",{attrs:{align:"center",label:"商品已出售","min-width":"150",prop:"report.order_amount.value"}}),a("u-table-column",{attrs:{align:"center",label:"销售金额","min-width":"150",prop:"report.order_gmv.value"}}),a("u-table-column",{attrs:{align:"center",label:"花费","min-width":"150",prop:"report.cost.value"}}),a("u-table-column",{attrs:{align:"center",label:"投资产出比","min-width":"150",prop:"user_item_limit"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(Math.round(a.report.gmv_expense_ratio.value).toFixed(2))+" ")]}}])}),a("u-table-column",{attrs:{align:"center",label:"成本收入对比(%)","min-width":"150",prop:"user_item_limit"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(Math.round(100*a.report.cir.value).toFixed(2))+" ")]}}])})],1)],1),a("Logs",{ref:"Logs",attrs:{clear:""},model:{value:e.showConsole,callback:function(t){e.showConsole=t},expression:"showConsole"}}),e.viewDetailVisible?a("el-dialog",{attrs:{title:"店铺综合统计详情概览",visible:e.viewDetailVisible,top:"5vh",width:"1200px","close-on-click-modal":!1},on:{"update:visible":function(t){e.viewDetailVisible=t}}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.totalData,height:"300px"}},[a("el-table-column",{attrs:{label:"店铺名称",prop:"id",width:"160px","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.country)+"-"+e._s(a.mallName)+" ")]}}],null,!1,277375768)}),a("el-table-column",{attrs:{label:"余额",prop:"balance"}}),a("el-table-column",{attrs:{label:"浏览数",prop:"impression"}}),a("el-table-column",{attrs:{label:"点击次数",prop:"click"}}),a("el-table-column",{attrs:{label:"点击率(%)",prop:""},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(0==Number(a.impression)?0:Math.round(Number(a.click)/Number(a.impression)*100).toFixed(2))+" ")]}}],null,!1,3360262158)}),a("el-table-column",{attrs:{label:"订单数",prop:"order"}}),a("el-table-column",{attrs:{label:"商品已出售",prop:"order"}}),a("el-table-column",{attrs:{label:"销售金额",prop:"orderGmv"}}),a("el-table-column",{attrs:{label:"花费",prop:"cost"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(Number(t.row.cost).toFixed(2)))])]}}],null,!1,3832972991)}),a("el-table-column",{attrs:{type:"expand",label:"查看明细",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(e.analysisData[t.row.mallId],(function(t,i){return a("div",{key:i,staticClass:"expand-style",staticStyle:{display:"flex"}},[a("div",[a("span",[e._v(e._s(e.$dayjs(1e3*t.timestamp).format("YYYY/MM/DD HH:mm:ss")))]),a("span",{staticClass:"mar-left"},[e._v(e._s(t.impression))])]),a("div",[a("span",[e._v(e._s(e.$dayjs(1e3*t.timestamp).format("YYYY/MM/DD HH:mm:ss")))]),a("span",{staticClass:"mar-left"},[e._v(e._s(t.click))])]),a("div",[a("span",[e._v(e._s(e.$dayjs(1e3*t.timestamp).format("YYYY/MM/DD HH:mm:ss")))]),a("span",{staticClass:"mar-left"},[e._v(e._s(0==t.impression?0:(t.click/t.impression*100).toFixed(2)))])]),a("div",[a("span",[e._v(e._s(e.$dayjs(1e3*t.timestamp).format("YYYY/MM/DD HH:mm:ss")))]),a("span",{staticClass:"mar-left"},[e._v(e._s(t.order_amount))])]),a("div",[a("span",[e._v(e._s(e.$dayjs(1e3*t.timestamp).format("YYYY/MM/DD HH:mm:ss")))]),a("span",{staticClass:"mar-left"},[e._v(e._s(t.order_amount))])]),a("div",[a("span",[e._v(e._s(e.$dayjs(1e3*t.timestamp).format("YYYY/MM/DD HH:mm:ss")))]),a("span",{staticClass:"mar-left"},[e._v(e._s(t.order_gmv))])]),a("div",[a("span",[e._v(e._s(e.$dayjs(1e3*t.timestamp).format("YYYY/MM/DD HH:mm:ss")))]),a("span",{staticClass:"mar-left"},[e._v(e._s(t.cost))])])])}))}}],null,!1,2701343814)})],1)],1):e._e(),e.createAdventVisible?a("el-dialog",{attrs:{visible:e.createAdventVisible,top:"7vh",title:"创建广告关键字","close-on-click-modal":!1,"close-on-press-escape":!1,width:"1000px"},on:{"update:visible":function(t){e.createAdventVisible=t},close:e.closeDialog}},[a("div",{staticClass:"create-style"},[a("div",{staticClass:"warning-top"},["single"===e.createType?a("p",[e._v("选择单个商品时，可选择是否开启自动选择关键字或手动选择关键字")]):a("p",[e._v(" 选择两个及以上商品，shopee将自动管理广告关键字。相同的预算和时长设置将应用于每个广告。"),a("br"),e._v(" 最多20个商品，超过将自动选取前20个商品 ")])]),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){e.goodsItemSelectorVisible=!0}}},[e._v("添加商品")]),e.createChooseGoods.length?a("el-table",{staticStyle:{width:"100%",margin:"10px 0"},attrs:{data:e.createChooseGoods,"max-height":"200px","row-style":{background:"#dcdcdc"}}},[a("el-table-column",{attrs:{align:"center",type:"index",label:"",width:"40"}}),a("el-table-column",{attrs:{label:"店铺名称",prop:"id",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.country)+"-"+e._s(a.mall_alias_name||a.platform_mall_name)+" ")]}}],null,!1,3013943390)}),a("el-table-column",{attrs:{label:"商品id",prop:"itemid"}}),a("el-table-column",{attrs:{label:"商品图片",prop:"impression",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{staticStyle:{width:"32px",height:"32px",display:"inline-block"},attrs:{effect:"light",placement:"right-end","visible-arrow":!1,enterable:!1}},[a("div",{attrs:{slot:"content"},slot:"content"},[a("el-image",{staticStyle:{width:"400px",height:"400px"},attrs:{src:e._f("imageRender")([t.row.image])}})],1),a("el-image",{staticStyle:{width:"32px",height:"32px"},attrs:{src:e._f("imageRender")([t.row.image,!0])}})],1)]}}],null,!1,190335285)}),a("el-table-column",{attrs:{label:"价格",prop:"price"}}),a("el-table-column",{attrs:{label:"已选商品数量"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.createChooseGoods.length))])]}}],null,!1,3445430845)}),a("el-table-column",{attrs:{label:"操作",prop:"impression"}})],1):e._e(),a("div",{staticClass:"base-box mar-top"},[a("span",{staticClass:"base-title"},[e._v("每个广告的预算")]),a("div",{staticClass:"base-item"},[a("el-radio",{attrs:{label:"1"},model:{value:e.budgetSingle,callback:function(t){e.budgetSingle=t},expression:"budgetSingle"}},[e._v("无限制")]),a("el-radio",{attrs:{label:"2"},model:{value:e.budgetSingle,callback:function(t){e.budgetSingle=t},expression:"budgetSingle"}},[e._v("设定预算")]),"1"==e.budgetSingle?a("p",{staticStyle:{margin:"5px 0"}},[e._v("根据您目前的广告预算余额，您的广告最多可获得0个点击数。")]):e._e(),"2"==e.budgetSingle?a("div",{staticClass:"item-box mar-top"},[a("el-select",{staticStyle:{width:"120px"},attrs:{placeholder:"请选择",size:"mini"},model:{value:e.budgetType,callback:function(t){e.budgetType=t},expression:"budgetType"}},[a("el-option",{attrs:{label:"每日预算",value:"day"}}),a("el-option",{attrs:{label:"总预算",value:"total"}})],1),a("el-input",{staticClass:"mar-left",staticStyle:{width:"160px"},attrs:{size:"mini"},model:{value:e.budget,callback:function(t){e.budget=t},expression:"budget"}},[a("template",{slot:"prepend"},[e._v(e._s(e._f("siteCoin")(e.country)))])],2)],1):e._e(),"2"===e.budgetSingle&&"day"===e.budgetType&&(!e.budget||e.budget<e.dailyBudgetMinLimit)?a("p",{staticClass:"activeColor mar-top"},[e._v("预算必须大于"+e._s(e.dailyBudgetMinLimit))]):e._e(),"total"===e.budgetType&&(!e.budget||e.budget<e.totalBudgetMinLimit)?a("p",{staticClass:"activeColor mar-top"},[e._v("预算必须大于"+e._s(e.totalBudgetMinLimit))]):e._e(),e.budget?a("p",{staticClass:"mar-top"},[e._v(" 根据您目前的广告预算余额，您的广告最多可获得"),a("span",{staticClass:"activeColor"},[e._v(e._s("day"===e.budgetType?Math.floor(e.budget/e.dailySingleClickPrice):Math.floor(e.budget/e.totalSingleClickPrice)))]),e._v("个点击数 ")]):e._e()],1)]),a("div",{staticClass:"base-box mar-top"},[a("span",{staticClass:"base-title"},[e._v("每个广告的时长")]),a("div",{staticClass:"base-item"},[a("el-radio",{attrs:{label:"1"},model:{value:e.timeSingle,callback:function(t){e.timeSingle=t},expression:"timeSingle"}},[e._v("不限时")]),a("el-radio",{attrs:{label:"2"},model:{value:e.timeSingle,callback:function(t){e.timeSingle=t},expression:"timeSingle"}},[e._v("设定开始日期/结束日期")]),"2"==e.timeSingle?a("div",{staticClass:"item-box mar-top"},[a("el-date-picker",{staticStyle:{width:"300px"},attrs:{size:"mini","value-format":"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":e.pickerOptions1},model:{value:e.timeRange,callback:function(t){e.timeRange=t},expression:"timeRange"}})],1):e._e()],1)]),"single"===e.createType?a("div",{staticClass:"base-box mar-top"},[a("span",{staticClass:"base-title"},[e._v("关键字")]),a("div",{staticClass:"base-item"},[a("el-checkbox",{model:{value:e.autoKeyword,callback:function(t){e.autoKeyword=t},expression:"autoKeyword"}},[e._v("自动选择")]),a("br"),a("el-checkbox",{on:{change:e.handleChangeKeyType},model:{value:e.handleKeyword,callback:function(t){e.handleKeyword=t},expression:"handleKeyword"}},[e._v("手动选择")]),e.handleKeyword?a("div",{staticClass:"mar-top"},[a("div",{staticClass:"item-box"},[a("el-button",{attrs:{size:"mini",type:"primary",disabled:e.loading},on:{click:function(t){return e.batchChangeKey("keyPriceVisible")}}},[e._v("批量修改出价")]),a("el-button",{attrs:{size:"mini",type:"primary",disabled:e.loading},on:{click:function(t){return e.batchChangeKey("keyTypeVisible")}}},[e._v("批量编辑匹配类型")]),a("el-button",{attrs:{size:"mini",type:"primary",disabled:e.loading},on:{click:function(t){return e.batchChangeKey("delete")}}},[e._v("批量删除")])],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.keyListLoading,expression:"keyListLoading"}],staticStyle:{width:"100%",margin:"10px 0"},attrs:{data:e.keyWordList,"max-height":"360px"},on:{"selection-change":e.handleSelectionChangeKey}},[a("el-table-column",{attrs:{align:"center",type:"index",label:"序号",width:"40"}}),a("el-table-column",{attrs:{align:"center",type:"selection",width:"50",fixed:"left"}}),a("el-table-column",{attrs:{label:"关键字",prop:"keyword",width:"120","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"品质分数",prop:"relevance"}}),a("el-table-column",{attrs:{label:"搜索量",prop:"search_volume"}}),a("el-table-column",{attrs:{label:"匹配类型",prop:"impression",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{staticStyle:{width:"120px"},attrs:{size:"mini"},model:{value:t.row.algorithm,callback:function(a){e.$set(t.row,"algorithm",a)},expression:"scope.row.algorithm"}},[a("el-option",{attrs:{label:"广泛匹配",value:"kwrcmdv2"}}),a("el-option",{attrs:{label:"精准匹配",value:"kwrcmdv1"}})],1)]}}],null,!1,642641064)}),a("el-table-column",{attrs:{label:"推荐出价",prop:"recommend_price",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{color:"green"}},[e._v(e._s(e._f("siteCoin")(e.country))+e._s(Number(t.row.recommend_price).toFixed(2)))])]}}],null,!1,3537478176)}),a("el-table-column",{attrs:{label:"点击出价",width:"160",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{staticClass:"mar-left",staticStyle:{width:"140px"},attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.row.selfPrice,callback:function(a){e.$set(t.row,"selfPrice",a)},expression:"scope.row.selfPrice"}},[a("template",{slot:"prepend"},[e._v(e._s(e._f("siteCoin")(e.country)))])],2)]}}],null,!1,2475619777)}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.setKeyDeleteSingle(t.$index)}}},[e._v("删 除")])]}}],null,!1,2523308178)})],1)],1):e._e()],1)]):e._e(),a("div",{staticClass:"footer-btn"},["single"===e.createType?a("el-button",{attrs:{size:"mini",type:"primary",disabled:e.loading},on:{click:e.publishAdvent}},[e._v("确认发布")]):e._e(),"batch"===e.createType?a("el-button",{attrs:{size:"mini",type:"primary",disabled:e.loading},on:{click:e.batchCreateKeyWord}},[e._v("确认发布")]):e._e(),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){e.createAdventVisible=!1}}},[e._v("取消发布")])],1)],1)]):e._e(),a("el-dialog",{attrs:{visible:e.goodsItemSelectorVisible,top:"7vh",title:"商品选择","close-on-click-modal":!1,"close-on-press-escape":!1,width:"1280px"},on:{"update:visible":function(t){e.goodsItemSelectorVisible=t}}},[e.goodsItemSelectorVisible?a("goodsItemSelector",{attrs:{mall:e.selectMallList},on:{changeGoodsItem:e.changeGoodsItem}}):e._e()],1),a("el-dialog",{attrs:{visible:e.keyPriceVisible,title:"批量修改出价","close-on-click-modal":!1,"close-on-press-escape":!1,width:"500px"},on:{"update:visible":function(t){e.keyPriceVisible=t},close:e.closeKeyPrice}},[a("div",{staticClass:"keyPrice-style"},[a("div",{staticClass:"item"},[a("el-radio",{attrs:{label:"1"},model:{value:e.keyPriceRadio,callback:function(t){e.keyPriceRadio=t},expression:"keyPriceRadio"}},[e._v("按金额增加/减少出价")]),a("div",{staticClass:"item-item"},[a("el-select",{staticStyle:{width:"100px"},attrs:{size:"mini"},model:{value:e.calcType,callback:function(t){e.calcType=t},expression:"calcType"}},[a("el-option",{attrs:{label:"增加",value:"add"}}),a("el-option",{attrs:{label:"减少",value:"sub"}})],1),a("el-input",{staticClass:"mar-left",staticStyle:{width:"140px"},attrs:{size:"mini"},model:{value:e.keyPrice1,callback:function(t){e.keyPrice1=t},expression:"keyPrice1"}},[a("template",{slot:"prepend"},[e._v(e._s(e._f("siteCoin")(e.country)))])],2)],1)],1),a("div",{staticClass:"item"},[a("el-radio",{attrs:{label:"2"},model:{value:e.keyPriceRadio,callback:function(t){e.keyPriceRadio=t},expression:"keyPriceRadio"}},[e._v("按百分比增加/减少出价")]),a("div",[a("el-select",{staticStyle:{width:"100px"},attrs:{size:"mini"},model:{value:e.calcType,callback:function(t){e.calcType=t},expression:"calcType"}},[a("el-option",{attrs:{label:"增加",value:"add"}}),a("el-option",{attrs:{label:"减少",value:"sub"}})],1),a("el-input",{staticClass:"mar-left",staticStyle:{width:"140px"},attrs:{size:"mini"},model:{value:e.keyPrice2,callback:function(t){e.keyPrice2=t},expression:"keyPrice2"}},[a("template",{slot:"prepend"},[e._v("%")])],2)],1)],1),a("div",{staticClass:"item"},[a("el-radio",{attrs:{label:"3"},model:{value:e.keyPriceRadio,callback:function(t){e.keyPriceRadio=t},expression:"keyPriceRadio"}},[e._v("设定出价为")]),a("div",[a("el-input",{staticClass:"mar-left",staticStyle:{width:"140px"},attrs:{size:"mini"},model:{value:e.keyPrice3,callback:function(t){e.keyPrice3=t},expression:"keyPrice3"}},[a("template",{slot:"prepend"},[e._v(e._s(e._f("siteCoin")(e.country)))])],2)],1)],1),a("div",{staticClass:"item"},[a("el-radio",{attrs:{label:"4"},model:{value:e.keyPriceRadio,callback:function(t){e.keyPriceRadio=t},expression:"keyPriceRadio"}},[e._v("设定出价为推荐价格")])],1)]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.keyPriceVisible=!1}}},[e._v("取 消")]),"keyword"===e.adventType?a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.setKeyPrice}},[e._v("确 定")]):e._e(),"targeting"===e.adventType?a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.setRevalancePrice}},[e._v("确 定")]):e._e()],1)]),a("el-dialog",{attrs:{visible:e.keyTypeVisible,title:"批量修改广告类型","close-on-click-modal":!1,"close-on-press-escape":!1,width:"500px"},on:{"update:visible":function(t){e.keyTypeVisible=t},close:e.closeKeyPrice}},[a("div",{staticClass:"keyPrice-style"},[a("el-radio",{attrs:{label:"kwrcmdv2"},model:{value:e.keyType,callback:function(t){e.keyType=t},expression:"keyType"}},[e._v("广泛匹配")]),a("br"),a("p",{staticClass:"mar-top",staticStyle:{color:"#a9a9a9"}},[e._v("只要搜寻包含此关键字，或与之有关的内容，您投放的广告就有机会出现")]),a("el-radio",{staticClass:"mar-top",attrs:{label:"kwrcmdv1"},model:{value:e.keyType,callback:function(t){e.keyType=t},expression:"keyType"}},[e._v("精准匹配")]),a("p",{staticClass:"mar-top",staticStyle:{color:"#a9a9a9"}},[e._v("只有搜寻此关键字时，您投放的广告才会出现")])],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.keyTypeVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.setKeyType}},[e._v("确 定")])],1)]),a("el-dialog",{attrs:{visible:e.relevanceVisible,title:"创建关联广告","close-on-click-modal":!1,"close-on-press-escape":!1,top:"5vh",width:"1200px"},on:{"update:visible":function(t){e.relevanceVisible=t},close:e.closeDialog}},[a("div",{staticClass:"relevance-style"},[a("div",{staticClass:"base-box"},[a("span",{staticClass:"base-title"},[e._v("设定关联广告")]),a("div",{staticClass:"base-item"},[a("p",{staticStyle:{color:"#a9a9a9"}},[e._v("一次最多可以勾选十个商品")]),a("div",{staticClass:"select-row"},[a("el-button",{attrs:{type:"primary",size:"mini",disabled:e.loading},on:{click:function(t){e.goodsItemSelectorVisible=!0}}},[e._v("添加商品")]),a("el-button",{attrs:{type:"primary",size:"mini",disabled:e.loading},on:{click:e.batchChnageRevelancePrice}},[e._v("批量修改出价")]),a("el-button",{attrs:{type:"primary",size:"mini",disabled:e.loading},on:{click:e.batchChnageRevelanceBudget}},[e._v("批量编辑预算")])],1),a("div",{staticClass:"select-row"},[a("el-table",{staticStyle:{width:"100%",margin:"10px 0"},attrs:{data:e.relevanceList,"max-height":"360px"},on:{"selection-change":e.handleSelectionChangeRelevance}},[a("el-table-column",{attrs:{align:"center",type:"index",label:"序号",width:"50"}}),a("el-table-column",{attrs:{align:"center",type:"selection",width:"50",fixed:"left"}}),a("el-table-column",{attrs:{label:"店铺名称",prop:"id","max-width":"120","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.country)+"-"+e._s(a.mall_alias_name||a.platform_mall_name)+" ")]}}])}),a("el-table-column",{attrs:{label:"商品ID",prop:"itemid",width:"100"}}),a("el-table-column",{attrs:{label:"商品图片",prop:"impression",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{staticStyle:{width:"32px",height:"32px",display:"inline-block"},attrs:{effect:"light",placement:"right-end","visible-arrow":!1,enterable:!1}},[a("div",{attrs:{slot:"content"},slot:"content"},[a("el-image",{staticStyle:{width:"400px",height:"400px"},attrs:{src:e._f("imageRender")([t.row.image])}})],1),a("el-image",{staticStyle:{width:"32px",height:"32px"},attrs:{src:e._f("imageRender")([t.row.image,!0])}})],1)]}}])}),a("el-table-column",{attrs:{label:"价格",prop:"price",width:"80"}}),a("el-table-column",{attrs:{label:"商品数",width:"60",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{color:"green"}},[e._v(e._s(e.chooseGoodsNumber(t.row.platform_mall_id)))])]}}])}),a("el-table-column",{attrs:{label:"点击出价",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{staticClass:"mar-left",staticStyle:{width:"140px"},attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.row.selfPrice,callback:function(a){e.$set(t.row,"selfPrice",a)},expression:"scope.row.selfPrice"}},[a("template",{slot:"prepend"},[e._v(e._s(e._f("siteCoin")(e.country)))])],2),a("p",[a("span",{staticStyle:{color:"#dcdcdc"}},[e._v("每点击一次")]),a("span",{staticStyle:{color:"green"}},[e._v("推荐出价"+e._s(e._f("siteCoin")(e.country))+e._s(t.row.nominate1>-1?t.row.nominate1:t.row.nominateRemark))])])]}}])}),a("el-table-column",{attrs:{label:"预算",width:"160",prop:"budgetType",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{ref:"select",staticStyle:{width:"120px"},attrs:{size:"mini"},on:{change:function(a){return e.changeBudgetType(a,t.$index)}},model:{value:t.row.budgetType,callback:function(a){e.$set(t.row,"budgetType",a)},expression:"scope.row.budgetType"}},[a("el-option",{attrs:{label:"无限制",value:"all"}}),a("el-option",{attrs:{label:"每日预算",value:"day"}}),a("el-option",{attrs:{label:"总预算",value:"total"}})],1),"all"!==t.row.budgetType?a("el-input",{staticClass:"mar-left",staticStyle:{width:"120px","margin-top":"5px"},attrs:{placeholder:"请输入内容",size:"mini"},on:{change:function(a){return e.changeBudget(a,t.$index)}},model:{value:t.row.budget,callback:function(a){e.$set(t.row,"budget",a)},expression:"scope.row.budget"}},[a("template",{slot:"prepend"},[e._v(e._s(e._f("siteCoin")(e.country)))])],2):e._e()]}}])}),a("el-table-column",{attrs:{label:"时间长度",width:"200",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{staticStyle:{width:"200px"},attrs:{size:"mini"},model:{value:t.row.timeType,callback:function(a){e.$set(t.row,"timeType",a)},expression:"scope.row.timeType"}},[a("el-option",{attrs:{label:"无限制",value:"0"}}),a("el-option",{attrs:{label:"设定开始时间/结束时间",value:"1"}})],1),"1"===t.row.timeType?a("el-date-picker",{staticStyle:{width:"200px","margin-top":"5px"},attrs:{"picker-options":e.pickerOptions1,"value-format":"yyyy-MM-dd","unlink-panels":"",size:"mini",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.row.timeRange,callback:function(a){e.$set(t.row,"timeRange",a)},expression:"scope.row.timeRange"}}):e._e()]}}])}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.deleteRelevance(t.$index)}}},[e._v("删 除")])]}}])})],1)],1)])]),a("div",{staticClass:"base-box mar-top"},[a("span",{staticClass:"base-title"},[e._v("显示位置设置")]),a("div",{staticClass:"base-item"},[a("p",{staticStyle:{color:"#a9a9a9"}},[e._v("设置溢价率可使您的每个广告显示位置的出价更具有竞争力")]),a("p",{staticClass:"mar-top",staticStyle:{color:"#a9a9a9"}},[e._v("打开所有广告显示位置的状态，以获得更好的广告流量")]),a("div",{staticClass:"special-row-style"},[a("div",{staticClass:"box"},[a("span",{staticClass:"title"},[e._v("显示位置")]),a("span",[e._v("相关商品-商品详情页面")])]),a("div",{staticClass:"box"},[a("span",{staticClass:"title"},[e._v("溢价")]),a("span",[e._v("增加出价")]),a("el-input",{staticClass:"mar-left",staticStyle:{width:"120px"},attrs:{placeholder:"请输入内容",size:"mini"},model:{value:e.detailPrice,callback:function(t){e.detailPrice=t},expression:"detailPrice"}},[a("template",{slot:"append"},[e._v("%")])],2)],1),a("div",{staticClass:"box"},[a("span",{staticClass:"title"},[e._v("状态")]),a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.detailRadio,callback:function(t){e.detailRadio=t},expression:"detailRadio"}})],1)]),a("div",{staticClass:"special-row-style"},[a("div",{staticClass:"box"},[a("span",{staticClass:"title"},[e._v("显示位置")]),a("span",[e._v("每日新发现-主页")])]),a("div",{staticClass:"box"},[a("span",{staticClass:"title"},[e._v("溢价")]),a("span",[e._v("增加出价")]),a("el-input",{staticClass:"mar-left",staticStyle:{width:"120px"},attrs:{placeholder:"请输入内容",size:"mini"},model:{value:e.dailyPrice,callback:function(t){e.dailyPrice=t},expression:"dailyPrice"}},[a("template",{slot:"append"},[e._v("%")])],2)],1),a("div",{staticClass:"box"},[a("span",{staticClass:"title"},[e._v("状态")]),a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.dailyRadio,callback:function(t){e.dailyRadio=t},expression:"dailyRadio"}})],1)]),a("div",{staticClass:"special-row-style"},[a("div",{staticClass:"box"},[a("span",{staticClass:"title"},[e._v("显示位置")]),a("span",[e._v("您可能喜欢-商品详情页面")])]),a("div",{staticClass:"box"},[a("span",{staticClass:"title"},[e._v("溢价")]),a("span",[e._v("增加出价")]),a("el-input",{staticClass:"mar-left",staticStyle:{width:"120px"},attrs:{placeholder:"请输入内容",size:"mini"},model:{value:e.mayLikePrice,callback:function(t){e.mayLikePrice=t},expression:"mayLikePrice"}},[a("template",{slot:"append"},[e._v("%")])],2)],1),a("div",{staticClass:"box"},[a("span",{staticClass:"title"},[e._v("状态")]),a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.mayLikeRaido,callback:function(t){e.mayLikeRaido=t},expression:"mayLikeRaido"}})],1)])])])]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.publishRelevance}},[e._v("确认发布")]),a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.relevanceVisible=!1}}},[e._v("取消发布")])],1)]),a("el-dialog",{attrs:{visible:e.relevanceBudgetVisible,title:"批量编辑预算","close-on-click-modal":!1,"close-on-press-escape":!1,width:"400px"},on:{"update:visible":function(t){e.relevanceBudgetVisible=t},close:e.closeDialog}},[a("div",{staticClass:"keyPrice-style"},[a("el-select",{ref:"select",staticStyle:{width:"120px"},attrs:{size:"mini"},on:{change:e.changeBudgetType},model:{value:e.relevanceBudgetType,callback:function(t){e.relevanceBudgetType=t},expression:"relevanceBudgetType"}},[a("el-option",{attrs:{label:"无限制",value:"all"}}),a("el-option",{attrs:{label:"每日预算",value:"day"}}),a("el-option",{attrs:{label:"总预算",value:"total"}})],1),"all"!==e.relevanceBudgetType?a("el-input",{staticClass:"mar-left",staticStyle:{width:"120px","margin-top":"5px"},attrs:{placeholder:"请输入内容",size:"mini"},on:{change:e.changeBudget},model:{value:e.relevanceBudget,callback:function(t){e.relevanceBudget=t},expression:"relevanceBudget"}},[a("template",{slot:"prepend"},[e._v(e._s(e._f("siteCoin")(e.country)))])],2):e._e()],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.relevanceBudgetVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.setRelevanceBudgetType}},[e._v("确 定")])],1)])],1)},n=[],s=a("ade3"),r=a("1da1"),o=(a("96cf"),a("4de4"),a("159b"),a("a9e3"),a("c740"),a("b680"),a("a434"),a("99af"),a("3ca3"),a("ddb0"),a("d81d"),a("ac1f"),a("1276"),a("7db0"),a("a15b"),a("b0c0"),a("feb6")),c=a("01cd"),d=a("0e0b"),m={components:{storeChoose:o["a"],goodsItemSelector:c["a"]},data:function(){return{pickerOptions:{disabledDate:function(e){return e.getTime()>Date.now()}},pickerOptions1:{disabledDate:function(e){return e.getTime()<new Date((new Date).toLocaleDateString()).getTime()}},selectMallList:[],country:"TH",statisticalTime:[],showConsole:!1,adventType:"keyword",adventTypeList:[{label:"关键字广告",value:"keyword"},{label:"关联广告",value:"targeting"}],activeType:"all",activeTypeList:[{label:"已预设",value:"scheduled"},{label:"进行中",value:"ongoing"},{label:"暂停中",value:"paused"},{label:"已结束",value:"ended"}],keyWords:"",tableData:[],loading:!1,multipleSelection:[],multipleSelectionKey:[],multipleSelectionRelevance:[],viewDetailVisible:!1,analysisData:{},totalData:[],totalAnalysisData:{balance:0,impression:0,click:0,order:0,orderGmv:0,cost:0},activeState:{ended:"已结束",closed:"已结束",ongoing:"进行中",scheduled:"已预设",paused:"暂停中"},createAdventVisible:!1,createType:"single",createChooseGoods:[],budgetSingle:"1",timeSingle:"1",autoKeyword:!0,handleKeyword:!1,selectGoods:[],goodsItemSelectorVisible:!1,budgetType:"day",budget:0,timeRange:[],keyWordList:[],keyPriceRadio:"1",calcType:"add",keyPrice1:"",keyPrice2:"",keyPrice3:"",keyPriceVisible:!1,keyListLoading:!1,keyTypeVisible:!1,keyType:"",dailyBudgetMinLimit:"",totalBudgetMinLimit:"",dailySingleClickPrice:"",totalSingleClickPrice:"",relevanceVisible:!1,detailPrice:0,detailRadio:!0,dailyPrice:0,dailyRadio:!0,mayLikePrice:0,mayLikeRaido:!0,relevanceList:[],relevanceBudgetVisible:!1,relevanceBudget:0,relevanceBudgetType:"all"}},mounted:function(){this.statisticalTime=Object(d["f"])(1);var e=this.$dayjs((new Date).getTime()).format("YYYY-MM-DD"),t=this.$dayjs((new Date).getTime()+13824e5).format("YYYY-MM-DD");this.timeRange=[e,t],this.setClickPrice()},methods:(i={chooseGoodsNumber:function(e){var t=this.relevanceList.filter((function(t){return t.platform_mall_id==e}));return t.length},cancel:function(){var e=this;this.loading=!1,Object(d["z"])(),this.totalAnalysisData={balance:0,impression:0,click:0,order:0,orderGmv:0,cost:0},this.$refs.Logs.writeLog("停止操作,可能需要一些时间！",!1),this.$alert("正在停止操作，可能需要一些时间！","提示",{confirmButtonText:"确定",callback:function(){e.totalData.forEach((function(t){e.totalAnalysisData.balance+=t.balance,e.totalAnalysisData.impression+=t.impression,e.totalAnalysisData.click+=t.click,e.totalAnalysisData.order+=t.order,e.totalAnalysisData.orderGmv+=t.orderGmv,e.totalAnalysisData.cost+=t.cost}))}})},batchChnageRevelancePrice:function(){if(!this.multipleSelectionRelevance.length)return this.$message.warning("请选择数据！");this.keyPriceVisible=!0},setRevalancePrice:function(){var e=this;this.multipleSelectionRelevance.forEach((function(t){var a=0;"1"===e.keyPriceRadio?a="add"===e.calcType?Number(t.nominate1)+Number(e.keyPrice1):Number(t.nominate1)-Number(e.keyPrice1):"2"===e.keyPriceRadio?a="add"===e.calcType?Number(t.nominate1)+e.keyPrice2/100*Number(t.nominate1):Number(t.nominate1)-e.keyPrice2/100*Number(t.nominate1):"3"===e.keyPriceRadio?a=e.keyPrice3:"4"===e.keyPriceRadio&&(a=t.nominate1);var i=e.relevanceList.findIndex((function(e){return e.itemid===t.itemid}));i>-1&&e.$set(e.relevanceList[i],"selfPrice",Number(a).toFixed(2))})),this.keyPriceVisible=!1},batchChnageRevelanceBudget:function(){if(!this.multipleSelectionRelevance.length)return this.$message.warning("请选择数据！");this.relevanceBudgetVisible=!0},setRelevanceBudgetType:function(){var e=this;this.multipleSelectionRelevance.forEach((function(t){var a=e.relevanceList.findIndex((function(e){return e.itemid===t.itemid}));a>-1&&(e.$set(e.relevanceList[a],"budgetType",e.relevanceBudgetType),e.$set(e.relevanceList[a],"budget",e.relevanceBudget))})),this.relevanceBudgetVisible=!1},deleteRelevance:function(e){this.relevanceList.splice(e,1)},publishRelevance:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=0;case 1:if(!(a<e.selectMallList.length)){t.next=10;break}return i=e.selectMallList[a],t.next=5,e.batchCreateRelevance(i,e.batchCreateRelevance);case 5:e.relevanceVisible=!1,e.batchGetAdventList();case 7:a++,t.next=1;break;case 10:case"end":return t.stop()}}),t)})))()},batchCreateRelevance:function(e){var t=arguments,a=this;return Object(r["a"])(regeneratorRuntime.mark((function i(){var l,n,s,r,o;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(l=t.length>1&&void 0!==t[1]?t[1]:{count:1},i.prev=1,n=a.relevanceList.filter((function(t){return t.platform_mall_id==e.platform_mall_id})),n.length){i.next=5;break}return i.abrupt("return",a.$refs.Logs.writeLog("店铺【".concat(e.mall_alias_name||e.platform_mall_name,"】停止创建关联广告，该店铺未选择商品"),!0));case 5:return s=[],n.forEach((function(e){var t=[];if(a.detailRadio){var i={status:1,placement:1,itemid:e.itemid,extinfo:{target:{price:((100+Number(a.detailPrice)||0)*Number(e.selfPrice)/100).toFixed(2)}}};t.push(i)}if(a.dailyRadio){var l={status:1,placement:2,itemid:e.itemid,extinfo:{target:{price:((100+Number(a.dailyPrice)||0)*Number(e.selfPrice)/100).toFixed(2)}}};t.push(l)}if(a.mayLikeRaido){var n={status:1,placement:2,itemid:e.itemid,extinfo:{target:{price:((100+Number(a.mayLikePrice)||0)*Number(e.selfPrice)/100).toFixed(2)}}};t.push(n)}var r={status:1,start_time:"1"===e.timeType&&e.timeRange&&e.timeRange.length?Math.round(new Date(new Date(e.timeRange[0]).toLocaleDateString()).getTime()/1e3):Math.round(new Date((new Date).toLocaleDateString()).getTime()/1e3),end_time:"1"===e.timeType&&e.timeRange&&e.timeRange.length?Math.round(new Date(new Date(e.timeRange[1]).toLocaleDateString()).getTime()/1e3):0,daily_quota:"day"===e.budgetType?e.budget:0,total_quota:"total"===e.budgetType?e.budget:0,price:e.selfPrice,suggest:e.nominate1>-1?e.nominate1:0,budget:e.nominate1>-1?e.nominate1:0,budget_type:"no",time_type:0,time:"1"===e.timeType&&e.timeRange&&e.timeRange.length?{start_time:new Date(e.timeRange[0]),end_time:new Date(e.timeRange[1])}:null,budget_error:""},o={campaign:r,advertisements:t};s.push(o)})),r={campaign_ads_list:s,ads_audit_event:4,mallId:e.platform_mall_id},i.next=10,a.$shopeemanService.createKeyAdvent(e.country,r);case 10:o=i.sent,200===o.code?a.$refs.Logs.writeLog("店铺【".concat(e.mall_alias_name||e.platform_mall_name,"】创建关联广告成功"),!0):403===o.code?a.$refs.Logs.writeLog("店铺【".concat(e.mall_alias_name||e.platform_mall_name,"】创建关联广告失败，店铺未登录"),!1):a.$refs.Logs.writeLog("店铺【".concat(e.mall_alias_name||e.platform_mall_name,"】创建关联广告失败，").concat(o.data),!1),i.next=16;break;case 14:i.prev=14,i.t0=i["catch"](1);case 16:return i.prev=16,--l.count,i.finish(16);case 19:case"end":return i.stop()}}),i,null,[[1,14,16,19]])})))()},changeBudgetType:function(e,t){"day"===e?void 0!==t&&t>-1?this.relevanceList[t].budget=20:this.relevanceBudget=20:"total"===e?void 0!==t&&t>-1?this.relevanceList[t].budget=100:this.relevanceBudget=100:void 0!==t&&t>-1?this.relevanceList[t].budget=0:this.relevanceBudget=0},changeBudget:function(e,t){void 0!==t?"day"===this.relevanceList[t].budgetType&&e<20?this.relevanceList[t].budget=20:"total"===this.relevanceList[t].budgetType&&e<100&&(this.relevanceList[t].budget=100):"day"===this.relevanceBudgetType&&e<20?this.relevanceBudget=20:"total"===this.relevanceBudgetType&&e<100&&(this.relevanceBudget=100)},dealWithTargetGoods:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var i,l,n,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:i=e.splice(0,10-t.relevanceList.length),l=regeneratorRuntime.mark((function e(a){var l,n,s,r,o,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(l=t.selectMallList[a],n=i.filter((function(e){return e.platform_mall_id===l.platform_mall_id})),n.length){e.next=4;break}return e.abrupt("return","continue");case 4:return s=n.map((function(e){return e.itemid})),r={itemids:s,placement_list:[1,2,5],mallId:l.platform_mall_id},e.next=8,t.$shopeemanService.getRelevancePrice(l.country,r);case 8:o=e.sent,200===o.code?n.forEach((function(e){e.image=e.images.split(",")[0];var a=o.data.find((function(t){return t.itemid===e.itemid&&1===t.placement}));e.nominate1=a?a.price.toFixed(2):0,e.selfPrice=a?a.price.toFixed(1):0;var i=o.data.find((function(t){return t.itemid===e.itemid&&2===t.placement}));e.nominate2=i?i.price.toFixed(2):0;var l=o.data.find((function(t){return t.itemid===e.itemid&&5===t.placement}));e.nominate5=l?l.price.toFixed(2):0,e.budgetType="all",e.budget="0",e.timeType="0",e.timeRange=[],t.relevanceList.push(JSON.parse(JSON.stringify(e)))})):(c="",403===o.code?(c="获取失败，店铺未登录",t.$refs.Logs.writeLog("店铺【".concat(l.mall_alias_name||l.platform_mall_name,"】,商品【").concat(s.join(","),"】获取推荐价格失败,店铺未登录"),!1)):(c="获取失败",t.$refs.Logs.writeLog("店铺【".concat(l.mall_alias_name||l.platform_mall_name,"】,商品【").concat(s.join(","),"】获取推荐价格失败，").concat(o.data),!1)),n.forEach((function(e){e.image=e.images.split(",")[0],e["selfPrice"]=0,e["nominate1"]=-1,e["nominate2"]=-1,e["nominate5"]=-1,e["nominateRemark"]=c,e["budgetType"]="all",e["budget"]="0",e["timeType"]="0",e["timeRange"]=[],t.relevanceList.push(JSON.parse(JSON.stringify(e)))})));case 10:case"end":return e.stop()}}),e)})),n=0;case 3:if(!(n<t.selectMallList.length)){a.next=11;break}return a.delegateYield(l(n),"t0",5);case 5:if(s=a.t0,"continue"!==s){a.next=8;break}return a.abrupt("continue",8);case 8:n++,a.next=3;break;case 11:case"end":return a.stop()}}),a)})))()},createRelevance:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.adventType="targeting",e.goodsItemSelectorVisible=!0,e.relevanceList=[];case 3:case"end":return t.stop()}}),t)})))()},stopStartActive:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.multipleSelection.length){a.next=2;break}return a.abrupt("return",t.$message.warning("请先选择数据！"));case 2:t.showConsole=!1,t.multipleSelection.forEach(function(){var a=Object(r["a"])(regeneratorRuntime.mark((function a(i,l){var n,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n={campaignid_list:[i.campaign.campaignid],action:e,need_campaign:!0,mallId:i.mallInfo.platform_mall_id},a.next=3,t.$shopeemanService.stopStartAdvent(i.mallInfo.country,n,"put");case 3:s=a.sent,200===s.code?t.$refs.Logs.writeLog("店铺【".concat(i.mallInfo.mall_alias_name||i.mallInfo.platform_mall_name,"】，商品【").concat(i.product.itemid,"】").concat(1===e?"暂停":"继续","广告成功！"),!0):403===s.code?t.$refs.Logs.writeLog("店铺【".concat(i.mallInfo.mall_alias_name||i.mallInfo.platform_mall_name,"】，商品【").concat(i.product.itemid,"】").concat(1===e?"暂停":"继续","广告失败，店铺未登录！"),!1):t.$refs.Logs.writeLog("店铺【".concat(i.mallInfo.mall_alias_name||i.mallInfo.platform_mall_name,"】，商品【").concat(i.product.itemid,"】").concat(1===e?"暂停":"继续","广告失败，").concat(s.data,"！"),!1),l===t.multipleSelection.length-1&&t.batchGetAdventList();case 6:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}());case 4:case"end":return a.stop()}}),a)})))()},stopCreateAdvent:function(){Object(d["z"])(),this.$alert("正在停止操作，可能需要一些时间！","提示",{confirmButtonText:"确定"})},createBatchKeyword:function(){if(!this.selectMallList.length)return this.$message.warning("请选择店铺！");this.createType="batch",this.adventType="keyword",this.createAdventVisible=!0},batchCreateKeyWord:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.createChooseGoods.length){t.next=2;break}return t.abrupt("return",e.$message.warning("请先选择商品！"));case 2:if("2"!==e.budgetSingle||e.budget){t.next=4;break}return t.abrupt("return",e.$message.warning("请设置预算！"));case 4:return e.showConsole=!1,t.next=7,Object(d["c"])(e.selectMallList,e.createBatchKeyWordAdvent);case 7:e.createAdventVisible=!1,e.batchGetAdventList();case 9:case"end":return t.stop()}}),t)})))()},createBatchKeyWordAdvent:function(e){var t=arguments,a=this;return Object(r["a"])(regeneratorRuntime.mark((function i(){var l,n,s,r,o,c;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(l=t.length>1&&void 0!==t[1]?t[1]:{count:1},i.prev=1,a.$refs.Logs.writeLog("店铺【".concat(e.mall_alias_name||e.platform_mall_name,"】开始创建广告"),!0),n=a.createChooseGoods.filter((function(t){return t.platform_mall_id==e.platform_mall_id})),n.length){i.next=6;break}return i.abrupt("return",a.$refs.Logs.writeLog("店铺【".concat(e.mall_alias_name||e.platform_mall_name,"】停止创建广告，该店铺未选择商品"),!0));case 6:return s=[],r={start_time:a.timeRange.length?Math.round(new Date(a.timeRange[0]).getTime()/1e3):0,end_time:a.timeRange.length?Math.round(new Date(a.timeRange[1]).getTime()/1e3):0,daily_quota:"day"===a.budgetType?Number(a.budget):0,total_quota:"total"===a.budgetType?Number(a.budget):0,status:1},n.forEach((function(e){var t={itemid:e.itemid,status:1,placement:4,extinfo:{target_roi:0}},a=[t],i={campaign:r,advertisements:a};s.push(i)})),o={campaign_ads_list:s,ads_audit_event:4,mallId:e.platform_mall_id},a.showConsole=!1,i.next=13,a.$shopeemanService.createKeyAdvent(e.country,o);case 13:c=i.sent,200===c.code?a.$refs.Logs.writeLog("店铺【".concat(e.mall_alias_name||e.platform_mall_name,"】创建广告成功"),!0):403===c.code?a.$refs.Logs.writeLog("店铺【".concat(e.mall_alias_name||e.platform_mall_name,"】创建广告失败，店铺未登录"),!1):a.$refs.Logs.writeLog("店铺【".concat(e.mall_alias_name||e.platform_mall_name,"】创建广告失败，").concat(c.data),!1),i.next=19;break;case 17:i.prev=17,i.t0=i["catch"](1);case 19:return i.prev=19,--l.count,i.finish(19);case 22:case"end":return i.stop()}}),i,null,[[1,17,19,22]])})))()},publishAdvent:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,i,l,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.autoKeyword||e.handleKeyword||e.multipleSelectionKey.length){t.next=2;break}return t.abrupt("return",e.$message.warning("请切换自动选择或至少选择一个关键字"));case 2:if("2"!==e.budgetSingle||e.budget){t.next=4;break}return t.abrupt("return",e.$message.warning("请设置预算！"));case 4:return e.loading=!0,t.prev=5,a=[],i={start_time:e.timeRange.length?Math.round(new Date(e.timeRange[0]).getTime()/1e3):0,end_time:e.timeRange.length?Math.round(new Date(e.timeRange[1]).getTime()/1e3):0,daily_quota:"day"===e.budgetType?Number(e.budget):0,total_quota:"total"===e.budgetType?Number(e.budget):0,status:1},e.createChooseGoods.forEach((function(t){var l=[],n={itemid:t.itemid,status:1,placement:4,extinfo:{target_roi:0}};if(l.push(n),e.handleKeyword){var s=[];e.multipleSelectionKey.forEach((function(e){var t={match_type:1,keyword:e.keyword,price:Number(e.selfPrice),status:1,algorithm:e.algorithm};s.push(t)}));var r={itemid:t.itemid,status:1,placement:0,extinfo:{keywords:s}};l.push(r)}var o={campaign:i,advertisements:l};a.push(o)})),l={campaign_ads_list:a,ads_audit_event:4,mallId:e.selectMallList[0].platform_mall_id},e.showConsole=!1,t.next=13,e.$shopeemanService.createKeyAdvent(e.country,l);case 13:n=t.sent,200===n.code?(e.$refs.Logs.writeLog("创建广告成功",!0),e.createAdventVisible=!1,e.batchGetAdventList()):403===n.code?e.$refs.Logs.writeLog("创建广告失败，店铺未登录",!1):e.$refs.Logs.writeLog("创建广告失败，".concat(n.data),!1),e.loading=!1,t.next=21;break;case 18:t.prev=18,t.t0=t["catch"](5),e.loading=!1;case 21:case"end":return t.stop()}}),t,null,[[5,18]])})))()},batchChangeKey:function(e){if(!this.multipleSelectionKey.length)return this.$message.warning("请先勾选数据!");"delete"===e?this.setKeyDelete():this[e]=!0},setKeyDeleteSingle:function(e){this.keyWordList.splice(e,1)},setKeyDelete:function(){var e=this;this.multipleSelectionKey.forEach((function(t){var a=e.keyWordList.findIndex((function(e){return e.keyword===t.keyword}));a>-1&&e.keyWordList.splice(a,1)}))},setKeyType:function(){var e=this;this.multipleSelectionKey.forEach((function(t){var a=e.keyWordList.findIndex((function(e){return e.keyword===t.keyword}));a>-1&&e.$set(e.keyWordList[a],"algorithm",e.keyType)}))},setKeyPrice:function(){var e=this;this.multipleSelectionKey.forEach((function(t){var a=0;"1"===e.keyPriceRadio?a="add"===e.calcType?Number(t.recommend_price)+Number(e.keyPrice1):Number(t.recommend_price)-Number(e.keyPrice1):"2"===e.keyPriceRadio?a="add"===e.calcType?Number(t.recommend_price)+e.keyPrice2/100*Number(t.recommend_price):Number(t.recommend_price)-e.keyPrice2/100*Number(t.recommend_price):"3"===e.keyPriceRadio?a=e.keyPrice3:"4"===e.keyPriceRadio&&(a=t.recommend_price);var i=e.keyWordList.findIndex((function(e){return e.keyword===t.keyword}));i>-1&&e.$set(e.keyWordList[i],"selfPrice",Number(a).toFixed(2))})),this.keyPriceVisible=!1}},Object(s["a"])(i,"setKeyType",(function(){var e=this;this.multipleSelectionKey.forEach((function(t){var a=e.keyWordList.findIndex((function(e){return e.keyword===t.keyword}));a>-1&&e.$set(e.keyWordList[a],"algorithm",e.keyType)})),this.keyTypeVisible=!1})),Object(s["a"])(i,"handleChangeKeyType",(function(){this.handleKeyword&&this.getKeyWordList()})),Object(s["a"])(i,"getKeyWordList",(function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={itemid:e.createChooseGoods[0].itemid,keyword:"",count:30,placement:0,mallId:e.selectGoods[0].platform_mall_id},e.keyListLoading=!0,t.next=4,e.$shopeemanService.getAdventKeyWordList(e.country,a);case 4:if(i=t.sent,e.keyListLoading=!1,200!==i.code){t.next=11;break}i.data.forEach((function(e){e["selfPrice"]=Number(e.recommend_price).toFixed(2)})),e.keyWordList=i.data,t.next=16;break;case 11:if(403!==i.code){t.next=15;break}return t.abrupt("return",e.$message.error("获取广告关键字失败，店铺未登录"));case 15:return t.abrupt("return",e.$message.error("获取广告关键字失败!"));case 16:case"end":return t.stop()}}),t)})))()})),Object(s["a"])(i,"changeGoodsItem",(function(e){this.selectGoods=e.goodsList,this.goodsItemSelectorVisible=!1,"targeting"===this.adventType?(this.relevanceVisible=!0,this.dealWithTargetGoods(e.goodsList)):"single"==this.createType?(this.createAdventVisible=!0,this.createChooseGoods=e.goodsList.length?[e.goodsList[0]]:[],this.createChooseGoods.forEach((function(e){e.image=e.images.split(",")[0]}))):"batch"==this.createType&&(this.createChooseGoods=this.createChooseGoods.concat(e.goodsList),this.createChooseGoods=this.createChooseGoods.splice(0,20),this.createChooseGoods.forEach((function(e){e.image=e.images.split(",")[0]})))})),Object(s["a"])(i,"createSingleKeyword",(function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.selectMallList.length){t.next=2;break}return t.abrupt("return",e.$message.warning("请选择店铺！"));case 2:if(1===e.selectMallList.length){t.next=4;break}return t.abrupt("return",e.$alert("创建单个商品广告活动只支持单个店铺创建，请重新选择！","提示",{confirmButtonText:"确定"}));case 4:e.createType="single",e.adventType="keyword",e.goodsItemSelectorVisible=!0;case 7:case"end":return t.stop()}}),t)})))()})),Object(s["a"])(i,"exportData",(function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.tableData.length){t.next=2;break}return t.abrupt("return",e.$message.warning("没有可导出的数据！"));case 2:a=1,i="<tr>\n            <td>编号</td>\n            <td>店铺</td>\n            <td>商品图片</td>\n            <td>商品ID</td>\n            <td>商品名称</td>\n            <td>活动类型</td>\n            <td>活动日期</td>\n            <td>预算</td>\n            <td>浏览数</td>\n            <td>点击次数</td>\n            <td>点击率（%）</td>\n            <td>订单数</td>\n            <td>商品已出售</td>\n            <td>销售金额</td>\n            <td>花费</td>\n            <td>投资产出比</td>\n            <td>成本收入对比（%）</td>\n            </tr>",e.tableData.forEach((function(t){i+="<tr><td>".concat(a++,"</td>\n        <td>").concat(t.mallInfo?"".concat(t.mallInfo.country,"-").concat(t.mallInfo.mall_alias_name||t.mallInfo.platform_mall_name):"\t","</td>\n        <td>").concat(t.image?e.$filters.imageRender(t.image):"\t","</td>\n        <td>").concat(t.product?t.product.itemid:"\t","</td>\n        <td>").concat(t.product?t.product.name:"\t","</td>\n        <td>").concat(t.campaign?e.activeState[t.campaign.state]:"\t","</td>\n        <td>").concat(t.campaign.start_time?"".concat(e.$dayjs(1e3*t.campaign.start_time).format("YYYY/MM/DD HH:mm:ss")," - ").concat(0==t.campaign.end_time?"":e.$dayjs(1e3*t.campaign.end_time).format("YYYY/MM/DD HH:mm:ss")):"\t","</td>\n        <td>").concat(e.dealWithQuota(t)+"\t","</td>\n        <td>").concat(t.report?t.report.impression.value:"\t","</td>\n        <td>").concat(t.report?t.report.click.value:"\t","</td>\n        <td>").concat(0==Number(t.report.impression.value)?0:Math.round(Number(t.report.click.value)/Number(t.report.impression.value)*100).toFixed(2)+"\t","</td>\n        <td>").concat(t.report?t.report.order_amount.value:"\t","</td>\n        <td>").concat(t.report?t.report.order_amount.value:"\t","</td>\n        <td>").concat(t.report?t.report.order_gmv.value:"\t","</td>\n        <td>").concat(t.report?t.report.cost.value:"\t","</td>\n        <td>").concat(Math.round(t.report.gmv_expense_ratio.value).toFixed(2)+"\t","</td>\n        <td>").concat(Math.round(100*t.report.cir.value).toFixed(2)+"\t","</td>\n        </tr>\n        ")})),Object(d["j"])("商品广告信息",i);case 6:case"end":return t.stop()}}),t)})))()})),Object(s["a"])(i,"getMallBalance",(function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var i,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i={need_create:0,mallId:e.platform_mall_id},a.next=3,t.$shopeemanService.getMallBalance(e.country,i);case 3:if(l=a.sent,200!==l.code){a.next=9;break}return t.$refs.Logs.writeLog("店铺【".concat(e.mall_alias_name||e.platform_mall_name,"】获取余额成功，余额【").concat(l.data.balance,"】"),!0),a.abrupt("return",l.data.balance);case 9:if(403!==l.code){a.next=14;break}return t.$refs.Logs.writeLog("店铺【".concat(e.mall_alias_name||e.platform_mall_name,"】获取余额失败，店铺未登录"),!1),a.abrupt("return",0);case 14:return t.$refs.Logs.writeLog("店铺【".concat(e.mall_alias_name||e.platform_mall_name,"】获取余额失败，").concat(l.data),!1),a.abrupt("return",0);case 16:case"end":return a.stop()}}),a)})))()})),Object(s["a"])(i,"getAdventAnalysis",(function(e,t){var a=this;return Object(r["a"])(regeneratorRuntime.mark((function i(){var l,n,s,r,o;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return l=Math.round(new Date(a.statisticalTime[0]).getTime()/1e3),n=Math.round(new Date(a.statisticalTime[1]).getTime()/1e3),s={start_time:l,end_time:n,agg_interval:4,placement_list:[1,2,5],mallId:e.platform_mall_id},i.prev=3,i.next=6,a.$shopeemanService.getAdventAnalysis(e.country,s);case 6:r=i.sent,200===r.code?(o={mallId:e.platform_mall_id,mallName:e.mall_alias_name||e.platform_mall_name,country:e.country,balance:t,impression:0,click:0,order:0,orderGmv:0,cost:0},r.data.forEach((function(e){o.impression+=e.impression,o.click+=e.click,o.order+=e.order_amount,o.orderGmv+=e.order_gmv,o.cost+=e.cost})),a.totalData.push(o),a.analysisData[e.platform_mall_id]=r.data):403===r.code?a.$refs.Logs.writeLog("店铺【".concat(e.mall_alias_name||e.platform_mall_name,"】综合统计数据获取失败，店铺未登录"),!1):a.$refs.Logs.writeLog("店铺【".concat(e.mall_alias_name||e.platform_mall_name,"】综合统计数据获取失败，").concat(r.data),!1),i.next=12;break;case 10:i.prev=10,i.t0=i["catch"](3);case 12:case"end":return i.stop()}}),i,null,[[3,10]])})))()})),Object(s["a"])(i,"dealWithQuota",(function(e){return 0==Number(e.campaign.daily_quota)&&0==Number(e.campaign.total_quota)?"无限制":0!==Number(e.campaign.daily_quota)?"日预算-".concat(e.campaign.daily_quota):0!==Number(e.campaign.total_quota)?"总预算-".concat(e.campaign.total_quota):void 0})),Object(s["a"])(i,"batchGetAdventList",(function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.selectMallList.length){t.next=2;break}return t.abrupt("return",e.$message.warning("请选择店铺"));case 2:return e.tableData=[],e.analysisData={},e.totalData=[],e.loading=!0,e.totalAnalysisData={balance:0,impression:0,click:0,order:0,orderGmv:0,cost:0},t.next=9,Object(d["c"])(e.selectMallList,e.getAdventList);case 9:e.totalData.forEach((function(t){e.totalAnalysisData.balance+=t.balance,e.totalAnalysisData.impression+=t.impression,e.totalAnalysisData.click+=t.click,e.totalAnalysisData.order+=t.order,e.totalAnalysisData.orderGmv+=t.orderGmv,e.totalAnalysisData.cost+=t.cost})),e.$refs.Logs.writeLog("查询结束！",!0),e.loading=!1;case 12:case"end":return t.stop()}}),t)})))()})),Object(s["a"])(i,"getAdventList",(function(e){var t=arguments,a=this;return Object(r["a"])(regeneratorRuntime.mark((function i(){var l,n,s,r,o,c,d,m,u,p;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return l=t.length>1&&void 0!==t[1]?t[1]:{count:1},n=Math.round(new Date(a.statisticalTime[0]).getTime()/1e3),s=Math.round(new Date(a.statisticalTime[1]).getTime()/1e3),r=40,o=0,i.next=7,a.getMallBalance(e);case 7:return c=i.sent,a.getAdventAnalysis(e,c),i.prev=9,d={start_time:n,end_time:s,campaign_type:a.adventType,filter_content:a.activeType,sort_key:"mtime",sort_direction:1,search_content:"",offset:0,limit:r,mallId:e.platform_mall_id},i.next=13,a.$shopeemanService.getAdventList(e.country,d);case 13:if(m=i.sent,200!==m.code){i.next=30;break}u=m.data.campaign_ads_list||[];case 16:if(!u.length){i.next=27;break}return o+=u.length,u.forEach((function(t){t.mallInfo=e,t.image=t.product.images.split(",")[0]})),a.tableData=a.tableData.concat(u),d.offset+=r,i.next=23,a.$shopeemanService.getAdventList(e.country,d);case 23:p=i.sent,u=200===p.code?p.data.campaign_ads_list:[],i.next=16;break;case 27:a.$refs.Logs.writeLog("店铺【".concat(e.mall_alias_name||e.platform_mall_name,"】功获取到广告数量").concat(o,"条"),!0),i.next=31;break;case 30:403===m.code?a.$refs.Logs.writeLog("店铺【".concat(e.mall_alias_name||e.platform_mall_name,"】获取广告失败，店铺未登录"),!1):a.$refs.Logs.writeLog("店铺【".concat(e.mall_alias_name||e.platform_mall_name,"】获取广告失败，").concat(m.data),!1);case 31:i.next=36;break;case 33:i.prev=33,i.t0=i["catch"](9),a.loading=!1;case 36:return i.prev=36,--l.count,i.finish(36);case 39:case"end":return i.stop()}}),i,null,[[9,33,36,39]])})))()})),Object(s["a"])(i,"handleSelectionChangeRelevance",(function(e){this.multipleSelectionRelevance=e})),Object(s["a"])(i,"handleSelectionChange",(function(e){this.multipleSelection=e})),Object(s["a"])(i,"handleSelectionChangeKey",(function(e){this.multipleSelectionKey=e})),Object(s["a"])(i,"changeMallList",(function(e){this.selectMallList=e,this.country=e.country,this.setClickPrice()})),Object(s["a"])(i,"setClickPrice",(function(){switch(this.country){case"TH":this.dailyBudgetMinLimit=20,this.totalBudgetMinLimit=100,this.dailySingleClickPrice=2.1,this.totalSingleClickPrice=2.1;break;case"ID":this.dailyBudgetMinLimit=2500,this.totalBudgetMinLimit=25e3,this.dailySingleClickPrice=300,this.totalSingleClickPrice=288;break;case"MY":this.dailyBudgetMinLimit=2,this.totalBudgetMinLimit=20,this.dailySingleClickPrice=.13,this.totalSingleClickPrice=.13;break;case"TW":this.dailyBudgetMinLimit=20,this.totalBudgetMinLimit=100,this.dailySingleClickPrice=2.83,this.totalSingleClickPrice=2.83;break;case"SG":this.dailyBudgetMinLimit=2,this.totalBudgetMinLimit=20,this.dailySingleClickPrice=.09,this.totalSingleClickPrice=.09;break;case"VN":this.dailyBudgetMinLimit=5e3,this.totalBudgetMinLimit=5e3,this.dailySingleClickPrice=671,this.totalSingleClickPrice=671;break;case"PH":this.dailyBudgetMinLimit=20,this.totalBudgetMinLimit=200,this.dailySingleClickPrice=1.18,this.totalSingleClickPrice=1.18;break}})),Object(s["a"])(i,"closeDialog",(function(){this.handleKeyword=!1,this.createChooseGoods=[],this.budgetSingle="1",this.timeSingle="1",this.budgetType="day",this.budget="",this.keyType="",this.relevanceBudgetType="all",this.relevanceBudget=0})),Object(s["a"])(i,"closeKeyPrice",(function(){this.keyPriceRadio="1",this.calcType="add",this.keyPrice1="",this.keyPrice2="",this.keyPrice3=""})),i)},u=m,p=(a("c693"),a("2877")),g=Object(p["a"])(u,l,n,!1,null,"233e4180",null);t["default"]=g.exports}}]);