(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-423579c0"],{"7e38":function(t,e,a){},"8a9d":function(t,e,a){"use strict";a("7e38")},d194:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",{staticClass:"contaniner"},[a("el-row",{staticClass:"header"},[a("ul",{staticStyle:{"margin-bottom":"10px"}},[a("li",[a("span",[t._v("二次销售状态：")]),a("el-select",{attrs:{placeholder:"",size:"mini",filterable:""},model:{value:t.form.returnStatus,callback:function(e){t.$set(t.form,"returnStatus",e)},expression:"form.returnStatus"}},[a("el-option",{attrs:{label:"全部",value:-1}}),t._l(t.returnStatusList,(function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})}))],2)],1),a("li",[a("span",[t._v("二次销售类型：")]),a("el-select",{attrs:{placeholder:"",size:"mini",filterable:""},model:{value:t.form.returnType,callback:function(e){t.$set(t.form,"returnType",e)},expression:"form.returnType"}},[a("el-option",{attrs:{label:"全部",value:-1}}),t._l(t.returnType,(function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})}))],2)],1),a("li",[a("span",[t._v("包裹创建时间：")]),a("el-date-picker",{attrs:{"unlink-panels":"",size:"mini",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.form.returnCreateTime,callback:function(e){t.$set(t.form,"returnCreateTime",e)},expression:"form.returnCreateTime"}})],1)]),a("ul",{staticStyle:{"margin-bottom":"10px"}},[a("li",{staticStyle:{"margin-left":"35px"}},[a("span",[t._v("商品ID：")]),a("el-input",{attrs:{clearable:"",size:"mini",oninput:"value=value.replace(/\\s+/g,'')"},model:{value:t.form.returnGoodsId,callback:function(e){t.$set(t.form,"returnGoodsId",e)},expression:"form.returnGoodsId"}})],1),a("li",{staticStyle:{"margin-left":"38px"}},[a("span",[t._v("SkuID：")]),a("el-input",{attrs:{clearable:"",size:"mini",oninput:"value=value.replace(/\\s+/g,'')"},model:{value:t.form.returnSkuId,callback:function(e){t.$set(t.form,"returnSkuId",e)},expression:"form.returnSkuId"}})],1),a("li",{staticStyle:{"margin-left":"25px"}},[a("span",[t._v("主订单号：")]),a("el-input",{staticStyle:{width:"228px!important"},attrs:{clearable:"",size:"mini",oninput:"value=value.replace(/\\s+/g,'')"},model:{value:t.form.returnMainOrderNum,callback:function(e){t.$set(t.form,"returnMainOrderNum",e)},expression:"form.returnMainOrderNum"}})],1)]),a("ul",{staticStyle:{"align-items":"center"}},[a("li",[a("span",[t._v("平台物流单号：")]),a("el-input",{attrs:{clearable:"",size:"mini",oninput:"value=value.replace(/\\s+/g,'')"},model:{value:t.form.returnLogisticsDocNum,callback:function(e){t.$set(t.form,"returnLogisticsDocNum",e)},expression:"form.returnLogisticsDocNum"}})],1),a("li",[a("el-button",{attrs:{type:"primary",disabled:t.Loading1,size:"mini"},on:{click:t.getSencondSales}},[t._v("搜索")]),a("el-button",{attrs:{type:"primary",size:"mini",loading:t.Loading2},on:{click:t.DerivedData}},[t._v("导出数据")])],1),a("li",[a("span",{staticStyle:{color:"red",width:"444px"}},[t._v("温馨提示：此模块展示数据为海外仓退回仓库的包裹数据，若需将此模块包裹数据进行二次销售，请前往【订单管理】使用二次销售功能进行匹配（不支持拆包出库）")])])]),a("ul"),a("el-row",{attrs:{id:"article"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.Loading3,expression:"Loading3"}],ref:"plTable",attrs:{"header-align":"center",height:"calc(100vh - 250px)",data:t.tableData,"header-cell-style":{backgroundColor:"#f5f7fa"}},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{align:"center",type:"selection","min-width":"50px"}}),a("el-table-column",{attrs:{align:"center",label:"站点","min-width":"70px",prop:"country",fixed:""},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("span",[t._v(t._s(t._f("chineseSite")(n.country)))])]}}])}),a("el-table-column",{attrs:{align:"center",prop:"receive_warehouse_name",label:"包裹所在仓库","min-width":"150px",fixed:""}}),a("el-table-column",{attrs:{align:"center",prop:"platform_tracking_number",label:"平台物流单号","min-width":"150px"}}),a("el-table-column",{attrs:{prop:"order_sn",label:"订单编号","min-width":"150px",align:"center"}}),a("el-table-column",{attrs:{prop:"type",label:"二次销售类型","min-width":"120px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("span",[t._v(t._s(t.returnType[n.type].label))])]}}])}),a("el-table-column",{attrs:{prop:"status",label:"二次销售状态","min-width":"120px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("span",[t._v(t._s(t.returnStatusList[n.status].label))])]}}])}),a("el-table-column",{attrs:{prop:"goods_id",label:"商品ID","min-width":"120px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("span",[a("el-button",{attrs:{type:"text"},nativeOn:{click:function(e){return t.open(n)}}},[t._v(" "+t._s(n.goods_id)+" ")])],1)]}}])}),a("el-table-column",{attrs:{prop:"goods_img",label:"商品图片","min-width":"100px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tooltip",{staticStyle:{width:"56px",height:"56px",display:"inline-block"},attrs:{effect:"light",placement:"right-end","visible-arrow":!1,enterable:!1}},[a("div",{attrs:{slot:"content"},slot:"content"},[a("el-image",{staticStyle:{width:"400px",height:"400px"},attrs:{src:t._f("imageRender")([e.row.country,e.row.platform_mall_id,e.row.goods_img])}})],1),a("el-image",{staticStyle:{width:"56px",height:"56px"},attrs:{src:t._f("imageRender")([e.row.country,e.row.platform_mall_id,e.row.goods_img])}})],1)]}}])}),a("el-table-column",{attrs:{prop:"goods_count",label:"商品数量","min-width":"120px",align:"center"}}),a("el-table-column",{attrs:{prop:"goods_price",label:"商品价格","min-width":"120px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("span",[t._v(t._s(n.goods_price)+t._s(t._f("siteCoin")(n.country)))])]}}])}),a("el-table-column",{attrs:{prop:"variation_name",label:"商品规格","min-width":"180px",align:"center"}}),a("el-table-column",{attrs:{prop:"variation_id",label:"商品货号（skuid）","min-width":"140px",align:"center"}}),a("el-table-column",{attrs:{prop:"goods_name",label:"商品名称","min-width":"150px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[n.goods_name?a("el-tooltip",{attrs:{effect:"dark",placement:"top-start"}},[a("div",{staticStyle:{width:"200px",height:"auto"},attrs:{slot:"content"},slot:"content"},[t._v(t._s(n.goods_name))]),a("el-button",{staticClass:"bindmallclass",attrs:{type:"text"}},[t._v(t._s(n.goods_name))])],1):t._e()]}}])}),a("el-table-column",{attrs:{prop:"return_create_time",label:"包裹创建时间","min-width":"150px",align:"center"}}),a("el-table-column",{attrs:{prop:"expired_at",label:"过期时间","min-width":"180px",align:"center"}}),a("el-table-column",{attrs:{prop:"ext.free_storage_days",label:"免租天数","min-width":"100px",align:"center"}}),a("el-table-column",{attrs:{prop:"resale_order_sn",label:"二次销售订单号","min-width":"150px",align:"center",fixed:"right"}})],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"","current-page":t.currentPage,"page-size":t.pageSize,layout:"total,sizes, prev, pager, next, jumper",total:t.total,"page-sizes":[100,200]},on:{"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e},"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)],1)],1)},l=[],r=a("1da1"),i=(a("96cf"),a("99af"),a("a9e3"),a("d81d"),a("0e0b")),o={data:function(){return{Loading1:!1,Loading2:!1,Loading3:!1,currentPage:1,tableData:[],total:0,pageSize:100,page:1,form:{returnStatus:-1,returnCreateTime:[(new Date).getTime()-2592e6,new Date],returnType:-1,returnGoodsId:"",returnSkuId:"",returnMainOrderNum:"",returnLogisticsDocNum:""},returnStatusList:[{value:0,label:"已收货或上架"},{value:1,label:"已匹配订单"},{value:2,label:"已下架"}],returnType:[{value:0,label:"未知"},{value:1,label:"跨境"},{value:2,label:"本土预售"},{value:3,label:"本土拍单"},{value:4,label:"采购物流单号"},{value:5,label:"备货暂存"}]}},mounted:function(){this.getSencondSales()},methods:{open:function(t){var e=this.$filters.countryShopeebuyCom(t.country);window.BaseUtilBridgeService.openUrl("".concat(e,"/product/").concat(t.platform_mall_id,"/").concat(t.goods_id))},getSencondSales:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,n,l,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.Loading1=!0,t.Loading3=!0,a=t.form.returnCreateTime?"".concat(t.$dayjs(t.form.returnCreateTime[0]).format("YYYY-MM-DD HH:mm:ss"),"/").concat(t.$dayjs(t.form.returnCreateTime[1]).format("YYYY-MM-DD HH:mm:ss")):"",n={status:Number(t.form.returnStatus),createTime:a,type:Number(t.form.returnType),goodsId:t.form.returnGoodsId,variationId:t.form.returnSkuId,orderSn:t.form.returnMainOrderNum,platformTrackingNumber:t.form.returnLogisticsDocNum,page:t.page,pageSize:t.pageSize},e.prev=4,e.next=7,t.$api.getsecondlist(n);case 7:if(l=e.sent,r=l.data,200===r.code){for(t.tableData=r.data.data,i=0;i<t.tableData.length;i++)t.tableData[i].ext&&void 0!==t.tableData[i].ext&&(t.tableData[i].ext=JSON.parse(t.tableData[i].ext));t.total=r.data.total}else t.$message.error("数据获取失败",r.message);e.next=14;break;case 12:e.prev=12,e.t0=e["catch"](4);case 14:t.Loading1=!1,t.Loading3=!1;case 16:case"end":return e.stop()}}),e,null,[[4,12]])})))()},DerivedData:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.Loading2=!0,!t.tableData.length){e.next=8;break}a='<tr>\n        <td style="width: 200px; text-align:left;">站点</td>\n        <td style="width: 200px; text-align:left;">包裹所在仓库</td>\n        <td style="width: 200px; text-align:left;">平台物流单号</td>\n        <td style="width: 200px; text-align:left;">订单编号</td>\n        <td style="width: 200px; text-align:left;">二次销售类型</td>\n        <td style="width: 200px; text-align:left;">二次销售状态</td>\n        <td style="width: 200px; text-align:left;">商品ID</td>\n        <td style="width: 200px; text-align:left;">商品图片</td>\n        <td style="width: 200px; text-align:left;">商品数量</td>\n        <td style="width: 200px; text-align:left;">商品价格</td>\n        <td style="width: 200px; text-align:left;">商品规格</td>\n        <td style="width: 200px; text-align:left;">商品货号（skuid）</td>\n        <td style="width: 200px; text-align:left;">商品名称</td>\n        <td style="width: 200px; text-align:left;">包裹创建时间</td>\n        <td style="width: 200px; text-align:left;">过期时间</td>\n        <td style="width: 200px; text-align:left;">免租天数</td>\n        <td style="width: 200px; text-align:left;">二次销售订单号</td>\n      </tr>',t.tableData.map((function(e){a+='\n        <tr>\n          <td style="text-align:left;">'.concat(e.id||"",'</td>\n          <td style="text-align:left;">').concat(t.$filters.chineseSite(e.country)||"","</td>\n          <td style=\"text-align:left;mso-number-format:'@';\">").concat(e.platform_tracking_number||"",'</td>\n          <td style="text-align:left;">').concat(e.order_sn||"",'</td>1\n          <td style="text-align:left;">').concat(t.returnType[e.type].label||"",'</td>\n          <td style="text-align:left;">').concat(t.returnStatusList[e.status].label||"",'</td>\n          <td style="text-align:left;">').concat(e.goods_id||"",'</td>\n          <td style="text-align:left;">').concat(e.goods_img?t.$filters.imageRender([e.country,e.platform_mall_id,e.goods_img]):"\t",'</td>\n          <td style="text-align:left;">').concat(e.goods_count||"",'</td>\n          <td style="text-align:left;">').concat(e.goods_price||"",'</td>\n          <td style="text-align:left;">').concat(e.variation_name||"",'</td>\n          <td style="text-align:left;">').concat(e.variation_id||"",'</td>\n          <td style="text-align:left;">').concat(e.goods_name||"",'</td>\n          <td style="text-align:left;">').concat(e.return_create_time||"",'</td>\n          <td style="text-align:left;">').concat(e.expired_at||"",'</td>\n          <td style="text-align:left;">').concat(null===e.ext.free_storage_days?"":e.ext.free_storage_days,'</td>\n          <td style="text-align:left;">').concat(e.resale_order_sn||"","</td>\n      \n        </tr>\n        ")})),Object(i["h"])("二次销售信息",a),t.Loading2=!1,e.next=10;break;case 8:return t.Loading2=!1,e.abrupt("return",t.$message.warning("没有可以导出的订单"));case 10:case"end":return e.stop()}}),e)})))()},handleSizeChange:function(t){this.page=1,this.pageSize=t,this.getSencondSales()},handleCurrentChange:function(t){this.page=t,this.getSencondSales()},handleSelectionChange:function(t){this.multipleSelection=t}}},s=o,d=(a("8a9d"),a("2877")),c=Object(d["a"])(s,n,l,!1,null,"5773585c",null);e["default"]=c.exports}}]);