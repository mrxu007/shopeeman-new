(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-11611c37"],{"0098":function(e,t,r){"use strict";r.d(t,"a",(function(){return b}));var a=r("1da1"),n=r("d4ec"),i=r("bee2"),o=r("ade3"),s=(r("96cf"),r("4de4"),r("159b"),r("99af"),r("c740"),r("7db0"),r("a9e3"),r("d3b7"),r("25f0"),r("caad"),r("2532"),r("ac1f"),r("5319"),r("1276"),r("466d"),r("5cc6"),r("9a8c"),r("a975"),r("735e"),r("c1ac"),r("d139"),r("3a7b"),r("d5d6"),r("82f8"),r("e91f"),r("60bd"),r("5f96"),r("3280"),r("3fcc"),r("ca91"),r("25a1"),r("cd26"),r("3c5d"),r("2954"),r("649e"),r("219c"),r("170b"),r("b39a9"),r("72f7"),r("3ca3"),r("ddb0"),r("fb6a"),r("bda5")),u=r("5f91"),c=r("b5e1"),l=r("a91f"),d=r("1431"),h=r.n(d),p=r("0e0b"),_=r("bcd0"),b=function(){function e(t,r){Object(n["a"])(this,e),Object(o["a"])(this,"$api",s["a"]),Object(o["a"])(this,"$shopeemanService",new u["a"]),Object(o["a"])(this,"$commodityService",new c["a"]),Object(o["a"])(this,"$appConfig",new l["a"]),Object(o["a"])(this,"isStop",!1),Object(o["a"])(this,"_this",null),Object(o["a"])(this,"pageSize",40),Object(o["a"])(this,"writeLog",void 0),Object(o["a"])(this,"orders",[]),Object(o["a"])(this,"schemaType",""),Object(o["a"])(this,"activeType","handle"),Object(o["a"])(this,"isApplyForceFaceInfo",!1),this._this=t,this.writeLog=r}return Object(i["a"])(e,[{key:"autoStart",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,r,n,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.activeType="auto",e.prev=1,this.isApplyForceFaceInfo=!1,e.next=5,this.$api.getEmptyTrackingNoOrder();case 5:if(t=e.sent,200!==t.data.code){e.next=14;break}if(r=t.data.data||[],n=r.filter((function(e){return"TW"!=e.country})),n.length){e.next=11;break}return e.abrupt("return",this.writeLog("【自动同步物流-面单】，终止-目前没有要同步的订单！",!1));case 11:n.forEach(function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:i.autoMainFlow(t),r==n.length-1&&i.writeLog("自动同步物流-面单完成",!0);case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),e.next=15;break;case 14:this.writeLog("【自动同步物流-面单】，终止-获取待同步物流订单数据失败",!1);case 15:e.next=20;break;case 17:return e.prev=17,e.t0=e["catch"](1),e.abrupt("return",this.writeLog("【自动同步物流-面单】，终止-".concat(e.t0),!1));case 20:case"end":return e.stop()}}),e,this,[[1,17]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"autoMainFlow",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var r,a,n,i,o,s,u,c,l,d,h,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("TW"!==t.country){e.next=2;break}return e.abrupt("return",this.writeLog("自动流程不同步台湾站面单",!1));case 2:if(r=t.mall_info.platform_mall_id||t.platform_mall_id,a=t.mall_info.id||t.sys_mall_id,n=t.order_id,i=t.country,o=t.order_sn||t.main_order_sn,e.prev=7,s=null,0!=n&&n){e.next=17;break}return u={keyword:o,shop_id:r},e.next=13,this.$shopeemanService.getOrderHint(i,u);case 13:c=e.sent,s=200===c.code&&c.data&&c.data.orders&&c.data.orders.length&&c.data.orders[0]||null,e.next=22;break;case 17:return l={order_id:n,shop_id:r},e.next=20,this.$shopeemanService.getDetailsSinger(i,l);case 20:d=e.sent,s=200===d.code&&d.data||null;case 22:if(s){e.next=25;break}return this.writeLog("订单【".concat(o,"】同步面单失败,获取订单详情失败,请检查店铺登录状态！"),!1),e.abrupt("return");case 25:if(h=this.checkTrackInfo(s),!h.trackingNo){e.next=33;break}return e.next=29,this.uploadTrackingNo(a,r,o,h.trackingNo,h.logistics_channel);case 29:return e.next=31,this.getPrintInfoFlow(a,s,i,h.trackingNo);case 31:e.next=43;break;case 33:return e.next=35,this.applyOrderTrackingNo(n,r,s.logistics_channel,i,a,o);case 35:if(p=e.sent,200!==p.code){e.next=41;break}return e.next=39,this.getPrintInfoFlow(a,s,i,p.data);case 39:e.next=43;break;case 41:return this.writeLog("订单【".concat(o,"】同步面单失败,获取运单号失败,").concat(p.data),!1),e.abrupt("return");case 43:e.next=47;break;case 45:e.prev=45,e.t0=e["catch"](7);case 47:case"end":return e.stop()}}),e,this,[[7,45]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"handleStart",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,r){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.activeType="handle",this.isApplyForceFaceInfo=r||!1,this.orders=t,a=0;case 4:if(!(a<t.length)){e.next=11;break}return n=t[a],e.next=8,this.handleMainFlow(n);case 8:a++,e.next=4;break;case 11:this.writeLog("面单同步已完成",!0);case 12:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"handleMainFlow",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var r,a,n,i,o,s,u,c,l,d,h,p,_,b;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.mall_info.platform_mall_id||t.platform_mall_id,a=t.mall_info.id||t.sys_mall_id,n=t.order_id,i=t.country,o=t.order_sn||t.main_order_sn,e.prev=5,s=null,0!=n&&n){e.next=15;break}return u={keyword:o,shop_id:r},e.next=11,this.$shopeemanService.getOrderHint(i,u);case 11:c=e.sent,s=200===c.code&&c.data&&c.data.orders&&c.data.orders.length&&c.data.orders[0]||null,e.next=20;break;case 15:return l={order_id:n,shop_id:r},e.next=18,this.$shopeemanService.getDetailsSinger(i,l);case 18:d=e.sent,s=200===d.code&&d.data||null;case 20:if(s){e.next=23;break}return this.writeLog("订单【".concat(o,"】同步面单失败,获取订单详情失败,请检查店铺登录状态！"),!1),e.abrupt("return");case 23:if(h=this.checkTrackInfo(s),!h.trackingNo){e.next=38;break}return e.next=27,this.uploadTrackingNo(a,r,o,h.trackingNo,h.logistics_channel);case 27:if(p=this._this.tableData.findIndex((function(e){return e.order_sn===t.order_sn})),p>-1&&this._this.$set(this._this.tableData[p],"tracking_no",h.trackingNo),"TW"!==t.country){e.next=34;break}return e.next=32,this.getPrintTWinfoFlow(a,s,i,h.trackingNo);case 32:e.next=36;break;case 34:return e.next=36,this.getPrintInfoFlow(a,s,i,h.trackingNo);case 36:e.next=55;break;case 38:return e.next=40,this.applyOrderTrackingNo(n,r,s.logistics_channel,i,a,o);case 40:if(_=e.sent,200!==_.code){e.next=53;break}if(b=this._this.tableData.findIndex((function(e){return e.order_sn===t.order_sn})),b>-1&&this._this.$set(this._this.tableData[b],"tracking_no",_.data),"TW"!==t.country){e.next=49;break}return e.next=47,this.getPrintTWinfoFlow(a,s,i,_.data);case 47:e.next=51;break;case 49:return e.next=51,this.getPrintInfoFlow(a,s,i,_.data);case 51:e.next=55;break;case 53:return this.writeLog("订单【".concat(o,"】同步面单失败，获取运单号失败,").concat(_.data),!1),e.abrupt("return");case 55:e.next=59;break;case 57:e.prev=57,e.t0=e["catch"](5);case 59:case"end":return e.stop()}}),e,this,[[5,57]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"checkTrackInfo",value:function(e){var t={};t["orderId"]=e.order_id;var r=e.shipping_traceno;if(!r){var a=JSON.parse(e.logistics_extra_data);a&&a.sls_info&&a.sls_info.last_mile_tracking_number&&(r=a.sls_info.last_mile_tracking_number)}return t["trackingNo"]=r,t["logistics_channel"]=e.logistics_channel||"",t}},{key:"applyOrderTrackingNo",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,r,a,n,i,o){var s,u,c,l,d,h,p,b,m,f,v,S,g,k,x;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("TW"!==n||this.isApplyForceFaceInfo){e.next=2;break}return e.abrupt("return",{code:50001,data:"台湾站不强制申请物流单号"});case 2:return e.next=4,this.$appConfig.getUserConfig();case 4:if(s=e.sent,u=s&&JSON.parse(s),"TW"===n||u&&u.is_apply_shopee_logistics){e.next=9;break}if(this.isApplyForceFaceInfo){e.next=9;break}return e.abrupt("return",this.getShopeeShipNumber(t,r,n,i,o));case 9:if(c=_["u"].find((function(e){return e.ShipId==a})),!c||c.IsDeafult){e.next=12;break}return e.abrupt("return",this.getShopeeShipNumber(t,r,n,i,o));case 12:if(e.prev=12,"TW"!==n){e.next=47;break}return l={shop_id:r},e.next=17,this.$shopeemanService.getShopSellerRealName(n,l);case 17:if(d=e.sent,h=""!=d&&d?d:null,h||(h="nick"),"30001"!=a){e.next=41;break}return p={shop_id:r},e.next=24,this.$shopeemanService.getShop(n,p);case 24:if(b=e.sent,m=200===b.code&&b.data.pickup_address_id||null,m){e.next=28;break}return e.abrupt("return",{code:50002,data:"no_address"});case 28:return f={order_id:t,address_id:m,channel_id:a,shop_id:r},e.next=31,this.$shopeemanService.getPickupTimeSlots(n,f);case 31:if(v=e.sent,S=200===v.code&&v.data.time_slots&&v.data.time_slots[0].value||null,S){e.next=35;break}return e.abrupt("return",{code:50003,data:"no_pickup_time"});case 35:return g={order_id:t,channel_id:a,forder_id:t,seller_real_name:h,pickup_time:S,seller_address_id:m,shop_id:r},e.next=38,this.$shopeemanService.handleOutOrder(n,g);case 38:e.sent,e.next=45;break;case 41:return k={order_id:t,channel_id:a,forder_id:t,seller_real_name:h,shop_id:r},e.next=44,this.$shopeemanService.handleOutOrder(n,k);case 44:e.sent;case 45:e.next=51;break;case 47:return x={order_id:t,channel_id:a,forder_id:t,shop_id:r},e.next=50,this.$shopeemanService.handleOutOrder(n,x);case 50:e.sent;case 51:return e.abrupt("return",this.getShopeeShipNumber(t,r,n,i,o));case 54:return e.prev=54,e.t0=e["catch"](12),e.abrupt("return",{code:50004,data:"catch - error"});case 57:case"end":return e.stop()}}),e,this,[[12,54]])})));function t(t,r,a,n,i,o){return e.apply(this,arguments)}return t}()},{key:"uploadTrackingNo",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,r,a,n,i){var o,s,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=[{orderSn:a,trackingNo:n,logisticsId:i}],{sysMallId:t,mallId:r,logisticsInfos:o},e.next=4,this.$commodityService.saveLogisticsInfo(t,r,o);case 4:s=e.sent,u=JSON.parse(s),200===u.code?this.writeLog("订单【".concat(a,"】同步物流成功，上报成功"),!0):this.writeLog("订单【".concat(a,"】同步物流失败，上报失败"),!1);case 7:case"end":return e.stop()}}),e,this)})));function t(t,r,a,n,i){return e.apply(this,arguments)}return t}()},{key:"getShopeeShipNumber",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,r,a,n,i){var o,s,u,c,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:e.prev=0,o="","",s={order_id:t,shop_id:r},u=0;case 5:if(!(u<3)){e.next=23;break}return e.next=8,this.$shopeemanService.getDropOff(a,s);case 8:if(c=e.sent,c&&200!==!c.code&&c.data){e.next=11;break}return e.abrupt("continue",20);case 11:if(l=c.data&&c.data.list&&c.data.list[0]&&c.data.list[0].forders[0].third_party_tn||"",null!=l&&""!=l||(l=c.data.consignment_no||""),c.data&&c.data.channel_id||"",o=l||"",""!==o){e.next=19;break}return e.abrupt("continue",20);case 19:return e.abrupt("break",23);case 20:u++,e.next=5;break;case 23:if(!o){e.next=29;break}return e.next=26,this.uploadTrackingNo(n,r,i,o,logisticsId);case 26:return e.abrupt("return",{code:200,data:o});case 29:return e.abrupt("return",{code:50005,data:"未获取到物流单号"});case 30:e.next=35;break;case 32:return e.prev=32,e.t0=e["catch"](0),e.abrupt("return",{code:50006,data:"error"});case 35:case"end":return e.stop()}}),e,this,[[0,32]])})));function t(t,r,a,n,i){return e.apply(this,arguments)}return t}()},{key:"getPrintInfoFlow",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,r,a,n){var i,o,s,u,c,l,d,h,p,_,b;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getPrintWaybillType(r.shop_id,a);case 3:if(i=e.sent,200===i.code&&i.data){e.next=7;break}return this.writeLog("订单【".concat(r.order_sn,"】同步面单失败[501]"),!1),e.abrupt("return");case 7:return this.writeLog("订单【".concat(r.order_sn,"】获取面单类型成功"),!0),o=i.data.waybill_type,s=[{order_id:Number(r.order_id),shop_id:Number(r.shop_id),region_id:a}],e.next=12,this.checkPackagePrintWaybillMultiShop(s,r.shop_id,a);case 12:if(u=e.sent,200===u.code&&u.data.list&&u.data.list.length&&u.data.list[0].package_number){e.next=16;break}return this.writeLog("订单【".concat(r.order_sn,"】同步面单失败，未获取到包裹号[502]"),!1),e.abrupt("return");case 16:return this.writeLog("订单【".concat(r.order_sn,"】获取包裹号成功"),!0),c=u.data.list[0].package_number,e.next=20,this.getSdConfig(r.shop_id,a);case 20:if(l=e.sent,l){e.next=24;break}return this.writeLog("订单【".concat(r.order_sn,"】同步面单失败，获取面单打印配置失败[503]"),!1),e.abrupt("return");case 24:return this.writeLog("订单【".concat(r.order_sn,"】获取面单打印配置成功"),!0),"VN"===a&&"NORMAL"===o&&(l=2),"THERMAL"===o&&(l=3),d=[{order_id:Number(r.order_id),package_number:c,region_id:a,shop_id:Number(r.shop_id),channel_id:Number(r.logistics_channel)}],e.next=30,this.createSdJobsMultiShop(d,r.shop_id,a,o+"_PDF","Air Waybill."+r.actual_carrier,l);case 30:if(h=e.sent,200===h.code&&h.data.list&&h.data.list.length&&h.data.list[0].job_id){e.next=34;break}return this.writeLog("订单【".concat(r.order_sn,"】同步面单失败，创建打印任务失败[504]"),!1),e.abrupt("return");case 34:return this.writeLog("订单【".concat(r.order_sn,"】创建打印任务成功"),!0),p=h.data.list[0].job_id,e.next=38,this.downloadSdJob(r.shop_id,p,a);case 38:if(_=e.sent,_){e.next=42;break}return this.writeLog("订单【".concat(r.order_sn,"】同步面单失败,下载失败[505]"),!1),e.abrupt("return");case 42:return e.next=44,this.checkFaceInfo(_,r.order_sn,n,r.actual_carrier,a,l,r);case 44:if(b=e.sent,200===b.code){e.next=48;break}return this.writeLog("订单【".concat(r.order_sn,"】同步面单失败，").concat(b.data,"[508]"),!1),e.abrupt("return");case 48:return e.next=50,this.uploadFaceInfo(t.toString(),r.shop_id.toString(),r.order_sn.toString(),b.data,".PDF");case 50:e.next=55;break;case 52:e.prev=52,e.t0=e["catch"](0),this.writeLog("订单【".concat(r.order_sn,"】同步面单失败，获取面单打印配置失败[000]"),!1);case 55:case"end":return e.stop()}}),e,this,[[0,52]])})));function t(t,r,a,n){return e.apply(this,arguments)}return t}()},{key:"uploadFaceInfo",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,r,a,n,i){var o,s,u,c,l,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=Object(p["v"])(!1,32)+"_"+(new Date).getTime()+i,e.next=3,this._this.$ossService.uploadFile(n,o);case 3:if(s=e.sent,!s){e.next=19;break}return u=[{url:s,orderSn:a.toString()}],{sysMallId:t.toString(),mallId:r,faceSheetInfos:u},e.next=9,this.$commodityService.saveFaceSheetInfo(t,r,u);case 9:if(c=e.sent,l=JSON.parse(c),!l||200!==l.code){e.next=16;break}return"handle"===this.activeType&&(d=this._this.tableData.findIndex((function(e){return e.order_sn===a})),d>-1&&this._this.$set(this._this.tableData[d],"hasLogistics","1")),e.abrupt("return",this.writeLog("订单【".concat(a,"】同步面单成功,上报成功"),!0));case 16:return e.abrupt("return",this.writeLog("订单【".concat(a,"】同步面单失败，上报失败，").concat(l.data.message),!1));case 17:e.next=20;break;case 19:return e.abrupt("return",this.writeLog("订单【".concat(a,"】获取面单异常！"),!1));case 20:case"end":return e.stop()}}),e,this)})));function t(t,r,a,n,i){return e.apply(this,arguments)}return t}()},{key:"getPrintTWinfoFlow",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,r){var a,n,i,o,s,u,c,l,d,h,p,_,b=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=b.length>2&&void 0!==b[2]?b[2]:"TW",n=b.length>3?b[3]:void 0,e.prev=2,"30001"!=r.logistics_channel){e.next=6;break}return this.writeLog("订单【".concat(r.order_sn,"】同步面单失败，黑猫无面单"),!1),e.abrupt("return",null);case 6:return i="30012"==r.logistics_channel?"THERMAL_PDF":"C2C_SHIPPING_LABEL_HTML",o=[{order_id:Number(r.order_id),shop_id:Number(r.shop_id),region_id:a}],e.next=10,this.checkPackagePrintWaybillMultiShop(o,r.shop_id,a);case 10:if(s=e.sent,200===s.code&&s.data.list&&s.data.list.length&&s.data.list[0].package_number){e.next=14;break}return this.writeLog("订单【".concat(r.order_sn,"】同步面单失败，未获取到包裹号[502]"),!1),e.abrupt("return");case 14:if(u=s.data.list[0].package_number,c=null,"30012"!=r.logistics_channel){e.next=20;break}c=3,e.next=23;break;case 20:return e.next=22,this.getSdConfig(r.shop_id,a);case 22:c=e.sent;case 23:if(c){e.next=26;break}return this.writeLog("订单【".concat(r.order_sn,"】同步面单失败，获取面单打印配置失败[503]"),!1),e.abrupt("return");case 26:return l=[{order_id:Number(r.order_id),package_number:u,region_id:a,shop_id:Number(r.shop_id)}],e.next=29,this.createSdJobsMultiShop(l,r.shop_id,a,i,"寄件单"+r.actual_carrier,c);case 29:if(d=e.sent,200===d.code&&d.data.list&&d.data.list.length&&d.data.list[0].job_id){e.next=33;break}return this.writeLog("订单【".concat(r.order_sn,"】同步面单失败，创建打印任务失败"),!1),e.abrupt("return");case 33:return h=d.data.list[0].job_id,e.next=36,this.downloadTwFace(r,h,a,n);case 36:if(p=e.sent,!p){e.next=55;break}if("30005"!=r.logistics_channel&&"30006"!=r.logistics_channel){e.next=43;break}return e.next=41,this.uploadFaceInfo(t.toString(),r.shop_id.toString(),r.order_sn.toString(),p,".html");case 41:e.next=53;break;case 43:return e.next=45,this.checkFaceInfo(p,r.order_sn,n,r.actual_carrier,a,c);case 45:if(_=e.sent,200===_.code){e.next=51;break}return this.writeLog("订单【".concat(r.order_sn,"】同步面单失败，").concat(_.data),!1),e.abrupt("return");case 51:return e.next=53,this.uploadFaceInfo(t.toString(),r.shop_id.toString(),r.order_sn.toString(),_.data,".PDF");case 53:e.next=57;break;case 55:return this.writeLog("订单【".concat(r.order_sn,"】同步面单失败，下载面单失败"),!1),e.abrupt("return");case 57:e.next=61;break;case 59:e.prev=59,e.t0=e["catch"](2);case 61:case"end":return e.stop()}}),e,this,[[2,59]])})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"downloadTwFace",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,r,a,n){var i,o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("30005"!=t.logistics_channel){e.next=8;break}return e.next=3,this.downloadSdJobTW(t.shop_id,r,a);case 3:if(i=e.sent,i){e.next=7;break}return this.writeLog("订单【".concat(t.order_sn,"】同步面单失败,下载失败[505]"),!1),e.abrupt("return",null);case 7:return e.abrupt("return",this.get711FaceInfo(n,i));case 8:if("30006"!=t.logistics_channel){e.next=16;break}return e.next=11,this.downloadSdJobTW(t.shop_id,r,a);case 11:if(o=e.sent,o){e.next=15;break}return this.writeLog("订单【".concat(t.order_sn,"】同步面单失败,下载失败[505]"),!1),e.abrupt("return");case 15:return e.abrupt("return",this.getQuanJiaFaceInfo(n,o,t.shop_id));case 16:return e.next=18,this.downloadSdJob(t.shop_id,r,a);case 18:return s=e.sent,e.abrupt("return",s);case 20:case"end":return e.stop()}}),e,this)})));function t(t,r,a,n){return e.apply(this,arguments)}return t}()},{key:"getLaiErFuFace",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={},e.next=3,this.$shopeemanService.getLaiErFuFace("TW",a);case 3:e.sent;case 4:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"get711FaceInfo",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,r){var a,n,i,o,s,u,c,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=h.a.load(r),n=a('input[name="tempvar"]')[0].attribs.value||void 0,n){e.next=4;break}return e.abrupt("return",null);case 4:return i={PinCodeNumber:t,tempvar:n,NewWindow:"Y",BackTag:"https://seller.shopee.tw/portal/sale/"},o={headers:{Referer:"https://epayment.7-11.com.tw/C2C/C2CWeb/C2C.aspx","User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.108 Safari/537.36","Content-Type":"application/x-www-form-urlencoded",isGBK:!1}},o["params"]=i,e.next=9,window["NetMessageBridgeService"].post("https://epayment.7-11.com.tw/C2C/C2CWeb/PrintC2CPinCode.aspx",JSON.stringify(o),JSON.stringify(i));case 9:if(s=e.sent,u=JSON.parse(s),c=u.data,!c||!c.includes(t)){e.next=20;break}return c=c.replace("css/C2CPrint.css","https://epayment.7-11.com.tw/C2C/C2CWeb/css/C2CPrint.css").replace("BarCode.ashx?CodeValue=","https://epayment.7-11.com.tw/C2C/C2CWeb/BarCode.ashx?CodeValue=").replace("QRCode.ashx?CodeValue=","https://epayment.7-11.com.tw/C2C/C2CWeb/QRCode.ashx?CodeValue=").replace("BarCode128.ashx?CodeValue=","https://epayment.7-11.com.tw/C2C/C2CWeb/BarCode128.ashx?CodeValue="),e.next=16,window["BaseUtilBridgeService"].htmlToBase64(c);case 16:return l=e.sent,e.abrupt("return",l);case 20:return e.abrupt("return",null);case 21:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"dataURLtoFile",value:function(e,t){var r=e.split(","),a=r[0].match(/:(.*?);/)[1],n=atob(r[1]),i=n.length,o=new Uint8Array(i);while(i--)o[i]=n.charCodeAt(i);return new File([o],t,{type:a})}},{key:"getQuanJiaFaceInfo",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,r,a){var n,i,o,s,u,c,l,d,p,_,b,m,f,v,S,g,k;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,n=h.a.load(r),i=n("input")[0].attribs.value,o=n("input")[1].attribs.value,o=o.replace("&lt;","<").replace("&gt;",">").replace("&#39;","'"),s=Number(n("input")[2].attribs.value),u=n("input")[3].attribs.value,e.next=9,window["ConfigBridgeService"].getGlobalCacheInfo("mallInfo",a);case 9:return c=e.sent,l=JSON.parse(c),d=l.mall_main_id,l.IPType,p={ApiKey:i,Data:o,TimeStamp:s,Signature:u},_={headers:{Host:"external2.shopee.tw","User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.108 Safari/537.36",Accept:"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3",isProxyMallId:d.toString(),"Content-Type":"application/x-www-form-urlencoded",isGBK:!1}},_["params"]=p,e.next=16,window["NetMessageBridgeService"].post("https://external2.shopee.tw/ext/familymart/OrderPrint/OrderPrint.aspx",JSON.stringify(_),JSON.stringify(p));case 16:if(b=e.sent,m=JSON.parse(b),f=m.data,f&&f.includes(".gif")){e.next=21;break}return e.abrupt("return",null);case 21:if(v=h.a.load(f),!v("img")){e.next=32;break}return S=v("img")[0].attribs.src,g="https://external2.shopee.tw/ext/familymart/OrderPrint/"+S,f=f.replace(S,g),e.next=28,window["BaseUtilBridgeService"].htmlToBase64(f);case 28:return k=e.sent,e.abrupt("return",k);case 32:return e.abrupt("return",null);case 33:e.next=38;break;case 35:return e.prev=35,e.t0=e["catch"](0),e.abrupt("return",null);case 38:case"end":return e.stop()}}),e,null,[[0,35]])})));function t(t,r,a){return e.apply(this,arguments)}return t}()},{key:"getPrintWaybillType",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,r){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={shop_id:t},e.next=3,this.$shopeemanService.getPrintWaybillType(r,a);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"checkPackagePrintWaybillMultiShop",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,r,a){var n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={order_info_list:t,shop_id:r},e.next=3,this.$shopeemanService.checkPackagePrintWaybillMultiShop(a,n);case 3:return i=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e,this)})));function t(t,r,a){return e.apply(this,arguments)}return t}()},{key:"getSdConfig",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,r){var a,n,i,o,s,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={shop_id:t},e.next=3,this.$shopeemanService.getSdConfig(r,a);case 3:if(n=e.sent,i=null,!(200===n.code&&n.data&&n.data.suggest_schema&&n.data.suggest_schema.last_normal_selected_schema)){e.next=14;break}return o=!1,s=n.data.suggest_schema.last_normal_selected_schema,u=n.data.suggest_schema.suggest_default_schema,(s.length<1&&u.length>1||s.length>1)&&(o=!0),i=o||"VN"===r?"TW"===r?6:"MY"===r||"PH"===r||"VN"===r?3:"TH"===r||"ID"===r?2:Number(u[1]):s.length<1?Number(u[0]):Number(s[0]),e.abrupt("return",i);case 14:return e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"createSdJobsMultiShop",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,r,a,n,i,o){var s,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s={record_generate_schema:!1,package_list:t,generate_file_details:[{file_type:n,file_name:i,file_contents:[o]}],shop_id:r},e.next=3,this.$shopeemanService.createSdJobsMultiShop(a,s);case 3:return u=e.sent,e.abrupt("return",u);case 5:case"end":return e.stop()}}),e,this)})));function t(t,r,a,n,i,o){return e.apply(this,arguments)}return t}()},{key:"downloadSdJob",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,r,a){var n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={job_id:r,shop_id:t},e.next=3,this.$shopeemanService.downloadSdJob(a,n);case 3:return i=e.sent,e.abrupt("return",i.rawBytes||"");case 5:case"end":return e.stop()}}),e,this)})));function t(t,r,a){return e.apply(this,arguments)}return t}()},{key:"downloadSdJobTW",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,r,a){var n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={job_id:r,shop_id:t},e.next=3,this.$shopeemanService.downloadSdJob(a,n);case 3:return i=e.sent,e.abrupt("return",i.data||"");case 5:case"end":return e.stop()}}),e,this)})));function t(t,r,a){return e.apply(this,arguments)}return t}()},{key:"checkFaceInfo",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,r,a,n,i,o,s){var u,c,l,d,h,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(null===t||t.length<500)&&r&&a){e.next=4;break}return e.abrupt("return",{code:50001,data:"面单大小或平台物流获取异常，请重新同步！"});case 4:if(u=t,"VN"!=i||"J&T Exoress"!=n||2!=o){e.next=14;break}return e.next=8,this.cutFaseSize(t,r,!0,300,420,-420);case 8:if(c=e.sent,200==c.code&&c.data){e.next=11;break}return e.abrupt("return",{code:50001,data:c.msg});case 11:u=200==c.code&&c.data||t,e.next=30;break;case 14:if("VN"!=i||"VNPost Nhanh"!=n){e.next=23;break}return e.next=17,this.cutFaseSize(t,r,!0,300,425,-420);case 17:if(l=e.sent,200==l.code&&l.data){e.next=20;break}return e.abrupt("return",{code:50001,data:l.msg});case 20:u=200==l.code&&l.data||t,e.next=30;break;case 23:if("ID"!=i){e.next=30;break}return e.next=26,this.cutFaseSize(t,r,!0,425,595,0);case 26:if(d=e.sent,200==d.code&&d.data){e.next=29;break}return e.abrupt("return",{code:50001,data:d.msg});case 29:u=200==d.code&&d.data||t;case 30:return e.next=32,window["BaseUtilBridgeService"].checkFaceInfo(u,r,a);case 32:if(h=e.sent,p=JSON.parse(h),200!==p.code){e.next=38;break}return e.abrupt("return",{code:200,data:u});case 38:return e.abrupt("return",{code:50001,data:"订单【".concat(r,"】获取面单异常, ").concat(p.msg)});case 39:case"end":return e.stop()}}),e,this)})));function t(t,r,a,n,i,o,s){return e.apply(this,arguments)}return t}()},{key:"cutFaseSize",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,r,a,n,i,o){var s,u,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s={OrderNo:r,IsUseA4Size:a,PdfWidth:n,PdfHeight:i,LocationY:o},e.next=3,window["BaseUtilBridgeService"].getFaceData(t,!0,s);case 3:return u=e.sent,c=u&&JSON.parse(u),e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));function t(t,r,a,n,i,o){return e.apply(this,arguments)}return t}()},{key:"blobToDataURL",value:function(e,t){var r=new FileReader;r.onload=function(e){t(e.target.result)},r.readAsDataURL(e)}},{key:"getPickListData",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var r,a,n,i,o=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:e.prev=0,r=this.dealWithMallOrderGroup(t),a="NORMAL",n=regeneratorRuntime.mark((function e(t){var n,i,s,u,c,l,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=r[t],i=n[0].country,s=t,u=r[t][0].mall_info.platform_mall_name,c=regeneratorRuntime.mark((function e(t){var r,c,l,d,h,p,_,b,m,f;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=n.slice(t,t+50),c=[],r.forEach((function(e){if(0!=e.order_id){var t={order_id:Number(e.order_id),shop_id:Number(s),region_id:i};c.push(t)}})),e.next=5,o.checkPackagePrintWaybillMultiShop(c,s,i);case 5:if(l=e.sent,200!==l.code){e.next=36;break}if(l.data.list.length){e.next=12;break}return o.writeLog("店铺【".concat(u,"】当前数据没有可下载的拣货单"),!1),e.abrupt("return","continue");case 12:return d=l.data.list,h=[],d.forEach((function(e){var t={order_id:Number(e.order_id),package_number:e.package_number,region_id:i,shop_id:Number(s)};h.push(t)})),e.next=17,o.createSdJobsMultiShop(h,s,i,a+"_PDF","PickList",0);case 17:if(p=e.sent,200===p.code&&p.data.list&&p.data.list.length&&p.data.list[0].job_id){e.next=22;break}o.writeLog("创建拣货单失败，".concat(p.data),!1),e.next=34;break;case 22:return _=p.data.list[0].job_id,e.next=25,o.downloadSdJob(s,_,i);case 25:if(b=e.sent,b&&!(b.length<500)){e.next=29;break}return o.writeLog("店铺【".concat(u,"】下载拣货单失败，稍后请重试"),!1),e.abrupt("return","continue");case 29:return e.next=31,window["BaseUtilBridgeService"].downloadPickForm(b,u);case 31:m=e.sent,f=JSON.parse(m),200===f.code?o.writeLog("店铺【".concat(u,"】下载拣货单成功"),!0):o.writeLog("店铺【".concat(u,"】下载拣货单失败，").concat(f.msg),!1);case 34:e.next=37;break;case 36:403===l.code?o.writeLog("店铺【".concat(u,"】下载拣货单失败,店铺未登录"),!1):o.writeLog("店铺【".concat(u,"】下载拣货单失败"),!1);case 37:case"end":return e.stop()}}),e)})),l=0;case 6:if(!(l<n.length)){e.next=14;break}return e.delegateYield(c(l),"t0",8);case 8:if(d=e.t0,"continue"!==d){e.next=11;break}return e.abrupt("continue",11);case 11:l+=50,e.next=6;break;case 14:case"end":return e.stop()}}),e)})),e.t0=regeneratorRuntime.keys(r);case 5:if((e.t1=e.t0()).done){e.next=10;break}return i=e.t1.value,e.delegateYield(n(i),"t2",8);case 8:e.next=5;break;case 10:e.next=14;break;case 12:e.prev=12,e.t3=e["catch"](0);case 14:this.writeLog("下载拣货单完成，请前往桌面【平台拣货单】文件夹查看",!0);case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"dealWithMallOrderGroup",value:function(e){for(var t={},r=0;r<e.length;r++){var a=e[r];t[a.mall_info.platform_mall_id]||(t[a.mall_info.platform_mall_id]=[]),t[a.mall_info.platform_mall_id].push(a)}return t}}]),e}()},bcd0:function(e,t,r){"use strict";r.d(t,"n",(function(){return a})),r.d(t,"s",(function(){return i})),r.d(t,"B",(function(){return u})),r.d(t,"m",(function(){return c})),r.d(t,"k",(function(){return l})),r.d(t,"A",(function(){return p})),r.d(t,"z",(function(){return _})),r.d(t,"x",(function(){return S})),r.d(t,"y",(function(){return g})),r.d(t,"u",(function(){return h})),r.d(t,"r",(function(){return s})),r.d(t,"h",(function(){return D})),r.d(t,"l",(function(){return d})),r.d(t,"p",(function(){return T})),r.d(t,"i",(function(){return O})),r.d(t,"j",(function(){return P})),r.d(t,"w",(function(){return k})),r.d(t,"a",(function(){return C})),r.d(t,"q",(function(){return I})),r.d(t,"f",(function(){return N})),r.d(t,"g",(function(){return o})),r.d(t,"b",(function(){return R})),r.d(t,"d",(function(){return n})),r.d(t,"c",(function(){return v})),r.d(t,"e",(function(){return m})),r.d(t,"v",(function(){return y})),r.d(t,"o",(function(){return w})),r.d(t,"t",(function(){return x}));r("7db0"),r("4de4");var a=[{value:1,label:"待支付",color:"#000"},{value:2,label:"待发货",color:"#FF0000"},{value:3,label:"已发货",color:"#32CD32"},{value:4,label:"已完成",color:"#32CD32"},{value:5,label:"取消中",color:"#000"},{value:6,label:"已取消",color:"#000"},{value:7,label:"退款/退货",color:"#FF0000"},{value:8,label:"确认签收",color:"#000"},{value:9,label:"退款成功",color:"#32CD32"},{value:10,label:"退款失败",color:"#FF0000"},{value:20,label:"无售后订单",color:"#000"}];function n(e,t){var r=a.find((function(t){return t.value==e}));return"color"==t?r&&r.color||"#000":r&&r.label||""}var i=[{value:1,label:"待采购",color:"#FF0000"},{value:3,label:"采购成功",color:"#32CD32"},{value:4,label:"上家已发货",color:"#000"},{value:5,label:"待支付",color:"#000"},{value:6,label:"已完成",color:"#32CD32"},{value:7,label:"已取消",color:"#000"},{value:8,label:"已申请退款",color:"#FF0000"},{value:9,label:"退款成功",color:"#000"}];function o(e,t){var r=i.find((function(t){return t.value==e}));return"color"==t?r&&r.color||"#000":r&&r.label||""}var s=[{value:1,label:"待采购"},{value:3,label:"采购成功"},{value:4,label:"上家已发货"},{value:6,label:"已完成"}],u=[{value:"payTime",label:"订单支付时间"},{value:"shopeeDeliveryTime",label:"发货时间"},{value:"sourceShippingTime",label:"采购发货时间"},{value:"shipByDate",label:"订单截止发货时间"}],c=[{value:"orderSn",label:"订单编号"},{value:"originalTrackingNumber",label:"采购物流单号"},{value:"patOrderSn",label:"采购单号"},{value:"trackingNo",label:"平台物流单号"},{value:"remark",label:"备注"},{value:"variationSku",label:"商品货号"},{value:"buyAccount",label:"买手号"},{value:"payAccount",label:"支付账号"}],l=[{value:1,label:"拼多多"},{value:2,label:"淘宝"},{value:3,label:"天猫"},{value:5,label:"自有"},{value:8,label:"1688"},{value:9,label:"Lazada"},{value:10,label:"京喜"},{value:11,label:"shopee"},{value:12,label:"ALIEXPRESS"},{value:13,label:"天猫淘宝海外平台"},{value:15,label:"货老板海外"}],d=[{value:"1",label:"拼多多"},{value:"2",label:"淘宝"},{value:"3",label:"天猫"},{value:"8",label:"1688"},{value:"9",label:"Lazada"},{value:"10",label:"京喜"},{value:"11",label:"shopee"},{value:"13",label:"天猫淘宝海外平台"}],h=[{Country:"泰国站",CountryCode:"TH",IsDeafult:!0,IsSelected:!0,ShipId:"7000",ShipName:"Standard Delivery - ส่งธรรมดาในประเทศ"},{Country:"泰国站",CountryCode:"TH",IsDeafult:!0,IsSelected:!1,ShipId:"7001",ShipName:"Standard Delivery Bulky - ส่งสินค้าขนาดใหญ่"},{Country:"泰国站",CountryCode:"TH",IsDeafult:!0,IsSelected:!1,ShipId:"70021",ShipName:"Kerry"},{Country:"泰国站",CountryCode:"TH",IsDeafult:!0,IsSelected:!0,ShipId:"70023",ShipName:"Best Express"},{Country:"泰国站",CountryCode:"TH",IsDeafult:!0,IsSelected:!0,ShipId:"70022",ShipName:"J&T Express"},{Country:"泰国站",CountryCode:"TH",IsDeafult:!0,IsSelected:!1,ShipId:"70020",ShipName:"DHL Domestic"},{Country:"泰国站",CountryCode:"TH",IsDeafult:!0,IsSelected:!1,ShipId:"70024",ShipName:"DHL Bulky"},{Country:"泰国站",CountryCode:"TH",IsDeafult:!1,IsSelected:!1,ShipId:"70016",ShipName:"Thailand Post - Registered Mail"},{Country:"泰国站",CountryCode:"TH",IsDeafult:!1,IsSelected:!1,ShipId:"70015",ShipName:"Thailand Post - EMS"},{Country:"泰国站",CountryCode:"TH",IsDeafult:!1,IsSelected:!1,ShipId:"79003",ShipName:"Seller Own Fleet"},{Country:"台湾站",CountryCode:"TW",IsDeafult:!0,IsSelected:!0,ShipId:"30005",ShipName:"7-11"},{Country:"台湾站",CountryCode:"TW",IsDeafult:!0,IsSelected:!0,ShipId:"30013",ShipName:"蝦皮店到店"},{Country:"台湾站",CountryCode:"TW",IsDeafult:!0,IsSelected:!0,ShipId:"30007",ShipName:"萊爾富"},{Country:"台湾站",CountryCode:"TW",IsDeafult:!0,IsSelected:!0,ShipId:"30006",ShipName:"全家"},{Country:"台湾站",CountryCode:"TW",IsDeafult:!0,IsSelected:!0,ShipId:"30001",ShipName:"黑貓宅急配"},{Country:"台湾站",CountryCode:"TW",IsDeafult:!0,IsSelected:!0,ShipId:"30008",ShipName:"OK Mart"},{Country:"台湾站",CountryCode:"TW",IsDeafult:!1,IsSelected:!1,ShipId:"30010",ShipName:"萊爾富-經濟包"},{Country:"台湾站",CountryCode:"TW",IsDeafult:!1,IsSelected:!1,ShipId:"39303",ShipName:"中華郵政"},{Country:"台湾站",CountryCode:"TW",IsDeafult:!1,IsSelected:!1,ShipId:"39304",ShipName:"賣家宅配"},{Country:"台湾站",CountryCode:"TW",IsDeafult:!1,IsSelected:!1,ShipId:"39312",ShipName:"賣家宅配：大型/超重物品運送"},{Country:"台湾站",CountryCode:"TW",IsDeafult:!0,IsSelected:!1,ShipId:"39308",ShipName:"賣家宅配：箱購"},{Country:"台湾站",CountryCode:"TW",IsDeafult:!1,IsSelected:!1,ShipId:"39013",ShipName:"賣家宅配：虛擬物品"},{Country:"台湾站",CountryCode:"TW",IsDeafult:!1,IsSelected:!1,ShipId:"30012",ShipName:"蝦皮宅配"},{Country:"马来站",CountryCode:"MY",IsDeafult:!0,IsSelected:!1,ShipId:"20021",ShipName:"Ninja Van"},{Country:"马来站",CountryCode:"MY",IsDeafult:!0,IsSelected:!1,ShipId:"20010",ShipName:"DHL eCommerce"},{Country:"马来站",CountryCode:"MY",IsDeafult:!0,IsSelected:!0,ShipId:"20011",ShipName:"J&T Express"},{Country:"马来站",CountryCode:"MY",IsDeafult:!1,IsSelected:!1,ShipId:"20007",ShipName:"Poslaju"},{Country:"马来站",CountryCode:"MY",IsDeafult:!0,IsSelected:!0,ShipId:"2000",ShipName:"Standard Delivery"},{Country:"马来站",CountryCode:"MY",IsDeafult:!1,IsSelected:!1,ShipId:"20023",ShipName:"City-Link Express"},{Country:"马来站",CountryCode:"MY",IsDeafult:!1,IsSelected:!1,ShipId:"29910",ShipName:"Others (West Malaysia)"},{Country:"马来站",CountryCode:"MY",IsDeafult:!1,IsSelected:!1,ShipId:"29911",ShipName:"Others (East Malaysia)"},{Country:"菲律宾站",CountryCode:"PH",IsDeafult:!0,IsSelected:!0,ShipId:"40018",ShipName:"J&T Express"},{Country:"菲律宾站",CountryCode:"PH",IsDeafult:!0,IsSelected:!1,ShipId:"40012",ShipName:"XPost Integrated"},{Country:"菲律宾站",CountryCode:"PH",IsDeafult:!0,IsSelected:!1,ShipId:"40017",ShipName:"Ninja Van Own Packaging"},{Country:"菲律宾站",CountryCode:"PH",IsDeafult:!0,IsSelected:!1,ShipId:"40066",ShipName:"Standard Delivery"},{Country:"菲律宾站",CountryCode:"PH",IsDeafult:!1,IsSelected:!1,ShipId:"40021",ShipName:"GoGo Xpress"},{Country:"菲律宾站",CountryCode:"PH",IsDeafult:!0,IsSelected:!0,ShipId:"4000",ShipName:"Standard Local"},{Country:"菲律宾站",CountryCode:"PH",ShipId:"49900",ShipName:"Other Logistics Provider"},{Country:"越南站",CountryCode:"VN",IsDeafult:!0,IsSelected:!0,ShipId:"50016",ShipName:"VNPost Tiết Kiệm"},{Country:"越南站",CountryCode:"VN",IsDeafult:!0,IsSelected:!0,ShipId:"50018",ShipName:"J&T Express"},{Country:"越南站",CountryCode:"VN",IsDeafult:!0,IsSelected:!0,ShipId:"50020",ShipName:"GrabExpress"},{Country:"越南站",CountryCode:"VN",IsDeafult:!0,IsSelected:!0,ShipId:"50022",ShipName:"NowShip"},{Country:"越南站",CountryCode:"VN",IsDeafult:!0,IsSelected:!0,ShipId:"50023",ShipName:"Ninja Van"},{Country:"越南站",CountryCode:"VN",IsDeafult:!0,IsSelected:!0,ShipId:"50024",ShipName:"BEST Express"},{Country:"越南站",CountryCode:"VN",IsDeafult:!0,IsSelected:!0,ShipId:"50010",ShipName:"Viettel Post"},{Country:"越南站",CountryCode:"VN",IsDeafult:!0,IsSelected:!0,ShipId:"50011",ShipName:"Giao Hàng Nhanh"},{Country:"越南站",CountryCode:"VN",IsDeafult:!0,IsSelected:!0,ShipId:"50012",ShipName:"Giao Hàng Tiết Kiệm"},{Country:"越南站",CountryCode:"VN",IsDeafult:!0,IsSelected:!0,ShipId:"50015",ShipName:"VNPost Nhanh"},{Country:"越南站",CountryCode:"VN",IsDeafult:!0,IsSelected:!0,ShipId:"5001",ShipName:"Nhanh"},{Country:"越南站",CountryCode:"VN",IsDeafult:!0,IsSelected:!1,ShipId:"5002",ShipName:"Tiết kiệm"},{Country:"越南站",CountryCode:"VN",IsDeafult:!0,IsSelected:!1,ShipId:"5000",ShipName:"Hoả Tốc"},{Country:"新加坡站",CountryCode:"SG",IsDeafult:!0,IsSelected:!0,ShipId:"18035",ShipName:"SpeedPost Economy"},{Country:"新加坡站",CountryCode:"SG",IsDeafult:!0,IsSelected:!0,ShipId:"10014",ShipName:"J&T Express"},{Country:"新加坡站",CountryCode:"SG",IsDeafult:!0,IsSelected:!0,ShipId:"10007",ShipName:"Ninja Van (Home Delivery)"},{Country:"新加坡站",CountryCode:"SG",IsDeafult:!1,IsSelected:!1,ShipId:"19100",ShipName:"Singpost - Normal Mail"},{Country:"印尼站",CountryCode:"ID",IsDeafult:!0,IsSelected:!0,ShipId:"8003",ShipName:"Reguler (Cashless)"},{Country:"印尼站",CountryCode:"ID",IsDeafult:!0,IsSelected:!0,ShipId:"8005",ShipName:"Hemat"},{Country:"印尼站",CountryCode:"ID",IsDeafult:!0,IsSelected:!0,ShipId:"8001",ShipName:"Same Day"},{Country:"印尼站",CountryCode:"ID",IsDeafult:!0,IsSelected:!0,ShipId:"8000",ShipName:"Instant"},{Country:"印尼站",CountryCode:"ID",IsDeafult:!0,IsSelected:!0,ShipId:"8002",ShipName:"Next Day"},{Country:"印尼站",CountryCode:"ID",IsDeafult:!1,IsSelected:!1,ShipId:"80008",ShipName:"JNE Trucking (JTR)"},{Country:"印尼站",CountryCode:"ID",IsDeafult:!1,IsSelected:!1,ShipId:"80031",ShipName:"Sicepat Gokil"},{Country:"印尼站",CountryCode:"ID",IsDeafult:!0,IsSelected:!0,ShipId:"80024",ShipName:"J&T Jemari"}],p=[{label:"全部",value:"all"}],_=[{label:"全部",value:"all"},{label:"待发货",value:"toship"},{label:"退款中",value:"refund"}],b=[{label:"普货",value:1},{label:"敏感货",value:2},{label:"商检货",value:3}];function m(e){var t=b.find((function(t){return t.value==e}));return t&&t.label||"普货"}var f=[{label:"待入库",value:1},{label:"等待包裹",value:2},{label:"紧急入库",value:3},{label:"待出库",value:4},{label:"已出库",value:5},{label:"已完成",value:6},{label:"订单作废",value:7},{label:"暂停发货",value:8},{label:"异常",value:9}];function v(e){var t=f.find((function(t){return t.value==e}));return t&&t.label||""}var S=[{label:"待发货",value:"toship"},{label:"取消中",value:"cancelled"},{label:"退款中",value:"refund"}],g=[{label:"运送中",value:"shipping"},{label:"已完成",value:"completed"}],k=[{label:"取消中",value:"cancelled"},{label:"退款中",value:"refund"}];function x(e){var t=h.filter((function(t){return t.CountryCode===e}));return t}function y(e){var t="",r=l.find((function(t){return t.value==e}));return t=r?r.label:"",t}function w(e){var t="",r=a.find((function(t){return t.value==e}));return t=r?r.label:"",t}var C={0:"",1:"货到付款",2:"信用卡/借记卡",3:"lazada钱包",4:"Credit",5:"Gcash e-Wallet",6:"ShopeePay",20:"未知，请联系客服"},I={ID:[{label:"全部",value:""},{label:"Credit/Debit Card",value:"1"},{label:"Indomaret",value:"13"},{label:"Bank Transfer",value:"2"},{label:"SPayLater",value:"24"},{label:"ShopeePay",value:"27"},{label:"Online Payment",value:"41"},{label:"COD",value:"6"}],MY:[{label:"全部",value:""},{label:"信用卡",value:"1"},{label:"银行转账",value:"2"},{label:"卖家余额",value:"20"},{label:"ShopeePay",value:"27"},{label:"在7-11的现金支付",value:"34"},{label:"ibanking",value:"37"},{label:"VISA金融卡",value:"4"}],PH:[{label:"全部",value:""},{label:"Credit",value:"1"},{label:"Bank Transfer",value:"2"},{label:"ShopeePay",value:"27"},{label:"Debit Card",value:"4"},{label:"COD",value:"6"}],SG:[{label:"全部",value:""},{label:"Credit/Debit Card",value:"1"},{label:"Bank Transfer",value:"2"},{label:"ShopeePay",value:"27"},{label:"Online Payment",value:"49"}],TH:[{label:"全部",value:""},{label:"Credit",value:"18"},{label:"Bank Transfe",value:"2"},{label:"SPayLater",value:"24"},{label:"AirPay",value:"28"},{label:"airpay_giro",value:"30"},{label:"Debit Card",value:"4"},{label:"free with promotion",value:"5"},{label:"Online Payment",value:"50"},{label:"COD",value:"6"}],TW:[{label:"全部",value:""},{label:"信用卡",value:"1"},{label:"银行转账",value:"2"},{label:"虾皮钱包",value:"20"},{label:"信用卡分期付款",value:"23"},{label:"SPayLater",value:"24"},{label:"接口支付Local",value:"33"},{label:"接口支付Cross",value:"36"},{label:"撤销的款项",value:"5"},{label:"货到付款",value:"6"}],VN:[{label:"全部",value:""},{label:"Credit/Debit Card",value:"1"},{label:"Seller Balance",value:"20"},{label:"AirPay",value:"28"},{label:"airpay_giro",value:"30"},{label:"COD",value:"6"}]};function N(e,t){var r="",a=I[e]||[];if(a.length){var n=a.find((function(e){return e.value==t}));r=n?n.label:""}return r}var D=[{column_header:"站点",is_show:1,first_column_is_checkbox:-1},{column_header:"店铺分组",is_show:1,first_column_is_checkbox:-1},{column_header:"店铺名称",is_show:1,first_column_is_checkbox:-1},{column_header:"采购绑定仓库",is_show:1,first_column_is_checkbox:-1},{column_header:"颜色标识",is_show:1,first_column_is_checkbox:-1},{column_header:"订单编号",is_show:1,first_column_is_checkbox:-1},{column_header:"订单创建时间",is_show:1,first_column_is_checkbox:-1},{column_header:"发货状态",is_show:1,first_column_is_checkbox:-1},{column_header:"发货时间",is_show:1,first_column_is_checkbox:-1},{column_header:"采购类型",is_show:1,first_column_is_checkbox:-1},{column_header:"查看采购地址",is_show:1,first_column_is_checkbox:-1},{column_header:"是否可二次销售",is_show:1,first_column_is_checkbox:-1},{column_header:"商品ID",is_show:1,first_column_is_checkbox:-1},{column_header:"商品创建时间",is_show:1,first_column_is_checkbox:-1},{column_header:"商品图片",is_show:1,first_column_is_checkbox:-1},{column_header:"商品单价",is_show:1,first_column_is_checkbox:-1},{column_header:"商品单价(RMB)",is_show:1,first_column_is_checkbox:-1},{column_header:"商品数量",is_show:1,first_column_is_checkbox:-1},{column_header:"商品标题",is_show:1,first_column_is_checkbox:-1},{column_header:"搜同款",is_show:1,first_column_is_checkbox:-1},{column_header:"商品类目",is_show:1,first_column_is_checkbox:-1},{column_header:"规格编号",is_show:1,first_column_is_checkbox:-1},{column_header:"商品规格",is_show:1,first_column_is_checkbox:-1},{column_header:"商品货号",is_show:1,first_column_is_checkbox:-1},{column_header:"是否为海外仓商品",is_show:1,first_column_is_checkbox:-1},{column_header:"买家付款金额",is_show:1,first_column_is_checkbox:-1},{column_header:"订单收入",is_show:1,first_column_is_checkbox:-1},{column_header:"订单收入(RMB)",is_show:1,first_column_is_checkbox:-1},{column_header:"实际总邮费",is_show:1,first_column_is_checkbox:-1},{column_header:"卖家补贴邮费",is_show:1,first_column_is_checkbox:-1},{column_header:"采购价",is_show:1,first_column_is_checkbox:-1},{column_header:"采购价(RMB)",is_show:1,first_column_is_checkbox:-1},{column_header:"仓库发货金额",is_show:1,first_column_is_checkbox:-1},{column_header:"仓库发货金额(RMB)",is_show:1,first_column_is_checkbox:-1},{column_header:"含邮费毛利",is_show:1,first_column_is_checkbox:-1},{column_header:"含邮费毛利(RMB)",is_show:1,first_column_is_checkbox:-1},{column_header:"最终毛利",is_show:1,first_column_is_checkbox:-1},{column_header:"最终毛利(RMB)",is_show:1,first_column_is_checkbox:-1},{column_header:"付款账号",is_show:1,first_column_is_checkbox:-1},{column_header:"采购账号",is_show:1,first_column_is_checkbox:-1},{column_header:"拍单",is_show:1,first_column_is_checkbox:-1},{column_header:"采购状态",is_show:1,first_column_is_checkbox:-1},{column_header:"采购时间",is_show:1,first_column_is_checkbox:-1},{column_header:"采购订单号",is_show:1,first_column_is_checkbox:-1},{column_header:"采购付款方式",is_show:1,first_column_is_checkbox:-1},{column_header:"平台付款方式",is_show:1,first_column_is_checkbox:-1},{column_header:"采购物流公司",is_show:1,first_column_is_checkbox:-1},{column_header:"采购物流单号",is_show:1,first_column_is_checkbox:-1},{column_header:"采购发货时间",is_show:1,first_column_is_checkbox:-1},{column_header:"商户订单号",is_show:1,first_column_is_checkbox:-1},{column_header:"运输方式",is_show:1,first_column_is_checkbox:-1},{column_header:"货物类型",is_show:1,first_column_is_checkbox:-1},{column_header:"虾皮物流",is_show:1,first_column_is_checkbox:-1},{column_header:"虾皮物流单号",is_show:1,first_column_is_checkbox:-1},{column_header:"虾皮物流轨迹",is_show:1,first_column_is_checkbox:-1},{column_header:"截止发货时间",is_show:1,first_column_is_checkbox:-1},{column_header:"仓库发货状态",is_show:1,first_column_is_checkbox:-1},{column_header:"入库时间",is_show:1,first_column_is_checkbox:-1},{column_header:"出库时间",is_show:1,first_column_is_checkbox:-1},{column_header:"本地备注",is_show:1,first_column_is_checkbox:-1},{column_header:"shopee备注",is_show:1,first_column_is_checkbox:-1},{column_header:"shopee备注更新时间",is_show:1,first_column_is_checkbox:-1},{column_header:"买家姓名",is_show:1,first_column_is_checkbox:-1},{column_header:"买家地址",is_show:1,first_column_is_checkbox:-1},{column_header:"手机号",is_show:1,first_column_is_checkbox:-1},{column_header:"订单支付时间",is_show:1,first_column_is_checkbox:-1},{column_header:"订单更新时间",is_show:1,first_column_is_checkbox:-1},{column_header:"操作",is_show:1,first_column_is_checkbox:-1}],T=[{purchase_platform_id:1,purchase_url:"http://mobile.yangkeduo.com/goods.html?goods_id=",purchase_url_all:"http://mobile.yangkeduo.com/goods.html?goods_id=2459375892",label:"拼多多"},{purchase_platform_id:2,purchase_url:"https://item.taobao.com/item.htm?id=",purchase_url_all:"https://item.taobao.com/item.htm?id=561870475654",label:"淘宝"},{purchase_platform_id:3,purchase_url:"https://detail.tmall.com/item.htm?id=",purchase_url_all:"https://detail.tmall.com/item.htm?id=20601016004",label:"天猫"},{purchase_platform_id:8,purchase_url:"https://detail.1688.com/offer/",purchase_url_all:"https://detail.1688.com/offer/635819118296.html",label:"1688"},{purchase_platform_id:10,purchase_url:"https://m.jingxi.com/item/view?sku=",purchase_url_all:"https://m.jingxi.com/item/view?sku=20601016004",label:"京喜"},{purchase_platform_id:9,purchase_url:"https://www.lazada.com.my/products/i",purchase_url_all:"https://www.lazada.com.my/products/i1143594827.html",label:"lazada"},{purchase_platform_id:11,purchase_url:"https://xiapi.xiapibuy.com/product/60119183/",purchase_url_all:"https://xiapi.xiapibuy.com/product/60119183/2677842767",label:"shopee"},{purchase_platform_id:13,purchase_url:"https://distributor.taobao.global/apps/product/detail?mpId=",purchase_url_all:"https://distributor.taobao.global/apps/product/detail?mpId=60003345",label:"天猫淘宝海外平台"}],O=["爆炸性、易燃性、腐蚀性、放射性和毒性等危险物品","货币、支票、有价证券、有价金属、人造钻石、珠宝或其他贵重物品","形仿武器、弹药","燃料矿物、矿物油及其蒸馏产品、可燃易燃性气体、液体、固体，打火机，火柴","沥青矿物；矿物蜡；润滑油、油漆；指甲油、指甲胶","药物（麻醉药物、精神药物）、急救箱","淫秽物品、性用品","活体动、植物","种子、水果、食品、茶叶","液体、粉末，毛皮、皮肤","烟、酒","仿牌货物","发光、发热、烟花类物品","含马达、发动机","磁类货物","纯电池和配套电池货物","反动书籍、报刊、杂志、光碟","证件：身份证、护照、驾照等","压缩类气体；以及其他航司及目的地海关及法律禁运货限运的物品"],P=["食品","食材","酱料","零食","纯电池","移动电源","电动车","航模飞机","台式主机","美容美发","医疗产品","清洁剂","胶水","油漆","摩托车（头盔，轮胎）","化妆品（成品无牌）","卷尺","蚊香","肥皂","洗头水","沐浴露","牙膏","足膜足贴","运动健身贴","仿产地","摩托车排气管","特殊危险敏感贵重货物","手机及平板","性用品（药品，情趣用品）","电子烟","赌具","香烟","酒","古董"],L={TaoBao:0,PinDuoduo:1,JingDong:2,JingXi:3,HYJ:4,Alibaba:5,YunPaiDan:6,Lazada:7,Shopee:8,CrossBorder:9,OwnPlatform:10,PpxiasGhpt:11,AliExpressPlatform:12};function R(e){switch(e){case 1:return L.PinDuoduo;case 2:case 3:return L.TaoBao;case 4:return L.JingDong;case 8:return L.Alibaba;case 9:return L.Lazada;case 10:return L.JingXi;case 11:return L.Shopee;case 13:return L.CrossBorder;default:return L.PinDuoduo}}}}]);