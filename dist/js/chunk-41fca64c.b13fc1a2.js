(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-41fca64c"],{"113d":function(e,t,a){},"6d2c":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"contaniner"},[a("el-row",{staticClass:"header"},[a("ul",{staticStyle:{"margin-bottom":"10px"}},[a("li",[a("span",[e._v("赔付状态：")]),a("el-select",{attrs:{placeholder:"",size:"mini",filterable:""},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[a("el-option",{attrs:{label:"全部",value:0}}),e._l(e.statusList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})}))],2)],1),a("li",[a("span",[e._v("赔付类型：")]),a("el-select",{attrs:{placeholder:"",size:"mini",filterable:""},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},[a("el-option",{attrs:{label:"全部",value:0}}),e._l(e.typeList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})}))],2)],1),a("li",[a("span",[e._v("赔付原因：")]),a("el-select",{attrs:{placeholder:"",size:"mini",filterable:""},model:{value:e.form.typeCause,callback:function(t){e.$set(e.form,"typeCause",t)},expression:"form.typeCause"}},[a("el-option",{attrs:{label:"全部",value:0}}),e._l(e.typeCauseList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})}))],2)],1),a("li",[a("span",[e._v("申请赔付时间：")]),a("el-date-picker",{attrs:{"unlink-panels":"",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期",size:"mini"},model:{value:e.form.createAt,callback:function(t){e.$set(e.form,"createAt",t)},expression:"form.createAt"}})],1)]),a("ul",[a("li",[a("span",[e._v("订单编号：")]),a("el-input",{attrs:{clearable:"",size:"mini",oninput:"value=value.replace(/\\s+/g,'')"},model:{value:e.form.orderSn,callback:function(t){e.$set(e.form,"orderSn",t)},expression:"form.orderSn"}})],1),a("li",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){e.page=1,e.getAbnormalPayment()}}},[e._v("查询")])],1)])]),a("el-row",{attrs:{id:"article"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.isShowLoading,expression:"isShowLoading"}],ref:"plTable",attrs:{height:"calc(100vh - 210px)",data:e.tableData,"header-cell-style":{backgroundColor:"#f5f7fa"}},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{align:"center",type:"index",label:"序号","min-width":"50"}}),a("el-table-column",{attrs:{prop:"warehouse_name",label:"所属仓库","min-width":"150"}}),a("el-table-column",{attrs:{prop:"order_sn",label:"订单编号","min-width":"180"},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.row;return[a("span",[e._v(" "+e._s(l.order_sn)+" "),l.order_sn?a("span",{staticClass:"copyIcon",on:{click:function(t){return e.copy(l.order_sn)}}},[a("i",{staticClass:"el-icon-document-copy"})]):e._e()])]}}])}),a("el-table-column",{attrs:{prop:"created_at",label:"申请赔付时间","min-width":"160"}}),a("el-table-column",{attrs:{prop:"money",label:"申请赔付金额","min-width":"110"}}),a("el-table-column",{attrs:{prop:"amount",label:"实际赔付金额","min-width":"120"}}),a("el-table-column",{attrs:{prop:"status",label:"状态","min-width":"80"},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.row;return[a("span",{style:e.colorObj[l.status]&&"color:"+e.colorObj[l.status]},[e._v(e._s(l.status))])]}}])}),a("el-table-column",{attrs:{prop:"images",label:"图片凭证","min-width":"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.row;return e._l(l.images,(function(t,l){return a("div",{key:l},[t?a("el-tooltip",{staticStyle:{width:"50px",height:"50px"},attrs:{effect:"light",placement:"right-end","visible-arrow":!1,enterable:!1}},[a("div",{attrs:{slot:"content"},slot:"content"},[a("el-image",{staticStyle:{width:"400px",height:"400px"},attrs:{src:t}},[a("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"})])],1),a("el-image",{staticStyle:{width:"40px",height:"40px"},attrs:{src:t}},[a("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"})])],1):e._e()],1)}))}}])}),a("el-table-column",{attrs:{prop:"type",label:"赔付类型","min-width":"120"}}),a("el-table-column",{attrs:{prop:"type_cause",label:"赔付原因","min-width":"180"}}),a("el-table-column",{attrs:{prop:"updated_at",label:"更新时间","min-width":"160"}}),a("el-table-column",{attrs:{prop:"remark",label:"用户备注","min-width":"110"}}),a("el-table-column",{attrs:{prop:"check_remark",label:"审核备注","min-width":"100"}})],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"","current-page":e.page,"page-sizes":[50,100,200],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1)},n=[],r=a("291b"),o=(a("e186"),a("fb44"),a("d5a2"),a("8b24"),a("ebfb"),a("a71d"),a("29b0"),{data:function(){return{isShowLoading:!1,form:{status:0,createAt:[(new Date).getTime()-1296e6,new Date],type:0,typeCause:0,orderSn:"",returnLogisticsNum:"",returnPhone:""},statusList:[{value:1,label:"待审核"},{value:2,label:"审核通过"},{value:3,label:"审核失败"}],typeList:[{value:1,label:"赔付运费"},{value:2,label:"赔付采购价"},{value:4,label:"赔付采购价+运费"}],typeCauseList:[{value:1,label:"仓库丢件"},{value:2,label:"仓库漏发"},{value:3,label:"超材出库"},{value:4,label:"买家收货不符"},{value:5,label:"包裹到齐48小时未出库"},{value:6,label:"已出库，虾皮仓未发货致订单取消"}],colorObj:{"审核通过":"green","审核失败":"red"},total:0,pageSize:50,page:1,tableData:[]}},mounted:function(){this.getAbnormalPayment()},methods:{getAbnormalPayment:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,l,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isShowLoading=!0,a=JSON.parse(JSON.stringify(e.form)),a.createAt=a.createAt?"".concat(e.$dayjs(a.createAt[0]).format("YYYY-MM-DD 00:00:00"),"/").concat(e.$dayjs(a.createAt[1]).format("YYYY-MM-DD 23:23:23")):"",a.page=e.page,a.pageSize=e.pageSize,t.prev=5,t.next=8,e.$api.getAbnormalPayment(a);case 8:l=t.sent,n=l.data,200===n.code?(e.tableData=n.data.data,e.tableData.map((function(e){e.images=e.images.map((function(e){return e=e.replace("[","").replace("]","").replace('"',"").replace('"',"").trim(),e}))})),e.total=n.data.total):e.$message.error("数据获取失败",n.message),t.next=15;break;case 13:t.prev=13,t.t0=t["catch"](5);case 15:e.isShowLoading=!1;case 16:case"end":return t.stop()}}),t,null,[[5,13]])})))()},copy:function(e){var t=document.createElement("div");t.id="tempTarget",t.style.opacity="0",t.innerText=e,document.body.appendChild(t);try{var a=document.createRange();a.selectNode(t),window.getSelection().removeAllRanges(),window.getSelection().addRange(a),document.execCommand("copy"),window.getSelection().removeAllRanges(),this.$message.success("复制成功")}catch(l){}t.parentElement.removeChild(t)},handleSizeChange:function(e){this.page=1,this.pageSize=e,this.getAbnormalPayment()},handleCurrentChange:function(e){this.page=e,this.getAbnormalPayment()},handleSelectionChange:function(e){this.multipleSelection=e}}}),i=o,s=(a("cd11"),a("cba8")),c=Object(s["a"])(i,l,n,!1,null,"18639d36",null);t["default"]=c.exports},cd11:function(e,t,a){"use strict";a("113d")}}]);