(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-11e612e6"],{"5ed7":function(e,t,n){"use strict";n("ab40")},6872:function(e,t,n){"use strict";n.r(t);var a=n("1da1"),r=(n("96cf"),n("d81d"),n("159b"),n("99af"),n("ac1f"),n("1276"),n("a9e3"),{data:function(){return{cancelLoading:!1,showConsole:!0,form:{returnTime:"",applyReturnTime:[(new Date).getTime()-2592e6,new Date],returnStatus:0,orderNum:"",logisticsNum:"",returnLogisticsNum:"",returnPhone:""},total:0,pageSize:100,page:1,tableData:[],packageCodes:[],returnStatusList:[{value:"1",label:"退件中"},{value:"2",label:"已退件"},{value:"3",label:"退件失败"},{value:"4",label:"取消退件"},{value:"5",label:"仓库驳回"}],returnMsg:!1,multipleSelection:[],isShowLoading:!1,statusObj:{1:"退件中",2:"已退件",3:"退件失败",4:"取消退件",5:"仓库驳回"}}},mounted:function(){this.getReturnManage()},methods:{cancelReturn:function(e,t){var n=this;return Object(a.a)(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n.packageCodes=[],1!==t){a.next=5;break}n.packageCodes.push(e.need_return_package_code),a.next=9;break;case 5:if(e.length){a.next=7;break}return a.abrupt("return",n.$message("请选择需要取消退件的包裹"));case 7:n.cancelLoading=!0,e.map((function(e){n.packageCodes.push(e.need_return_package_code)}));case 9:return n.showConsole=!1,n.$refs.Logs.writeLog("开始取消退件...",!0),a.next=13,n.$api.cancelReturn({packageCodes:n.packageCodes});case 13:200===(r=a.sent).data.code?(n.getReturnManage(),n.$refs.Logs.writeLog("取消退件成功",!0)):r.data.data.forEach((function(e){n.$refs.Logs.writeLog("【".concat(e.split("：")[0],"】").concat(e.split("：")[1]),!1)})),n.cancelLoading=!1;case 16:case"end":return a.stop()}}),a)})))()},getReturnManage:function(){var e=this;return Object(a.a)(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.isShowLoading=!0,n=e.form.returnTime?"".concat(e.$dayjs(e.form.returnTime[0]).format("YYYY-MM-DD 00:00:00"),"/").concat(e.$dayjs(e.form.returnTime[1]).format("YYYY-MM-DD 23:59:59")):"",a=e.form.applyReturnTime?"".concat(e.$dayjs(e.form.applyReturnTime[0]).format("YYYY-MM-DD 00:00:00"),"/").concat(e.$dayjs(e.form.applyReturnTime[1]).format("YYYY-MM-DD 23:59:59")):"",a={packageCode:e.form.logisticsNum,orderSn:e.form.orderNum,status:Number(e.form.returnStatus),returnShippingNumber:e.form.returnLogisticsNum,returnPhoneNumber:e.form.returnPhone,returnTime:n,appliReturnTime:a,page:e.page,pageSize:e.pageSize},t.prev=4,t.next=7,e.$api.getReturnManage(a);case 7:a=t.sent,200===(a=a.data).code?(e.tableData=a.data.data,e.total=a.data.total):e.$message.error("数据获取失败",a.message),t.next=14;break;case 12:t.prev=12,t.t0=t.catch(4);case 14:e.isShowLoading=!1;case 15:case"end":return t.stop()}}),t,null,[[4,12]])})))()},copy:function(e){var t=document.createElement("div");t.id="tempTarget",t.style.opacity="0",t.innerText=e,document.body.appendChild(t);try{var n=document.createRange();n.selectNode(t),window.getSelection().removeAllRanges(),window.getSelection().addRange(n),document.execCommand("copy"),window.getSelection().removeAllRanges(),this.$message.success("复制成功")}catch(e){}t.parentElement.removeChild(t)},handleSizeChange:function(e){this.page=1,this.pageSize=e,this.getReturnManage()},handleCurrentChange:function(e){this.page=e,this.getReturnManage()},handleSelectionChange:function(e){this.multipleSelection=e}}});n("5ed7"),n=n("2877"),r=Object(n.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-row",{staticClass:"contaniner"},[n("el-row",{staticClass:"header"},[n("ul",{staticStyle:{"margin-bottom":"10px","margin-left":"25px"}},[n("li",[n("span",[e._v("退件状态：")]),n("el-select",{attrs:{placeholder:"",size:"mini",filterable:""},model:{value:e.form.returnStatus,callback:function(t){e.$set(e.form,"returnStatus",t)},expression:"form.returnStatus"}},[n("el-option",{attrs:{label:"全部",value:0}}),e._l(e.returnStatusList,(function(e,t){return n("el-option",{key:t,attrs:{label:e.label,value:e.value}})}))],2)],1),n("li",[n("span",[e._v("申请退件时间：")]),n("el-date-picker",{attrs:{"unlink-panels":"",size:"mini",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.form.applyReturnTime,callback:function(t){e.$set(e.form,"applyReturnTime",t)},expression:"form.applyReturnTime"}})],1),n("li",[n("span",[e._v("包裹物流编号：")]),n("el-input",{attrs:{clearable:"",size:"mini",oninput:"value=value.replace(/\\s+/g,'')"},model:{value:e.form.logisticsNum,callback:function(t){e.$set(e.form,"logisticsNum",t)},expression:"form.logisticsNum"}})],1)]),n("ul",{staticStyle:{"margin-left":"25px"}},[n("li",[n("span",[e._v("订单编号：")]),n("el-input",{attrs:{clearable:"",size:"mini",oninput:"value=value.replace(/\\s+/g,'')"},model:{value:e.form.orderNum,callback:function(t){e.$set(e.form,"orderNum",t)},expression:"form.orderNum"}})],1),n("li",[n("span",{staticStyle:{"text-align":"right",width:"84px"}},[e._v("退件时间：")]),n("el-date-picker",{attrs:{"unlink-panels":"",size:"mini",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.form.returnTime,callback:function(t){e.$set(e.form,"returnTime",t)},expression:"form.returnTime"}})],1),n("li",[n("span",[e._v("退件物流单号：")]),n("el-input",{attrs:{clearable:"",size:"mini",oninput:"value=value.replace(/\\s+/g,'')"},model:{value:e.form.returnLogisticsNum,callback:function(t){e.$set(e.form,"returnLogisticsNum",t)},expression:"form.returnLogisticsNum"}})],1)]),n("ul",{staticStyle:{"margin-top":"10px"}},[n("li",[n("span",[e._v("退件人手机号：")]),n("el-input",{attrs:{clearable:"",size:"mini",oninput:"value=value.replace(/\\s+/g,'')"},model:{value:e.form.returnPhone,callback:function(t){e.$set(e.form,"returnPhone",t)},expression:"form.returnPhone"}})],1),n("li",[n("el-button",{attrs:{type:"primary",disabled:e.cancelLoading,size:"mini"},on:{click:function(t){e.page=1,e.getReturnManage()}}},[e._v("查询")]),n("el-button",{attrs:{type:"primary",size:"mini",loading:e.cancelLoading},on:{click:function(t){return e.cancelReturn(e.multipleSelection,2)}}},[e._v("批量取消退件")])],1)])]),n("el-row",{attrs:{id:"article"}},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.isShowLoading,expression:"isShowLoading"}],ref:"plTable",attrs:{height:"calc(100vh - 239px)",data:e.tableData,"row-style":{height:"45px"},"header-cell-style":{backgroundColor:"#f5f7fa"}},on:{"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{align:"center",type:"selection",width:"50"}}),n("el-table-column",{attrs:{align:"center",type:"index",label:"序号","min-width":"50px",fixed:""}}),n("el-table-column",{attrs:{align:"center",prop:"need_return_package_code",label:"包裹物流单号","min-width":"180px",fixed:""},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[n("span",[e._v(" "+e._s(a.need_return_package_code)+" "),a.need_return_package_code?n("span",{staticClass:"copyIcon",on:{click:function(t){return e.copy(a.need_return_package_code)}}},[n("i",{staticClass:"el-icon-document-copy"})]):e._e()])]}}])}),n("el-table-column",{attrs:{align:"center",prop:"order_sn",label:"订单编号","min-width":"180px"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[n("span",[e._v(" "+e._s(a.order_sn)+" "),a.order_sn?n("span",{staticClass:"copyIcon",on:{click:function(t){return e.copy(a.order_sn)}}},[n("i",{staticClass:"el-icon-document-copy"})]):e._e()])]}}])}),n("el-table-column",{attrs:{align:"center",prop:"warehouse_name",label:"签收仓库","min-width":"130px"}}),n("el-table-column",{attrs:{align:"center",prop:"status",label:"状态","min-width":"80px"},scopedSlots:e._u([{key:"default",fn:function(t){return t=t.row,[e._v(" "+e._s(e.statusObj[t.status]||"")+" ")]}}])}),n("el-table-column",{attrs:{align:"center",prop:"appli_return_time",label:"申请退件时间","min-width":"150px"}}),n("el-table-column",{attrs:{align:"center",prop:"return_contact",label:"退件人","min-width":"100px","show-overflow-tooltip":""}}),n("el-table-column",{attrs:{align:"center",prop:"return_phone_number",label:"退件电话","min-width":"120px","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[n("span",[e._v(" "+e._s(a.return_phone_number)+" "),a.return_phone_number?n("span",{staticClass:"copyIcon",on:{click:function(t){return e.copy(a.return_phone_number)}}},[n("i",{staticClass:"el-icon-document-copy"})]):e._e()])]}}])}),n("el-table-column",{attrs:{align:"center",prop:"return_address",label:"退件地址","min-width":"180px","show-overflow-tooltip":""}}),n("el-table-column",{attrs:{align:"center",prop:"return_remarks",label:"退件备注","min-width":"150px","show-overflow-tooltip":""}}),n("el-table-column",{attrs:{align:"center",prop:"return_shipping_number",label:"退件物流单号","min-width":"180px","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[n("span",[e._v(" "+e._s(a.return_shipping_number)+" "),a.return_shipping_number?n("span",{staticClass:"copyIcon",on:{click:function(t){return e.copy(a.return_shipping_number)}}},[n("i",{staticClass:"el-icon-document-copy"})]):e._e()])]}}])}),n("el-table-column",{attrs:{align:"center",prop:"return_shipping_name",label:"退件物流公司","min-width":"150px","show-overflow-tooltip":""}}),n("el-table-column",{attrs:{align:"center",prop:"return_time",label:"退件时间","min-width":"150px"}}),n("el-table-column",{attrs:{align:"center",prop:"warehouse_remarks",label:"仓库备注","min-width":"150px","show-overflow-tooltip":""}}),n("el-table-column",{attrs:{align:"center","min-width":"120px",label:"操作",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[4!=a.status&&2!=a.status&&3!=a.status?n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.cancelReturn(a,1)}}},[e._v("取消退件")]):e._e()]}}])})],1),n("div",{staticClass:"pagination"},[n("el-pagination",{attrs:{background:"","current-page":e.page,"page-sizes":[100,200],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),n("div",{staticClass:"logging"},[n("Logs",{ref:"Logs",attrs:{clear:""},model:{value:e.showConsole,callback:function(t){e.showConsole=t},expression:"showConsole"}})],1)],1)}),[],!1,null,"16dc3acd",null);t.default=r.exports},ab40:function(e,t,n){}}]);