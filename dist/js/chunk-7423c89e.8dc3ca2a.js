(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-7423c89e"],{"15d2":function(e,t,i){"use strict";i.r(t);var l=i("2909"),a=i("1da1"),n=(i("96cf"),i("159b"),i("99af"),i("feb6")),s=i("0e0b"),o=i("e1e4");n={components:{storeChoose:n.a},data:function(){return{GoodsManagerAPIInstance:new o.a(this),tableList:[],selectMall:[],showlog:!0,isgoodslike:!1,iscommentlike:!1,isbuy:!1,isunlikeCreateMinDay:!1,unlikeCreateMinDay:"",isunlikeSaleMinDay:!1,unlikeSaleMinDay:"",isunlikeViewMinDay:!1,unlikeViewMinDay:"",isunlikeLikeMinDay:!1,unlikeLikeMinDay:"",isRandomLikeMinDay:!1,RandomLikeMinDay:"",isunlikestar1:!1,isunlikestar2:!1,isunlikestar3:!1,isunlikestar4:!1,isunlikestar5:!1,isunlikehaventContent:!1,isunlikehaventPic:!1,isunlikeMonthAgoComment:!1,unlikeMonthAgoComment:30}},methods:{changeMallList:function(e){this.selectMall=e},start:function(){var e=this;return Object(a.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.selectMall.length<2)return e.$message.warning("统一站点下，请至少选择两个店铺"),t.abrupt("return");t.next=3;break;case 3:return e.selectMall.forEach((function(e){e.page=1})),e.Mallskulist=[],e.$refs.autoReplyLogs.writeLog("开始获取店铺信息",!0),t.next=8,Object(s.c)(e.selectMall,e.getMallsku);case 8:t.sent;case 9:case"end":return t.stop()}}),t)})))()},getMallsku:function(e){var t=arguments,i=this;return Object(a.a)(regeneratorRuntime.mark((function a(){var n,o,r;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=1<t.length&&void 0!==t[1]?t[1]:{count:1},a.prev=1,r={country:e.country,page_number:e.page,mallId:e.platform_mall_id,page_size:48},i.showlog=!0,a.next=7,i.GoodsManagerAPIInstance.getSkuList(r);case 7:if(o=a.sent,i.$refs.autoReplyLogs.writeLog("查找【".concat(e.mall_alias_name||e.platform_mall_name,"】第").concat(e.page,"}页数据"),!0),0!==o.ecode){a.next=24;break}if(48<=(null===(r=o.data.list)||void 0===r?void 0:r.length))return o.data.list.forEach((function(t){t.shopid=e.platform_mall_id,t.country=e.country})),(r=i.Mallskulist).push.apply(r,Object(l.a)(o.data.list)),i.goodsinfo=[],i.$refs.autoReplyLogs.writeLog("查找【".concat(e.mall_alias_name||e.platform_mall_name,"】第").concat(e.page,"}页数据"),!0),a.next=17,Object(s.c)(o.data.list,i.getMallinfo);a.next=22;break;case 17:a.sent,e.page++,i.getMallsku(e,n={count:n.count++}),a.next=22;break;case 22:a.next=25;break;case 24:i.$refs.autoReplyLogs.writeLog("【".concat(e.mall_alias_name||e.platform_mall_name,"】第").concat(e.page,"}页数据获取失败,").concat(o.message),!1);case 25:a.next=30;break;case 27:a.prev=27,a.t0=a.catch(1),i.$refs.autoReplyLogs.writeLog("【".concat(e.mall_alias_name||e.platform_mall_name,"】第").concat(e.page,"}页数据获取失败,").concat(a.t0),!1);case 30:return a.prev=30,n.count--,a.finish(30);case 33:case"end":return a.stop()}}),a,null,[[1,27,30,33]])})))()},getMallinfo:function(e){var t=arguments,i=this;return Object(a.a)(regeneratorRuntime.mark((function l(){var a,n;return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return a=1<t.length&&void 0!==t[1]?t[1]:{count:1},l.prev=1,n={country:e.country,shopid:e.shopid,itemid:e.id},l.next=5,i.GoodsManagerAPIInstance.getGoodsDetailinfo(n);case 5:0===(n=l.sent).ecode&&i.goodsinfo.push(n.data),l.next=11;break;case 9:l.prev=9,l.t0=l.catch(1);case 11:return l.prev=11,a.count--,l.finish(11);case 14:case"end":return l.stop()}}),l,null,[[1,9,11,14]])})))()}}},i("27cb"),i=i("2877"),n=Object(i.a)(n,(function(){var e=this,t=e.$createElement;t=e._self._c||t;return t("div",{staticClass:"detail"},[t("div",{staticClass:"condition",staticStyle:{"background-color":"white",padding:"8px"}},[t("div",{staticClass:"row1",staticStyle:{display:"flex"}},[t("storeChoose",{staticStyle:{"margin-left":"-20px"},attrs:{"is-all":!0,"show-mall-all":!0},on:{changeMallList:e.changeMallList}}),t("el-checkbox",{staticStyle:{margin:"4px"},model:{value:e.isgoodslike,callback:function(t){e.isgoodslike=t},expression:"isgoodslike"}},[e._v("商品点赞")]),t("el-checkbox",{staticStyle:{margin:"4px"},model:{value:e.iscommentlike,callback:function(t){e.iscommentlike=t},expression:"iscommentlike"}},[e._v("评价点赞")]),t("el-checkbox",{staticStyle:{margin:"4px"},model:{value:e.isbuy,callback:function(t){e.isbuy=t},expression:"isbuy"}},[e._v("商品加入购物车")]),t("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.start}},[e._v("开始")]),t("el-button",{attrs:{size:"mini",type:"primary"}},[e._v("停止")]),t("el-checkbox",{staticStyle:{margin:"4px"},model:{value:e.showlog,callback:function(t){e.showlog=t},expression:"showlog"}},[e._v("隐藏日志")])],1),t("div",{staticClass:"row2",staticStyle:{display:"flex","margin-top":"25px"}},[t("div",{staticClass:"row2_left",staticStyle:{border:"1px solid rgb(220, 228, 218)","border-radius":"5px"}},[t("span",{staticStyle:{"margin-top":"-7px",display:"block","margin-left":"14px","background-color":"white","text-align":"center",width:"110px"}},[e._v("商品点赞/加购设置")]),t("ul",[t("li",[t("div",[t("el-checkbox",{staticStyle:{margin:"4px"},model:{value:e.isunlikeCreateMinDay,callback:function(t){e.isunlikeCreateMinDay=t},expression:"isunlikeCreateMinDay"}}),e._v("不点赞（加购）创建天数小于 "),t("el-input",{staticStyle:{width:"60px"},attrs:{size:"mini",onkeyup:"value=value.replace(/[^\\d]/g,0)"},model:{value:e.unlikeCreateMinDay,callback:function(t){e.unlikeCreateMinDay=t},expression:"unlikeCreateMinDay"}}),e._v("的商品")],1),t("div",[t("el-checkbox",{staticStyle:{margin:"4px"},model:{value:e.isunlikeSaleMinDay,callback:function(t){e.isunlikeSaleMinDay=t},expression:"isunlikeSaleMinDay"}}),e._v("不点赞（加购）销量小于 "),t("el-input",{staticStyle:{width:"60px"},attrs:{size:"mini",onkeyup:"value=value.replace(/[^\\d]/g,0)"},model:{value:e.unlikeSaleMinDay,callback:function(t){e.unlikeSaleMinDay=t},expression:"unlikeSaleMinDay"}}),e._v("的商品")],1)]),t("li",[t("div",[t("el-checkbox",{staticStyle:{margin:"4px"},model:{value:e.isunlikeViewMinDay,callback:function(t){e.isunlikeViewMinDay=t},expression:"isunlikeViewMinDay"}}),e._v("不点赞（加购）浏览数小于 "),t("el-input",{staticStyle:{width:"60px"},attrs:{size:"mini",onkeyup:"value=value.replace(/[^\\d]/g,0)"},model:{value:e.unlikeViewMinDay,callback:function(t){e.unlikeViewMinDay=t},expression:"unlikeViewMinDay"}}),e._v("的商品")],1),t("div",{staticStyle:{"margin-left":"10px"}},[t("el-checkbox",{staticStyle:{margin:"4px"},model:{value:e.isunlikeLikeMinDay,callback:function(t){e.isunlikeLikeMinDay=t},expression:"isunlikeLikeMinDay"}}),e._v("不点赞（加购）喜欢数大于 "),t("el-input",{staticStyle:{width:"60px"},attrs:{size:"mini",onkeyup:"value=value.replace(/[^\\d]/g,0)"},model:{value:e.unlikeLikeMinDay,callback:function(t){e.unlikeLikeMinDay=t},expression:"unlikeLikeMinDay"}}),e._v("的商品")],1)]),t("li",[t("div",[t("el-checkbox",{staticStyle:{margin:"4px"},model:{value:e.isRandomLikeMinDay,callback:function(t){e.isRandomLikeMinDay=t},expression:"isRandomLikeMinDay"}}),e._v("随机点赞（加购） "),t("el-input",{staticStyle:{width:"60px"},attrs:{size:"mini",onkeyup:"value=value.replace(/[^\\d]/g,0)"},model:{value:e.RandomLikeMinDay,callback:function(t){e.RandomLikeMinDay=t},expression:"RandomLikeMinDay"}}),e._v("的商品")],1)])])]),t("div",{staticClass:"row2_right",staticStyle:{border:"1px solid rgb(220, 228, 218)","border-radius":"5px","margin-left":"20px"}},[t("span",{staticStyle:{"margin-top":"-7px",display:"block","margin-left":"14px","background-color":"white","text-align":"center",width:"85px"}},[e._v("评价点赞设置")]),t("ul",[t("li",[t("div",[t("el-checkbox",{staticStyle:{margin:"4px"},model:{value:e.isunlikestar5,callback:function(t){e.isunlikestar5=t},expression:"isunlikestar5"}}),e._v("不点赞五星评价 ")],1),t("div",[t("el-checkbox",{staticStyle:{margin:"4px"},model:{value:e.isunlikestar4,callback:function(t){e.isunlikestar4=t},expression:"isunlikestar4"}}),e._v("不点赞四星评价 ")],1),t("div",[t("el-checkbox",{staticStyle:{margin:"4px"},model:{value:e.isunlikestar3,callback:function(t){e.isunlikestar3=t},expression:"isunlikestar3"}}),e._v("不点赞三星评价 ")],1)]),t("li",[t("div",[t("el-checkbox",{staticStyle:{margin:"4px"},model:{value:e.isunlikestar2,callback:function(t){e.isunlikestar2=t},expression:"isunlikestar2"}}),e._v("不点赞二星评价 ")],1),t("div",[t("el-checkbox",{staticStyle:{margin:"4px"},model:{value:e.isunlikestar1,callback:function(t){e.isunlikestar1=t},expression:"isunlikestar1"}}),e._v("不点赞一星评价 ")],1),t("div",[t("el-checkbox",{staticStyle:{margin:"4px"},model:{value:e.isunlikehaventContent,callback:function(t){e.isunlikehaventContent=t},expression:"isunlikehaventContent"}}),e._v("不点赞无内容评价 ")],1)]),t("li",{staticStyle:{"align-items":"baseline"}},[t("div",[t("el-checkbox",{staticStyle:{margin:"4px"},model:{value:e.isunlikehaventPic,callback:function(t){e.isunlikehaventPic=t},expression:"isunlikehaventPic"}}),e._v("不点赞无图评价 ")],1),t("div",[t("el-checkbox",{staticStyle:{margin:"4px"},model:{value:e.isunlikeMonthAgoComment,callback:function(t){e.isunlikeMonthAgoComment=t},expression:"isunlikeMonthAgoComment"}}),e._v("不点赞 "),t("el-input",{staticStyle:{width:"60px"},attrs:{size:"mini",onkeyup:"value=value.replace(/[^\\d]/g,0)"},model:{value:e.unlikeMonthAgoComment,callback:function(t){e.unlikeMonthAgoComment=t},expression:"unlikeMonthAgoComment"}}),e._v("天前的评价 ")],1)])])])]),t("span",{staticStyle:{color:"red",display:"block",margin:"8px 0px"}},[e._v("温馨提示：同一站点下，至少存在两个店铺以上才能进行操作")])]),t("Logs",{ref:"autoReplyLogs",attrs:{clear:""},model:{value:e.showlog,callback:function(t){e.showlog=t},expression:"showlog"}}),t("div",{staticClass:"tableDetail",staticStyle:{"margin-top":"8px"}},[t("el-table",{attrs:{data:e.tableList,height:"calc(100vh - 240px)","header-cell-style":{background:"#f7fafa"}}},[t("el-table-column",{attrs:{prop:"",label:"店铺名称",align:"center","min-width":"150px",fixed:""}}),t("el-table-column",{attrs:{prop:"",label:"商品名称",align:"center","min-width":"150px"}}),t("el-table-column",{attrs:{prop:"",label:"商品编号",align:"center","min-width":"100px"}}),t("el-table-column",{attrs:{prop:"",label:"创建名称",align:"center","min-width":"100px"}}),t("el-table-column",{attrs:{prop:"",label:"历史销量",align:"center","min-width":"100px"}}),t("el-table-column",{attrs:{prop:"",label:"浏览数",align:"center","min-width":"100px"}}),t("el-table-column",{attrs:{prop:"",label:"点赞数",align:"center","min-width":"100px"}}),t("el-table-column",{attrs:{prop:"",label:"操作结果",align:"center","min-width":"100px",fixed:"right"}})],1)],1)],1)}),[],!1,null,"abeb1fc8",null);t.default=n.exports},"27cb":function(e,t,i){"use strict";i("69e6")},"4c28":function(e,t,i){},"69e6":function(e,t,i){},8992:function(e,t,i){"use strict";i("4c28")},feb6:function(e,t,i){"use strict";var l=i("1da1"),a=(i("96cf"),i("159b"),i("fb6a"),i("d3b7"),i("25f0"),i("c740"),i("4de4"),i("7646")),n={name:"StoreChoose",props:{spanWidth:{type:String,default:"80px"},isAll:{type:Boolean,default:function(){return!1}},isReset:{type:Boolean,default:function(){return!1}},source:{type:String,default:function(){return""}}},data:function(){return{isAllowSet1:!0,isAllowSet2:!0,countryVal:null,groupId:[],groupIdList:[],site:[],siteList:[],countries:this.$filters.countries_option,mallListAPIInstance:new a.a(this)}},watch:{countryVal:{handler:function(e,t){this.isAllowSet2=!1,this.groupId=[],this.groupIdList=[],this.ddMallGoodsGetMallList(1)},deep:!0},groupId:{handler:function(e,t){var i=this;this.isAllowSet2&&(this.isAllowSet2=!1,-1<t.indexOf("")!=(t=-1<e.indexOf(""))?t?(this.groupId=[""],this.groupIdList.forEach((function(e){i.groupId.push(e.id)}))):this.groupId=[]:t?this.groupId=e.slice(1):0<this.groupIdList.length&&this.groupId.length===this.groupIdList.length&&this.groupId.unshift(""),setTimeout((function(){i.isAllowSet2=!0,i.ddMallGoodsGetMallList(2)}),10))},deep:!0},site:{handler:function(e,t){var i=this;this.isAllowSet1&&(this.isAllowSet1=!1,-1<t.indexOf("")!=(t=-1<e.indexOf(""))?t?(this.site=[""],this.siteList.forEach((function(e){i.site.push(e.platform_mall_id)}))):this.site=[]:t?this.site=e.slice(1):0<this.siteList.length&&this.siteList.length===this.site.length&&this.site.unshift(""),setTimeout((function(){i.changeMallList(),i.isAllowSet1=!0})))},deep:!0}},mounted:function(){this.countryVal=this.isAll?"":"TH"},methods:{reset:function(){this.isAllowSet2=!1,this.groupId=[],this.groupIdList=[],this.ddMallGoodsGetMallList(1)},changeSelect:function(e){return Object(l.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},ddMallGoodsGetMallList:function(e){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){var i,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.site=[],i=t.countryVal,l=-1<t.groupId.indexOf("")&&t.groupId.slice(1).toString()||t.groupId.toString(),l={country:i,mallGroupIds:l},e.next=6,t.mallListAPIInstance.ddMallGoodsGetMallList(l);case 6:200===(l=e.sent).code?(t.siteList=l.data,0===t.groupIdList.length&&(t.groupId=[""],t.siteList.forEach((function(e){var i=t.groupIdList.findIndex((function(t){return t.id===e.group_id}));e.group_name&&i<0&&(t.groupIdList.push({group_name:e.group_name,id:e.group_id}),t.groupId.push(e.group_id))}))),setTimeout((function(){t.isAllowSet2=!0,t.isAllowSet1=!0,t.site=[""]}),10)):t.$message.error("获取分组、店铺列表失败");case 8:case"end":return e.stop()}}),e)})))()},changeMallList:function(){var e=this,t=[],i="";this.site.forEach((function(l){var a;l&&(a=e.siteList.filter((function(e){return e.platform_mall_id===l})),t.push(a[0]),i+=l+",")})),!this.countryVal&&-1<this.groupId.indexOf("")&&(i=t.length!==this.siteList.length&&i||""),this.source?this.$emit("changeMallList",{mallList:t,source:this.source,searchAll:i,country:this.countryVal.toLocaleUpperCase()}):(t.country=this.countryVal,this.$emit("changeMallList",t))}}};i("8992"),i=i("2877"),n=Object(i.a)(n,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("ul",{staticClass:"storeChooseUL"},[i("li",{style:e.isReset&&"margin-bottom: 5px"},[i("span",{style:{width:e.spanWidth}},[e._v("所属站点：")]),i("el-select",{staticClass:"siteSelectBox",attrs:{size:"mini",filterable:""},model:{value:e.countryVal,callback:function(t){e.countryVal=t},expression:"countryVal"}},[e.isAll?i("el-option",{attrs:{label:"全部",value:""}}):e._e(),e._l(e.countries,(function(e,t){return i("el-option",{key:t,attrs:{label:e.label,value:e.value}})}))],2)],1),i("li",{style:e.isReset&&"margin-bottom: 5px"},[i("span",{style:{width:e.spanWidth}},[e._v("店铺分组：")]),i("el-select",{staticClass:"selectBox",attrs:{placeholder:"",multiple:"","collapse-tags":"",size:"mini",filterable:""},model:{value:e.groupId,callback:function(t){e.groupId=t},expression:"groupId"}},[i("el-option",{attrs:{label:"全部",value:""}}),e._l(e.groupIdList,(function(e,t){return i("el-option",{key:t,attrs:{label:e.group_name,value:e.id}})}))],2)],1),i("li",{style:e.isReset&&"margin-bottom: 5px"},[i("span",{style:{width:e.spanWidth}},[e._v("店铺名称：")]),i("el-select",{staticClass:"selectBox",attrs:{placeholder:"",multiple:"","collapse-tags":"",size:"mini",filterable:""},model:{value:e.site,callback:function(t){e.site=t},expression:"site"}},[i("el-option",{attrs:{label:"全部",value:""}}),e._l(e.siteList,(function(e,t){return i("el-option",{key:t,attrs:{label:e.mall_alias_name||e.platform_mall_name,value:e.platform_mall_id}})}))],2)],1),e.isReset?i("li",{staticStyle:{"margin-bottom":"5px","margin-left":"25px"}},[i("el-button",{staticStyle:{"justify-self":"self-end"},attrs:{size:"mini",type:"primary"},on:{click:e.reset}},[e._v("　刷　　新　")])],1):e._e()])])}),[],!1,null,null,null);t.a=n.exports}}]);