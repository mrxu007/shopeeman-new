(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5186c992"],{"4cf2":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"contaniner"},[r("header",[r("el-tabs",{attrs:{type:"card"},on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[r("el-tab-pane",{staticClass:"keyword",attrs:{label:"关键词采集",name:"first"}},[r("div",{staticClass:"keyword-container"},[r("div",{staticClass:"keyword-banner-bar"},t._l(t.keyworBar,(function(e){return r("div",{key:e.value,staticClass:"barChilren",class:{active:t.currentKeywordPlatform===e.value},on:{click:function(r){return t.selectPlatform(e)}}},[t._v(t._s(e.label))])})),0),r("div",{staticClass:"keyword-banner-content"},[r("div",{staticClass:"con-sub-1"},[r("div",{staticClass:"item"},[r("p",[t._v("开始页码:")]),r("el-input",{attrs:{size:"mini"},model:{value:t.commonAttr.StartPage,callback:function(e){t.$set(t.commonAttr,"StartPage",e)},expression:"commonAttr.StartPage"}}),r("p",[t._v("总页码:")]),r("el-input",{attrs:{size:"mini"},model:{value:t.commonAttr.EndPage,callback:function(e){t.$set(t.commonAttr,"EndPage",e)},expression:"commonAttr.EndPage"}})],1),r("div",{staticClass:"item"},[r("p",[t._v("销售区间:")]),r("el-input",{attrs:{size:"mini"},model:{value:t.commonAttr.StartSales,callback:function(e){t.$set(t.commonAttr,"StartSales",e)},expression:"commonAttr.StartSales"}}),r("p",[t._v("-")]),r("el-input",{attrs:{size:"mini"},model:{value:t.commonAttr.EndSales,callback:function(e){t.$set(t.commonAttr,"EndSales",e)},expression:"commonAttr.EndSales"}})],1),r("div",{staticClass:"item"},[r("p",[t._v("价格区间:")]),r("el-input",{attrs:{size:"mini"},model:{value:t.commonAttr.StartPrice,callback:function(e){t.$set(t.commonAttr,"StartPrice",e)},expression:"commonAttr.StartPrice"}}),r("p",[t._v("-")]),r("el-input",{attrs:{size:"mini"},model:{value:t.commonAttr.EndPrice,callback:function(e){t.$set(t.commonAttr,"EndPrice",e)},expression:"commonAttr.EndPrice"}})],1)]),r("div",{staticClass:"con-sub-2"},[r("div",{staticClass:"item"},[r("p",[t._v("关键词(一行一个)")]),r("el-input",{attrs:{size:"mini",type:"textarea",rows:8,resize:"none"},model:{value:t.key,callback:function(e){t.key=e},expression:"key"}})],1),r("div",{staticClass:"item"},[r("p",[t._v("过滤关键词(一行一个)")]),r("el-input",{attrs:{size:"mini",type:"textarea",rows:8,resize:"none"},model:{value:t.commonAttr.keyFilter,callback:function(e){t.$set(t.commonAttr,"keyFilter",e)},expression:"commonAttr.keyFilter"}})],1)]),r("div",{staticClass:"con-sub-3"},[r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.StartCollection}},[t._v("开始采集")]),r("el-button",{attrs:{type:"primary",size:"mini"}},[t._v("取消采集")]),r("div",{staticClass:"item"},[r("p",[t._v("起:")]),r("el-input",{attrs:{size:"mini",placeholder:""}}),r("p",[t._v("止:")]),r("el-input",{attrs:{size:"mini",placeholder:""}})],1),r("el-button",{attrs:{type:"primary",size:"mini"}},[t._v("收藏商品")]),r("el-button",{attrs:{type:"primary",size:"mini"}},[t._v("编辑上新")]),r("el-button",{attrs:{type:"primary",size:"mini"}},[t._v("插件采集")]),r("el-button",{attrs:{type:"primary",size:"mini"}},[t._v("清理全部")]),r("el-button",{attrs:{type:"primary",size:"mini"}},[t._v("导出数据")]),r("el-button",{attrs:{type:"primary",size:"mini"}},[t._v("批量删除")])],1),r("div",{staticClass:"con-sub-4"},[r("div",{staticClass:"con-sub5-log"})])])])]),r("el-tab-pane",{attrs:{label:"商品链接采集",name:"second"}}),r("el-tab-pane",{attrs:{label:"整店采集",name:"third"}}),r("el-tab-pane",{attrs:{label:"定时任务补偿",name:"fourth"}})],1)],1),r("article",[t._v("123")])])},n=[],i=r("1da1"),s=(r("96cf"),r("498a"),r("ac1f"),r("1276"),r("5319"),r("d81d"),r("d4ec")),c=r("bee2"),o=r("ade3"),l=(r("d3b7"),r("99af"),function(){function t(e){Object(s["a"])(this,t),Object(o["a"])(this,"_this",null),this._this=e,this.platformId=null,this.commonAttr=null,this.keywordAttr=null}return Object(c["a"])(t,[{key:"_initKeyWord",value:function(t,e){this.platformId=t,this.commonAttr=e}},{key:"keywordSearch",value:function(t){var e=this,r=this.commonAttr.StartPage,a=this.commonAttr.EndPage;this.commonAttr.StartPrice,this.commonAttr.EndPrice,this.commonAttr.StartSales,this.commonAttr.EndSales;return new Promise((function(n,s){var c=[],o=t.length,l={};t.map(function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(i,s){var u,m,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:t.prev=0;case 1:if(!r){t.next=33;break}t.t0=e.platformId,t.next=1===t.t0||1.2===t.t0?5:2===t.t0?7:4===t.t0?8:5===t.t0?9:7===t.t0?10:8===t.t0?11:9===t.t0?12:10===t.t0?13:11===t.t0?14:12===t.t0?15:13===t.t0?16:15===t.t0?17:18;break;case 5:return l["page"]=r,t.abrupt("break",18);case 7:return t.abrupt("break",18);case 8:return t.abrupt("break",18);case 9:return t.abrupt("break",18);case 10:return t.abrupt("break",18);case 11:return t.abrupt("break",18);case 12:return t.abrupt("break",18);case 13:return t.abrupt("break",18);case 14:return t.abrupt("break",18);case 15:return t.abrupt("break",18);case 16:return t.abrupt("break",18);case 17:return t.abrupt("break",18);case 18:return l["key"]=i,t.next=21,e._this.$collectService.querySpuByKeyworld(e.platformId,l);case 21:if(d=t.sent,d=JSON.parse(d),200!==d.Code&&e.writeLog("(".concat(r+1,"/ ").concat(a,")采集失败：").concat(d.Code,"-").concat(d.Msg)),null!==(u=d)&&void 0!==u&&null!==(m=u.ListItem)&&void 0!==m&&m.length){t.next=26;break}return t.abrupt("break",33);case 26:if(d=d.ListItem.map((function(t){})),!(r>a)){t.next=30;break}return t.abrupt("break",33);case 30:r++,t.next=1;break;case 33:t.next=38;break;case 35:return t.prev=35,t.t1=t["catch"](0),t.abrupt("return",{code:-2,data:"keywordSearch-catch: ".concat(t.t1)});case 38:s===o-1&&(e.writeLog("关键词采集完毕"),n({code:200,data:c}));case 39:case"end":return t.stop()}}),t,null,[[0,35]])})));return function(e,r){return t.apply(this,arguments)}}())}))}},{key:"writeLog",value:function(t,e){void 0!==this._this.consoleMsg&&(this._this.consoleMsg+=t+"\n")}}]),t}()),u=l,m={1:"拼多多",1.2:"拼多多优惠采集",2:"淘宝",4:"京东",5:"自有",7:"货源甲",8:"1688",9:"Lazada",10:"京喜",11:"虾皮",12:"速卖通",13:"天猫淘宝海外平台",15:"货老板云仓"};function d(t){var e=[];return Array.isArray(t)?(t.map((function(t){m[t]&&e.push({label:m[t],value:t})})),e):e}var p=d,b={props:{baseConfig:{type:Object,required:!1,default:function(){return{keywordConfig:[1,1.2,2,8,9,10,11,12]}}}},data:function(){return{activeName:"first",CollectKeyWordApInstance:new u(this),buttonStatus:{keyword:!1},currentKeywordPlatform:1,commonAttr:{StartPage:1,EndPage:20,StartSales:0,EndSales:0,StartPrice:0,EndPrice:999999999,keyFilter:"",consoleMsg:""},key:"",keywordAttr:{}}},computed:{keyworBar:function(){var t=p(this.baseConfig.keywordConfig);return t}},created:function(){},methods:{handleClick:function(t,e){},selectPlatform:function(t){this.currentKeywordPlatform=t.value},StartCollection:function(){switch(this.activeName){case"first":this["keywordSearch"]();break;case"second":this["linksSearch"]();break;case"third":this["entireMallSearch"]();break;default:this.$message.error("采集操作非法！！！！");break}},handleKeyFactory:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3;try{var e=this.key.trim();if(!e)return{code:-3,data:"参数不能为空"};e=this.key.replace(/\s/g,";").split(";");var r=[[]],a=0;return e.map((function(e){r[a].length>=t&&(a++,r[a]=[]),r[a].push(e)})),e=null,{code:200,data:r}}catch(n){return{code:-2,data:"关键词格式不规范：".concat(n)}}},keywordSearch:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var r,a,n,i,s,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.handleKeyFactory(),200===r.code){e.next=3;break}return e.abrupt("return",-2===r.code?t.$message.error(""):void 0);case 3:a=r.data,n=r.data.length,i=t.currentKeywordPlatform,t.buttonStatus.keyword=!0,t.CollectKeyWordApInstance._initKeyWord(i,t.commonAttr),s=0;case 9:if(!(s<n)){e.next=18;break}return c=a[s],e.next=13,t.CollectKeyWordApInstance.keywordSearch(c);case 13:e.sent;case 15:s++,e.next=9;break;case 18:a=null,t.buttonStatus.keyword=!1;case 20:case"end":return e.stop()}}),e)})))()},linksSearch:function(){},entireMallSearch:function(){}}},v=b,k=(r("8b36"),r("2877")),f=Object(k["a"])(v,a,n,!1,null,"2f5af748",null);e["default"]=f.exports},"8b36":function(t,e,r){"use strict";r("a887")},a887:function(t,e,r){}}]);