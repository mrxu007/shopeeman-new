(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8a4e2052"],{"4cf2":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-row"},[a("header",{staticClass:"operation-header"},[a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"关键词采集",name:"keyPage"}},[a("div",{staticClass:"keyword-container"},[a("div",{staticClass:"keyword-banner-bar"},t._l(t.keyworBar,(function(e){return a("div",{key:e.value,staticClass:"barChilren",class:{active:t.currentKeywordPlatform===e.value},on:{click:function(a){return t.switchPlatform(e)}}},[t._v(t._s(e.label))])})),0),a("div",{staticClass:"keyword-banner-content"},[a("ul",{staticClass:"item con-sub-1"},[a("li",{directives:[{name:"show",rawName:"v-show",value:t.isShowPdd,expression:"isShowPdd"}]},[a("el-radio",{attrs:{label:1},model:{value:t.commonAttr.pddRadio,callback:function(e){t.$set(t.commonAttr,"pddRadio",e)},expression:"commonAttr.pddRadio"}},[t._v("云端采集(无需账号)")])],1),a("li",{directives:[{name:"show",rawName:"v-show",value:t.isShowPage,expression:"isShowPage"}]},[a("p",[t._v("开始页码：")]),a("el-input",{attrs:{disabled:t.buttonStatus.start,size:"mini"},model:{value:t.commonAttr.StartPage,callback:function(e){t.$set(t.commonAttr,"StartPage",e)},expression:"commonAttr.StartPage"}}),a("p",[t._v("总页码：")]),a("el-input",{staticStyle:{width:"85px"},attrs:{disabled:t.buttonStatus.start,size:"mini"},model:{value:t.commonAttr.EndPage,callback:function(e){t.$set(t.commonAttr,"EndPage",e)},expression:"commonAttr.EndPage"}}),a("el-tooltip",{directives:[{name:"show",rawName:"v-show",value:t.isShowPageSize20||t.isShowPageSize50,expression:"isShowPageSize20 || isShowPageSize50"}],attrs:{placement:"top"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowPageSize20,expression:"isShowPageSize20"}],staticClass:"tip",attrs:{slot:"content"},slot:"content"},[t._v("20条/页")]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowPageSize50,expression:"isShowPageSize50"}],staticClass:"tip",attrs:{slot:"content"},slot:"content"},[t._v("50条/页,最多50页")]),a("div",{staticClass:"size-icon"},[a("i",{staticClass:"el-icon-question"})])])],1),a("li",{directives:[{name:"show",rawName:"v-show",value:t.isShowTaobao,expression:"isShowTaobao"}]},[a("p",[t._v("排序方式：")]),a("el-select",{attrs:{disabled:t.buttonStatus.start,placeholder:"",size:"mini"},model:{value:t.commonAttr.shopeeSortTypeVal,callback:function(e){t.$set(t.commonAttr,"shopeeSortTypeVal",e)},expression:"commonAttr.shopeeSortTypeVal"}},t._l(t.commonAttr.shopeeSortType,(function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),1)],1),a("li",{directives:[{name:"show",rawName:"v-show",value:t.isShowTaobao,expression:"isShowTaobao"}]},[a("p",[t._v("单词最大：")]),a("el-input",{attrs:{disabled:t.buttonStatus.start,placeholder:"",size:"mini"},model:{value:t.commonAttr.wordLimit,callback:function(e){t.$set(t.commonAttr,"wordLimit",e)},expression:"commonAttr.wordLimit"}})],1),a("li",{directives:[{name:"show",rawName:"v-show",value:t.isShowSales,expression:"isShowSales"}]},[a("p",[t._v("销量区间：")]),a("el-input",{attrs:{disabled:t.buttonStatus.start,size:"mini"},model:{value:t.commonAttr.StartSales,callback:function(e){t.$set(t.commonAttr,"StartSales",e)},expression:"commonAttr.StartSales"}}),a("span",{staticClass:"slot"},[t._v("-")]),a("el-input",{attrs:{disabled:t.buttonStatus.start,size:"mini"},model:{value:t.commonAttr.EndSales,callback:function(e){t.$set(t.commonAttr,"EndSales",e)},expression:"commonAttr.EndSales"}})],1),a("li",{directives:[{name:"show",rawName:"v-show",value:t.isShowPrice,expression:"isShowPrice"}]},[a("p",[t._v("价格区间：")]),a("el-input",{attrs:{disabled:t.buttonStatus.start,size:"mini"},model:{value:t.commonAttr.StartPrice,callback:function(e){t.$set(t.commonAttr,"StartPrice",e)},expression:"commonAttr.StartPrice"}}),a("span",{staticClass:"slot"},[t._v("-")]),a("el-input",{attrs:{disabled:t.buttonStatus.start,size:"mini"},model:{value:t.commonAttr.EndPrice,callback:function(e){t.$set(t.commonAttr,"EndPrice",e)},expression:"commonAttr.EndPrice"}})],1),a("li",{directives:[{name:"show",rawName:"v-show",value:t.isShowShopeeSite,expression:"isShowShopeeSite"}],staticClass:"li-shopee"},[a("p",[t._v("站点：")]),a("el-select",{attrs:{disabled:t.buttonStatus.start,placeholder:"",size:"mini"},on:{change:t.getShopeeGoodsPlace},model:{value:t.commonAttr.shopeeSiteCode,callback:function(e){t.$set(t.commonAttr,"shopeeSiteCode",e)},expression:"commonAttr.shopeeSiteCode"}},t._l(t.commonAttr.shopeeSite,(function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),1),a("p",{staticClass:"li-shopee-spec"},[t._v("排序方式：")]),a("el-select",{attrs:{disabled:t.buttonStatus.start,placeholder:"",size:"mini"},model:{value:t.commonAttr.shopeeSortTypeVal,callback:function(e){t.$set(t.commonAttr,"shopeeSortTypeVal",e)},expression:"commonAttr.shopeeSortTypeVal"}},t._l(t.commonAttr.shopeeSortType,(function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),1)],1),a("li",{directives:[{name:"show",rawName:"v-show",value:t.isShowShopeeSite,expression:"isShowShopeeSite"}],staticClass:"li-shopee"},[a("p",[t._v("出货地点：")]),a("el-select",{attrs:{disabled:t.buttonStatus.start,placeholder:"",size:"mini"},model:{value:t.commonAttr.shopeePlaceVal,callback:function(e){t.$set(t.commonAttr,"shopeePlaceVal",e)},expression:"commonAttr.shopeePlaceVal"}},[a("el-option",{attrs:{label:"全部",value:"-1,-2"}}),t._l(t.commonAttr.shopeePlaceOrigin,(function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})}))],2),a("el-checkbox",{staticClass:"li-shopee-spec",attrs:{disabled:t.buttonStatus.start,label:"全部"},model:{value:t.commonAttr.isShopeeOffice,callback:function(e){t.$set(t.commonAttr,"isShopeeOffice",e)},expression:"commonAttr.isShopeeOffice"}},[t._v("过滤虾皮官方店铺商品")])],1),a("li",{directives:[{name:"show",rawName:"v-show",value:t.isShowLazadaSite,expression:"isShowLazadaSite"}]},[a("p",{staticStyle:{"min-width":"128px"}},[t._v("站点：")]),a("el-select",{staticStyle:{width:"140px"},attrs:{disabled:t.buttonStatus.start,placeholder:"",size:"mini"},on:{change:t.getLazadaGoodsPlace},model:{value:t.commonAttr.lazadaSiteCode,callback:function(e){t.$set(t.commonAttr,"lazadaSiteCode",e)},expression:"commonAttr.lazadaSiteCode"}},t._l(t.commonAttr.lazadaSite,(function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),1)],1),a("li",{directives:[{name:"show",rawName:"v-show",value:t.isShowLazadaSite,expression:"isShowLazadaSite"}],staticClass:"li-lazada"},t._l(t.commonAttr.lazadaPlaceOrigin,(function(e,r,i){return a("div",{key:i},[a("p",{staticStyle:{"min-width":"128px"}},[t._v(t._s(r))]),a("el-select",{staticStyle:{width:"140px"},attrs:{disabled:t.buttonStatus.start,placeholder:"",size:"mini",multiple:"","collapse-tags":""},on:{change:function(e){return t.changeSelect(e,""+t.commonAttr["lazadaPlaceVal"+i],2)}},model:{value:t.commonAttr["lazadaPlaceVal"+i],callback:function(e){t.$set(t.commonAttr,"lazadaPlaceVal"+i,e)},expression:"commonAttr[`lazadaPlaceVal${index}`]"}},[a("el-option",{attrs:{value:0,label:"全部"},nativeOn:{click:function(a){return t.selectAll("lazadaPlaceVal"+i,e,2)}}}),t._l(e,(function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})}))],2)],1)})),0),a("li",{directives:[{name:"show",rawName:"v-show",value:t.isShowSort,expression:"isShowSort"}]},[a("p",[t._v("排序方式：")]),a("el-select",{attrs:{disabled:t.buttonStatus.start,placeholder:"",size:"mini"},model:{value:t.commonAttr.alibabaSortTypeVal,callback:function(e){t.$set(t.commonAttr,"alibabaSortTypeVal",e)},expression:"commonAttr.alibabaSortTypeVal"}},t._l(t.commonAttr.alibabaSortType,(function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),1)],1),a("li",{directives:[{name:"show",rawName:"v-show",value:t.isShowCreateAt,expression:"isShowCreateAt"}]},[a("p",[t._v("创建时间：")]),a("el-date-picker",{attrs:{disabled:t.buttonStatus.start,type:"daterange",align:"right","unlink-panels":"","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":t.commonAttr.pickerOptions,size:"mini"},model:{value:t.commonAttr.value2,callback:function(e){t.$set(t.commonAttr,"value2",e)},expression:"commonAttr.value2"}})],1)]),a("div",{staticClass:"item con-sub-3"},[a("div",{staticClass:"size-icon",style:t.isShowKeyTip?"margin-top: 3px;":"margin-top: 5px;"},[t._v("关键词(一行一个) "),a("el-tooltip",{directives:[{name:"show",rawName:"v-show",value:t.isShowKeyTip,expression:"isShowKeyTip"}],attrs:{placement:"top"}},[a("div",{staticClass:"tip",attrs:{slot:"content"},slot:"content"},[t._v("采集请使用对应的站点语言搜索")]),a("i",{staticClass:"el-icon-question"})])],1),a("el-input",{attrs:{size:"mini",type:"textarea",rows:8,resize:"none"},model:{value:t.key,callback:function(e){t.key=e},expression:"key"}})],1),a("div",{staticClass:"item con-sub-3"},[a("p",{staticClass:"text"},[t._v("过滤关键词(一行一个)")]),a("el-input",{attrs:{size:"mini",type:"textarea",rows:8,resize:"none"},model:{value:t.commonAttr.keyFilter,callback:function(e){t.$set(t.commonAttr,"keyFilter",e)},expression:"commonAttr.keyFilter"}})],1),a("ul",{staticClass:"item con-sub-2"},[a("li",[a("el-button",{attrs:{type:"primary",size:"mini",disabled:t.buttonStatus.start},on:{click:t.isCollection}},[t._v("开始采集")]),a("el-button",{attrs:{type:"primary",size:"mini",disabled:!t.buttonStatus.start,loading:t.flag},on:{click:function(e){t.flag=!0}}},[t._v("取消采集")])],1),a("li",{staticClass:"li-item-2"},[a("p",[t._v("起：")]),a("el-input",{attrs:{size:"mini",placeholder:""},model:{value:t.start,callback:function(e){t.start=e},expression:"start"}}),a("p",[t._v("止：")]),a("el-input",{attrs:{size:"mini",placeholder:""},model:{value:t.end,callback:function(e){t.end=e},expression:"end"}})],1),a("li",[a("el-button",{attrs:{type:"primary",size:"mini",disabled:t.buttonStatus.start},on:{click:t.saveGoodsInfo}},[t._v("收藏商品")]),a("el-button",{attrs:{type:"primary",size:"mini",disabled:t.buttonStatus.start},on:{click:t.editorUp}},[t._v("编辑上新")])],1),a("li",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.plugVisible=!0}}},[t._v("插件采集")]),a("el-button",{attrs:{type:"primary",size:"mini",disabled:t.buttonStatus.start},on:{click:t.deleteAll}},[t._v("清理全部")])],1),a("li",[a("el-button",{attrs:{type:"primary",size:"mini",disabled:t.buttonStatus.start},on:{click:t.exportTableData}},[t._v("导出数据")]),a("el-button",{attrs:{type:"primary",size:"mini",disabled:t.buttonStatus.start},on:{click:function(e){return t.batchTableDelete(t.goodsList,t.multipleSelection)}}},[t._v("批量删除")])],1)]),a("div",{staticClass:"item"},[a("p",{staticClass:"text"},[t._v("收藏操作")]),a("div",{staticClass:"con-sub-6"},[a("div",{staticClass:"con-sub-6-log"},[a("ul",[a("li",[a("p",[t._v("收藏总产品数量：")]),t._v(t._s(t.goodsCollectionNum))]),a("li",[a("p",[t._v("成功数量：")]),t._v(t._s(t.successNum))]),a("li",[a("p",[t._v("失败数量：")]),t._v(t._s(t.failNum))])])])])]),a("div",{staticClass:"item"},[a("p",{staticClass:"text"},[t._v("执行日志")]),a("div",{staticClass:"con-sub-5"},[a("div",{staticClass:"con-sub-5-log",domProps:{innerHTML:t._s(t.consoleMsg)}})])])])])]),a("el-tab-pane",{attrs:{label:"商品链接采集",name:"linkPage"}},[a("div",{staticClass:"link-container"},[a("div",{staticClass:"item linkcon-sub-1"},[a("p",{staticClass:"text"},[t._v("商品链接: 一行一个")]),a("el-input",{attrs:{size:"mini",type:"textarea",rows:8,resize:"none"},model:{value:t.linkKey,callback:function(e){t.linkKey=e},expression:"linkKey"}})],1),a("ul",{staticClass:"item linkcon-sub-2"},[a("li",[a("el-button",{attrs:{type:"primary",size:"mini",disabled:t.buttonStatus.start},on:{click:t.isCollection}},[t._v("开始采集")]),a("el-button",{attrs:{type:"primary",size:"mini",disabled:!t.buttonStatus.start},on:{click:function(e){t.flag=!0}}},[t._v("取消采集")])],1),a("li",{staticClass:"li-item-2"},[a("p",[t._v("起：")]),a("el-input",{attrs:{size:"mini",placeholder:""},model:{value:t.start,callback:function(e){t.start=e},expression:"start"}}),a("p",[t._v("止：")]),a("el-input",{attrs:{size:"mini",placeholder:""},model:{value:t.end,callback:function(e){t.end=e},expression:"end"}})],1),a("li",[a("el-button",{attrs:{type:"primary",size:"mini",disabled:t.buttonStatus.start},on:{click:t.saveGoodsInfo}},[t._v("收藏商品")]),a("el-button",{attrs:{disabled:t.buttonStatus.start,type:"primary",size:"mini"},on:{click:t.editorUp}},[t._v("编辑上新")])],1),a("li",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.plugVisible=!0}}},[t._v("插件采集")]),a("el-button",{attrs:{type:"primary",disabled:t.buttonStatus.start,size:"mini"},on:{click:t.deleteAll}},[t._v("清理全部")])],1),a("li",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.downloadTemplate}},[t._v(" 下载模板 ")]),a("el-upload",{ref:"importRef",staticStyle:{"margin-left":"10px"},attrs:{disabled:t.buttonStatus.start,accept:".xls,.xlsx",action:"https://jsonplaceholder.typicode.com/posts/","on-change":t.importTemplate,"show-file-list":!1,"auto-upload":!1}},[a("el-button",{staticStyle:{width:"96px"},attrs:{disabled:t.buttonStatus.start,size:"mini",type:"primary"}},[t._v("链接导入")])],1)],1),a("li",[a("el-button",{attrs:{type:"primary",size:"mini",disabled:t.buttonStatus.start},on:{click:t.exportTableData}},[t._v("导出数据")]),a("el-button",{attrs:{type:"primary",size:"mini",disabled:t.buttonStatus.start},on:{click:function(e){return t.batchTableDelete(t.goodsList,t.multipleSelection)}}},[t._v("批量删除")])],1)]),a("div",{staticClass:"item"},[a("p",{staticClass:"text"},[t._v("收藏操作")]),a("div",{staticClass:"con-sub-6"},[a("div",{staticClass:"con-sub-6-log"},[a("ul",[a("li",[a("p",[t._v("收藏总产品数量：")]),t._v(t._s(t.goodsCollectionNum))]),a("li",[a("p",[t._v("成功数量：")]),t._v(t._s(t.successNum))]),a("li",[a("p",[t._v("失败数量：")]),t._v(t._s(t.failNum))])])])])]),a("div",{staticClass:"item"},[a("p",{staticClass:"text"},[t._v("执行日志")]),a("div",{staticClass:"linkcon-sub-4"},[a("div",{staticClass:"linkcon-sub-4-log",domProps:{innerHTML:t._s(t.consoleMsg)}})])])])]),a("el-tab-pane",{attrs:{label:"整店采集",name:"entriresShopPage"}},[a("div",{staticClass:"entires-container"},[a("ul",{staticClass:"item con-sub-1"},[a("li",{directives:[{name:"show",rawName:"v-show",value:t.isShowSales,expression:"isShowSales"}]},[a("p",[t._v("销量区间：")]),a("el-input",{attrs:{disabled:t.buttonStatus.start,size:"mini"},model:{value:t.commonAttr.StartSales,callback:function(e){t.$set(t.commonAttr,"StartSales",e)},expression:"commonAttr.StartSales"}}),a("span",{staticClass:"slot"},[t._v("-")]),a("el-input",{attrs:{disabled:t.buttonStatus.start,size:"mini"},model:{value:t.commonAttr.EndSales,callback:function(e){t.$set(t.commonAttr,"EndSales",e)},expression:"commonAttr.EndSales"}})],1),a("li",{directives:[{name:"show",rawName:"v-show",value:t.isShowPrice,expression:"isShowPrice"}]},[a("p",[t._v("价格区间：")]),a("el-input",{attrs:{disabled:t.buttonStatus.start,size:"mini"},model:{value:t.commonAttr.StartPrice,callback:function(e){t.$set(t.commonAttr,"StartPrice",e)},expression:"commonAttr.StartPrice"}}),a("span",{staticClass:"slot"},[t._v("-")]),a("el-input",{attrs:{disabled:t.buttonStatus.start,size:"mini"},model:{value:t.commonAttr.EndPrice,callback:function(e){t.$set(t.commonAttr,"EndPrice",e)},expression:"commonAttr.EndPrice"}})],1)]),a("div",{staticClass:"item con-sub-3"},[a("div",{staticClass:"size-icon",staticStyle:{"margin-top":"3px"}},[t._v("店铺链接(一行一个) "),a("el-tooltip",{attrs:{placement:"top"}},[a("div",{attrs:{slot:"content"},slot:"content"},[t._v("目前仅支持淘宝/Shopee/Lazada/1688/拼多多整店采集"),a("br"),a("br"),t._v("1688店铺链接：进入1688店铺->点击首页->复制链接"),a("br"),a("br"),t._v("店铺链接：进入shopee店铺->点击所有商品(AllProduct)")]),a("i",{staticClass:"el-icon-question"})])],1),a("el-input",{attrs:{size:"mini",type:"textarea",rows:8,resize:"none"},model:{value:t.mallLinkKey,callback:function(e){t.mallLinkKey=e},expression:"mallLinkKey"}})],1),a("div",{staticClass:"item con-sub-3"},[a("p",{staticClass:"text"},[t._v("过滤违规词：一行一个")]),a("el-input",{attrs:{size:"mini",type:"textarea",rows:8,resize:"none"},model:{value:t.commonAttr.keyFilter,callback:function(e){t.$set(t.commonAttr,"keyFilter",e)},expression:"commonAttr.keyFilter"}})],1),a("ul",{staticClass:"item con-sub-2"},[a("li",[a("el-button",{attrs:{type:"primary",size:"mini",disabled:t.buttonStatus.start},on:{click:t.isCollection}},[t._v("开始采集")]),a("el-button",{attrs:{type:"primary",size:"mini",disabled:!t.buttonStatus.start},on:{click:function(e){t.flag=!0}}},[t._v("取消采集")])],1),a("li",{staticClass:"li-item-2"},[a("p",[t._v("起：")]),a("el-input",{attrs:{size:"mini",placeholder:""},model:{value:t.start,callback:function(e){t.start=e},expression:"start"}}),a("p",[t._v("止：")]),a("el-input",{attrs:{size:"mini",placeholder:""},model:{value:t.end,callback:function(e){t.end=e},expression:"end"}})],1),a("li",[a("el-button",{attrs:{type:"primary",size:"mini",disabled:t.buttonStatus.start},on:{click:t.saveGoodsInfo}},[t._v("收藏商品")]),a("el-button",{attrs:{type:"primary",size:"mini",disabled:t.buttonStatus.start},on:{click:t.editorUp}},[t._v("编辑上新")])],1),a("li",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.plugVisible=!0}}},[t._v("插件采集")]),a("el-button",{attrs:{type:"primary",size:"mini",disabled:t.buttonStatus.start},on:{click:t.deleteAll}},[t._v("清理全部")])],1),a("li",[a("el-button",{attrs:{type:"primary",size:"mini",disabled:t.buttonStatus.start},on:{click:t.exportTableData}},[t._v("导出数据")]),a("el-button",{attrs:{type:"primary",size:"mini",disabled:t.buttonStatus.start},on:{click:function(e){return t.batchTableDelete(t.goodsList,t.multipleSelection)}}},[t._v("批量删除")])],1)]),a("div",{staticClass:"item"},[a("p",{staticClass:"text"},[t._v("收藏操作")]),a("div",{staticClass:"con-sub-6"},[a("div",{staticClass:"con-sub-6-log"},[a("ul",[a("li",[a("p",[t._v("收藏总产品数量：")]),t._v(t._s(t.goodsCollectionNum))]),a("li",[a("p",[t._v("成功数量：")]),t._v(t._s(t.successNum))]),a("li",[a("p",[t._v("失败数量：")]),t._v(t._s(t.failNum))])])])])]),a("div",{staticClass:"item"},[a("p",{staticClass:"text"},[t._v("执行日志")]),a("div",{staticClass:"con-sub-5"},[a("div",{staticClass:"con-sub-5-log",domProps:{innerHTML:t._s(t.consoleMsg)}})])])])]),a("el-tab-pane",{attrs:{label:"图搜同款",name:"picToPicPage"}},[a("div",{staticClass:"picture-container"},[a("ul",{staticClass:"item con-sub-1"},[a("li",[a("p",[t._v("价格：")]),a("el-input",{attrs:{disabled:t.buttonStatus.start,size:"mini"},model:{value:t.commonAttr.StartPrice,callback:function(e){t.$set(t.commonAttr,"StartPrice",e)},expression:"commonAttr.StartPrice"}}),a("span",{staticClass:"slot"},[t._v("-")]),a("el-input",{attrs:{disabled:t.buttonStatus.start,size:"mini"},model:{value:t.commonAttr.EndPrice,callback:function(e){t.$set(t.commonAttr,"EndPrice",e)},expression:"commonAttr.EndPrice"}})],1),a("li",[a("p",[t._v("平台：")]),a("el-select",{attrs:{disabled:t.buttonStatus.start,placeholder:"",size:"mini"},model:{value:t.commonAttr.pictureSearchPlatformId,callback:function(e){t.$set(t.commonAttr,"pictureSearchPlatformId",e)},expression:"commonAttr.pictureSearchPlatformId"}},t._l(t.pictureSearchOrigin,(function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),1),a("el-upload",{staticClass:"avatar-uploader",attrs:{disabled:t.buttonStatus.start,action:"#","show-file-list":!1,"on-error":t.imgSaveToUrl}},[a("el-button",{staticStyle:{"margin-left":"25px"},attrs:{disabled:t.buttonStatus.start,type:"primary",size:"mini"}},[t._v("选择图片")])],1)],1)]),a("div",{staticClass:"item con-sub-3"},[t.base64Str?a("img",{staticClass:"avatar",staticStyle:{width:"200px",height:"156px"},attrs:{src:t.base64Str}}):t._e()]),a("ul",{staticClass:"item con-sub-2"},[a("li",[a("el-button",{attrs:{type:"primary",size:"mini",disabled:t.buttonStatus.start},on:{click:t.isCollection}},[t._v("开始采集")]),a("el-button",{attrs:{type:"primary",size:"mini",disabled:!t.buttonStatus.start},on:{click:function(e){t.flag=!0}}},[t._v("取消采集")])],1),a("li",{staticClass:"li-item-2"},[a("p",[t._v("起：")]),a("el-input",{attrs:{size:"mini",placeholder:""},model:{value:t.start,callback:function(e){t.start=e},expression:"start"}}),a("p",[t._v("止：")]),a("el-input",{attrs:{size:"mini",placeholder:""},model:{value:t.end,callback:function(e){t.end=e},expression:"end"}})],1),a("li",[a("el-button",{attrs:{type:"primary",size:"mini",disabled:t.buttonStatus.start},on:{click:t.saveGoodsInfo}},[t._v("收藏商品")]),a("el-button",{attrs:{type:"primary",size:"mini",disabled:t.buttonStatus.start},on:{click:t.editorUp}},[t._v("编辑上新")])],1),a("li",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.plugVisible=!0}}},[t._v("插件采集")]),a("el-button",{attrs:{type:"primary",size:"mini",disabled:t.buttonStatus.start},on:{click:t.deleteAll}},[t._v("清理全部")])],1),a("li",[a("el-button",{attrs:{type:"primary",size:"mini",disabled:t.buttonStatus.start},on:{click:t.exportTableData}},[t._v("导出数据")]),a("el-button",{attrs:{type:"primary",size:"mini",disabled:t.buttonStatus.start},on:{click:function(e){return t.batchTableDelete(t.goodsList,t.multipleSelection)}}},[t._v("批量删除")])],1)]),a("div",{staticClass:"item"},[a("p",{staticClass:"text"},[t._v("收藏操作")]),a("div",{staticClass:"con-sub-6"},[a("div",{staticClass:"con-sub-6-log"},[a("ul",[a("li",[a("p",[t._v("收藏总产品数量：")]),t._v(t._s(t.goodsCollectionNum))]),a("li",[a("p",[t._v("成功数量：")]),t._v(t._s(t.successNum))]),a("li",[a("p",[t._v("失败数量：")]),t._v(t._s(t.failNum))])])])])]),a("div",{staticClass:"item"},[a("p",{staticClass:"text"},[t._v("执行日志")]),a("div",{staticClass:"con-sub-5"},[a("div",{staticClass:"con-sub-5-log",domProps:{innerHTML:t._s(t.consoleMsg)}})])])])]),a("el-tab-pane",{attrs:{label:"天猫淘宝海外平台采集",name:"taobaoAbroadPage"}},[a("div",{staticClass:"TMTB-container"},[a("ul",{staticClass:"item con-sub-1"},[a("li",[a("p",[t._v("选择账号：")]),a("el-select",{staticStyle:{width:"140px"},attrs:{disabled:t.buttonStatus.start,placeholder:"",size:"mini",multiple:"","collapse-tags":""},on:{change:function(e){return t.changeSelect(e,"TaobaoAbroadAccountId",1)}},model:{value:t.TaobaoAbroadAccountId,callback:function(e){t.TaobaoAbroadAccountId=e},expression:"TaobaoAbroadAccountId"}},[a("el-option",{attrs:{value:0,label:"全部"},nativeOn:{click:function(e){return t.selectAll("TaobaoAbroadAccountId",t.TaobaoAbroadAccount,1)}}}),t._l(t.TaobaoAbroadAccount,(function(t,e){return a("el-option",{key:e,attrs:{label:t.account_alias_name,value:t.id}})}))],2)],1),a("li",[a("p",[t._v("起始时间：")]),a("el-date-picker",{attrs:{disabled:t.buttonStatus.start,type:"daterange",align:"right","unlink-panels":"","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"timestamp",size:"mini"},model:{value:t.taobaoTimeAt,callback:function(e){t.taobaoTimeAt=e},expression:"taobaoTimeAt"}})],1),a("li",[a("a",{attrs:{href:"#"},on:{click:function(e){return t.$BaseUtilService.openUrl("https:distributor.taobao.global/")}}},[t._v("淘宝天猫海外商品铺货")])])]),a("ul",{staticClass:"item con-sub-2"},[a("li",[a("el-button",{attrs:{type:"primary",size:"mini",disabled:t.buttonStatus.start},on:{click:t.isCollection}},[t._v("开始采集")]),a("el-button",{attrs:{type:"primary",size:"mini",disabled:!t.buttonStatus.start},on:{click:function(e){t.flag=!0}}},[t._v("取消采集")])],1),a("li",{staticClass:"li-item-2"},[a("p",[t._v("起：")]),a("el-input",{attrs:{size:"mini",placeholder:""},model:{value:t.start,callback:function(e){t.start=e},expression:"start"}}),a("p",[t._v("止：")]),a("el-input",{attrs:{size:"mini",placeholder:""},model:{value:t.end,callback:function(e){t.end=e},expression:"end"}})],1),a("li",[a("el-button",{attrs:{type:"primary",size:"mini",disabled:t.buttonStatus.start},on:{click:t.saveGoodsInfo}},[t._v("收藏商品")]),a("el-button",{attrs:{type:"primary",disabled:t.buttonStatus.start,size:"mini"},on:{click:t.editorUp}},[t._v("编辑上新")])],1),a("li",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.plugVisible=!0}}},[t._v("插件采集")]),a("el-button",{attrs:{type:"primary",disabled:t.buttonStatus.start,size:"mini"},on:{click:t.deleteAll}},[t._v("清理全部")])],1),a("li",[a("el-button",{attrs:{type:"primary",size:"mini",disabled:t.buttonStatus.start},on:{click:t.exportTableData}},[t._v("导出数据")]),a("el-button",{attrs:{type:"primary",size:"mini",disabled:t.buttonStatus.start},on:{click:function(e){return t.batchTableDelete(t.goodsList,t.multipleSelection)}}},[t._v("批量删除")])],1)]),a("div",{staticClass:"item"},[a("p",{staticClass:"text"},[t._v("收藏操作")]),a("div",{staticClass:"con-sub-6"},[a("div",{staticClass:"con-sub-6-log"},[a("ul",[a("li",[a("p",[t._v("收藏总产品数量：")]),t._v(t._s(t.goodsCollectionNum))]),a("li",[a("p",[t._v("成功数量：")]),t._v(t._s(t.successNum))]),a("li",[a("p",[t._v("失败数量：")]),t._v(t._s(t.failNum))])])])])]),a("div",{staticClass:"item"},[a("p",{staticClass:"text"},[t._v("执行日志")]),a("div",{staticClass:"con-sub-5"},[a("div",{staticClass:"con-sub-5-log",domProps:{innerHTML:t._s(t.consoleMsg)}})])])])]),a("el-tab-pane",{attrs:{label:"采集设置",name:"sixth"}},[a("div",{staticClass:"collection-settings"},[a("ul",{staticClass:"item left"},[a("li",{staticClass:"text"},[t._v("采集设置")]),a("li",[a("el-checkbox",{attrs:{label:"过滤多余的SKU"},model:{value:t.IsDefaultFilterSkuCount,callback:function(e){t.IsDefaultFilterSkuCount=e},expression:"IsDefaultFilterSkuCount"}}),a("p",{staticClass:"tip"},[t._v("（勾选多余的SKU，删除所有sku图）")])],1),a("li",[a("el-checkbox",{attrs:{label:"规格图重复时，删除所有sku图"},model:{value:t.IsDeleteRepeatSkuImg,callback:function(e){t.IsDeleteRepeatSkuImg=e},expression:"IsDeleteRepeatSkuImg"}})],1),a("li",[a("el-checkbox",{attrs:{label:"启动lazada发货天数过滤商品"},model:{value:t.IsFilterLazadaDeliveryDay,callback:function(e){t.IsFilterLazadaDeliveryDay=e},expression:"IsFilterLazadaDeliveryDay"}}),a("p",{staticClass:"tip2"},[t._v("lazada发货天数：")]),a("el-input",{attrs:{placeholder:"",size:"mini"},model:{value:t.MinLazadaDeliveryDay,callback:function(e){t.MinLazadaDeliveryDay=e},expression:"MinLazadaDeliveryDay"}}),a("span",[t._v("--")]),a("el-input",{attrs:{placeholder:"",size:"mini"},model:{value:t.MaxLazadaDeliveryDay,callback:function(e){t.MaxLazadaDeliveryDay=e},expression:"MaxLazadaDeliveryDay"}})],1),a("li",[a("el-checkbox",{attrs:{label:"启动虾皮发货天数过滤商品"},model:{value:t.IsFilterShopeeDeliveryDay,callback:function(e){t.IsFilterShopeeDeliveryDay=e},expression:"IsFilterShopeeDeliveryDay"}}),a("p",{staticClass:"tip2"},[t._v("虾皮发货天数：")]),a("el-input",{attrs:{placeholder:"",size:"mini"},model:{value:t.MinShoppeDeliveryDay,callback:function(e){t.MinShoppeDeliveryDay=e},expression:"MinShoppeDeliveryDay"}}),a("span",[t._v("--")]),a("el-input",{attrs:{placeholder:"",size:"mini"},model:{value:t.MaxShoppeDeliveryDay,callback:function(e){t.MaxShoppeDeliveryDay=e},expression:"MaxShoppeDeliveryDay"}})],1),a("li",[a("p",{staticClass:"tip"},[t._v("收藏时过滤掉不在此发货天数区间的商品")])]),a("li",[a("el-checkbox",{attrs:{label:"采集描述为空的数据"},model:{value:t.IsCollectDescriptionIsNull,callback:function(e){t.IsCollectDescriptionIsNull=e},expression:"IsCollectDescriptionIsNull "}})],1),a("li",[a("p",[t._v("收藏时过滤商品发货地址（仅Shopee可用）：")]),a("el-select",{attrs:{placeholder:"",size:"mini"},model:{value:t.GoodsDeliveryAddress,callback:function(e){t.GoodsDeliveryAddress=e},expression:"GoodsDeliveryAddress"}},t._l(t.GoodsDeliveryAddressList,(function(t,e){return a("el-option",{key:e,attrs:{value:t.value,label:t.label}})})),1)],1)]),a("ul",{staticClass:"item right"},[a("li",{staticClass:"text"},[t._v("翻译设置")]),a("li",[a("p",[t._v("翻译缓存时间：")]),a("el-date-picker",{staticStyle:{"margin-right":"10px"},attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期",size:"mini"},model:{value:t.commonAttr.cacheTime,callback:function(e){t.$set(t.commonAttr,"cacheTime",e)},expression:"commonAttr.cacheTime"}}),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.clearTranslate}},[t._v("清 理")])],1),a("li",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.clearCache}},[t._v("清理缓存数据")])],1)])])])],1)],1),a("article",{directives:[{name:"show",rawName:"v-show",value:"sixth"!==t.activeName,expression:"activeName !== 'sixth'"}]},[a("div",{staticStyle:{color:"red","padding-bottom":"10px"}},[t._v("温馨提示：拼多多产品加载不出来，收藏或者组装数据慢，请切换本地IP")]),a("u-table",{ref:"plTable",attrs:{"use-virtual":"",height:"keyPage"===t.activeName?500:540,data:t.goodsList,"data-changes-scroll-top":!1,"header-cell-style":{backgroundColor:"#f5f7fa"},"big-data-checkbox":!0,border:!1},on:{"selection-change":t.handleSelectionChange}},[a("u-table-column",{attrs:{align:"center",type:"selection"}}),a("u-table-column",{attrs:{align:"center",type:"index",label:"序号"}}),a("u-table-column",{attrs:{align:"center",label:"主图"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[r.Image?a("el-tooltip",{staticStyle:{width:"50px",height:"50px"},attrs:{effect:"light",placement:"right-end","visible-arrow":!1,enterable:!1}},[a("div",{attrs:{slot:"content"},slot:"content"},[a("el-image",{staticStyle:{width:"400px",height:"400px"},attrs:{src:r.Image}},[a("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"}),a("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[t._v(" 加载中"),a("span",{staticClass:"dot"},[t._v("...")])])])],1),a("el-image",{staticStyle:{width:"40px",height:"40px"},attrs:{src:r.Image}},[a("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"}),a("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[t._v(" 加载中"),a("span",{staticClass:"dot"},[t._v("...")])])])],1):t._e()]}}])}),a("u-table-column",{attrs:{align:"center","min-width":"150",label:"上家ID",prop:"GoodsId","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[r.GoodsId?a("span",{staticClass:"copyIcon",on:{click:function(e){return t.copy(r.GoodsId)}}},[a("i",{staticClass:"el-icon-document-copy"})]):t._e(),a("span",{staticStyle:{cursor:"pointer",color:"blue"},on:{click:function(e){return t.openUrl(r.Url)}}},[t._v(" "+t._s(r.GoodsId)+" ")])]}}])}),a("u-table-column",{attrs:{align:"center",label:"标题",prop:"Title","min-width":"400px","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[a("p",{staticStyle:{"white-space":"normal"}},[t._v(t._s(r.Title))])]}}])}),a("u-table-column",{attrs:{align:"center","min-width":"200",label:"类目",prop:"CategoryName","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[a("p",{staticStyle:{"white-space":"normal"}},[t._v(t._s(r.CategoryName))])]}}])}),a("u-table-column",{attrs:{align:"center",label:"价格",prop:"Price",sortable:""}}),a("u-table-column",{attrs:{align:"center",label:"销量",prop:"Sales",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(" "+t._s(isNaN(a.Sales)?0:a.Sales)+" ")]}}])}),a("u-table-column",{attrs:{align:"center",label:"发货地",prop:"Location"}}),a("u-table-column",{attrs:{align:"center","min-width":"150",label:"来源",prop:"Origin","show-overflow-tooltip":""}}),a("u-table-column",{attrs:{align:"center","min-width":"80",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return t.tableDelete(e.row,e.$index)}}},[t._v(" 删除 ")])]}}])}),a("u-table-column",{attrs:{"min-width":"100",align:"center",label:"操作结果",prop:"StatusName","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[a("span",{style:r.color&&"color:"+r.color},[t._v(t._s(r.StatusName))])]}}])})],1)],1),t.plugVisible?a("el-dialog",{staticClass:"plug-dialog",attrs:{title:"插件采集",visible:t.plugVisible,width:"600px","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(e){t.plugVisible=e}}},[a("p",[t._v("1：请先下载插件程序安装至浏览器，方可使用此功能"),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.$BaseUtilService.openUrl("https://shopeeman.oss-cn-shenzhen.aliyuncs.com/files/shopeemanFiles/appFiles/20220106/2022010616473761d6aca9e310d.docx")}}},[t._v("下载教程")])],1),a("p",[t._v("2：由于推送地址端口号随时生成，重启软件后，请务必重新复制推送地址 "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.$BaseUtilService.openUrl("https://shopeeppxia.oss-cn-shenzhen.aliyuncs.com/desktop/plugin/CollectPligin.zip")}}},[t._v("下载插件")])],1),a("el-form",{attrs:{"label-position":"right","label-width":"190px"}},[a("el-form-item",{attrs:{label:"拼多多关键词采集推送地址："}},[a("div",{staticClass:"item"},[a("span",[t._v(t._s(t.port)+"/api/pddGoodsKeyword")]),a("el-button",{attrs:{size:"mini"},on:{click:function(e){return t.copy(t.port+"/api/pddGoodsKeyword")}}},[t._v("复 制")])],1)]),a("el-form-item",{attrs:{label:"拼多多详情采集推送地址："}},[a("div",{staticClass:"item"},[a("span",[t._v(t._s(t.port)+"/api/pddGoodsDetail")]),a("el-button",{attrs:{size:"mini"},on:{click:function(e){return t.copy(t.port+"/api/pddGoodsDetail")}}},[t._v("复 制")])],1)]),a("el-form-item",{attrs:{label:"淘宝/天猫关键词采集推送地址："}},[a("div",{staticClass:"item"},[a("span",[t._v(t._s(t.port)+"/api/tbGoodsKeyword")]),a("el-button",{attrs:{size:"mini"},on:{click:function(e){return t.copy(t.port+"/api/tbGoodsKeyword")}}},[t._v("复 制")])],1)]),a("el-form-item",{attrs:{label:"淘宝详情采集推送地址："}},[a("div",{staticClass:"item"},[a("span",[t._v(t._s(t.port)+"/api/tbGoodsDetail")]),a("el-button",{attrs:{size:"mini"},on:{click:function(e){return t.copy(t.port+"/api/tbGoodsDetail")}}},[t._v("复 制")])],1)])],1)],1):t._e(),a("el-dialog",{attrs:{width:"1313px","close-on-click-modal":!1,top:"0.5vh",visible:t.isEditorVisible,modal:!1},on:{"update:visible":function(e){t.isEditorVisible=e},close:t.closeEditor}},[a("template",{slot:"title"},[a("div",{staticStyle:{display:"flex","align-items":"center"}},[a("div",{staticStyle:{"margin-right":"25px"}},[t._v("上新编辑")]),a("el-button",{attrs:{size:"mini",type:t.isNoFoldShow?"primary":""},nativeOn:{click:function(e){return e.stopPropagation(),t.setIsNoFoldShow.apply(null,arguments)}}},[t._v(" "+t._s(t.isNoFoldShow?"折叠":"展开")+" ")])],1)]),t.isEditorVisible?a("editor-on-new-goods",{ref:"editor_on_new_goods",attrs:{"mall-table":t.editorSelection}}):t._e()],2)],1)},i=[],n=a("2909"),o=a("b85c"),s=a("1da1"),l=(a("96cf"),a("caad"),a("5b81"),a("b64b"),a("159b"),a("99af"),a("2532"),a("3ca3"),a("ddb0"),a("7db0"),a("a434"),a("a9e3"),a("4e82"),a("d81d"),a("c740"),a("b0c0"),a("4de4"),a("d4ec")),c=a("bee2"),u=a("ade3"),d=(a("ac1f"),a("1276"),a("a15b"),a("5319"),a("498a"),a("4d63"),a("25f0"),a("fb6a"),a("0e0b")),p=function(){function t(e){Object(l["a"])(this,t),Object(u["a"])(this,"_this",null),this._this=e,this.platformId=null,this.commonAttr=null,this.keywordAttr=null,this.delayTime=1e3,this.GoodsData=null,this.errorCatchText=null}return Object(c["a"])(t,[{key:"_initKeyWord",value:function(t,e){this.platformId=t,this.commonAttr=e}},{key:"keywordSearch",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e,a){var r,i,n,o,s,l,c,u,d,p,h,m,g,b,v,f,y,S,k=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.GoodsData=null,this.GoodsData=[],r=this.commonAttr.StartPage-0,i=this.commonAttr.EndPage-0,n=this.commonAttr.StartPrice-0,o=this.commonAttr.EndPrice-0,s=this.commonAttr.shopeeSortTypeVal,l=s.split(",")[0],c=s.split(",")[1],u=this.commonAttr.shopeeSiteCode,d=this.commonAttr.shopeePlaceVal,p=this.commonAttr.lazadaSiteCode,h=this.commonAttr.lazadaPlaceVal0.concat(this.commonAttr.lazadaPlaceVal1),m=this.commonAttr.alibabaSortTypeVal,g={},g["Key"]=e;case 16:if(!r){t.next=80;break}if(!this._this.flag){t.next=19;break}return t.abrupt("break",80);case 19:if(2!==this.platformId){t.next=23;break}if(b=this._this.goodsList.filter((function(t){return t.wordLimitKey===e})),!(b.length>=Number(this.commonAttr.wordLimit))){t.next=23;break}return t.abrupt("break",80);case 23:t.t0=this.platformId,t.next=1===t.t0?26:2===t.t0||3===t.t0?28:8===t.t0?32:9===t.t0?35:10===t.t0?41:11===t.t0?43:12===t.t0?51:13===t.t0?53:54;break;case 26:return g["Page"]=r,t.abrupt("break",54);case 28:return g["Page"]=r,g["StartPrice"]=n,g["EndPrice"]=o,t.abrupt("break",54);case 32:return g["Page"]=r,g["SortType"]=m,t.abrupt("break",54);case 35:return g["Page"]=r,g["Site"]=p.toLowerCase(),g["StartPrice"]=n,g["EndPrice"]=o,g["Location"]=h.join(","),t.abrupt("break",54);case 41:return g["Page"]=r,t.abrupt("break",54);case 43:return g["Page"]=r,g["By"]=l,g["Order"]=c,g["StartPrice"]=n,g["EndPrice"]=o,g["Site"]=u.toLowerCase(),g["Location"]=d,t.abrupt("break",54);case 51:return g["Page"]=r,t.abrupt("break",54);case 53:return t.abrupt("break",54);case 54:return v=null,t.prev=55,t.next=58,this._this.$collectService.querySpuByKeyworld(this.platformId,g);case 58:v=t.sent,t.next=65;break;case 61:t.prev=61,t.t1=t["catch"](55),this.errorCatchText=t.t1,v=this.handleError();case 65:if(v=JSON.parse(v),200===v.Code){t.next=71;break}return 1===this.platformId?this.writeLog("采集".concat(e,"关键词第").concat(r,"页第一部分失败：已无可采数据"),!1):this.writeLog("采集".concat(e,"关键词第").concat(r,"页失败：已无可采数据"),!1),t.abrupt("break",80);case 71:v.ListItem=v.ListItem.map((function(t,a){return t.id=a+1,t.information="",9===k.platformId&&(t.Site=g.Site),t.wordLimitKey=e,t})),f=this._this.filterData(v.ListItem),1===this.platformId?this.writeLog("采集".concat(e,"关键词第").concat(r,"页第一部分，采集到约").concat(v.ListItem.length,"条，过滤").concat(v.ListItem.length-f.length,"条"),!0):this.writeLog("采集".concat(e,"关键词第").concat(r,"页数据，采集到约").concat(v.ListItem.length,"条，过滤").concat(v.ListItem.length-f.length,"条"),!0),2===this.platformId?(y=this._this.goodsList.filter((function(t){return t.wordLimitKey===e})),S=Number(this.commonAttr.wordLimit)-y.length,a=f.splice(0,S),this._this.goodsList=this._this.goodsList.concat(a)):this._this.goodsList=this._this.goodsList.concat(f);case 75:if(!(2!==this.platformId&&r>=i)){t.next=77;break}return t.abrupt("break",80);case 77:r++,t.next=16;break;case 80:case"end":return t.stop()}}),t,this,[[55,61]])})));function e(e,a){return t.apply(this,arguments)}return e}()},{key:"keywordSearchTwo",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var a,r,i,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.GoodsData=null,this.GoodsData=[],a=this.commonAttr.StartPage-0,r=this.commonAttr.EndPage-0,i={},i["key"]=e;case 6:if(!a){t.next=36;break}if(!this._this.flag){t.next=9;break}return t.abrupt("break",36);case 9:return i["page"]=a,n=null,t.prev=11,t.next=14,this._this.$collectService.querySpuByKeyworld(1.1,i);case 14:n=t.sent,t.next=21;break;case 17:t.prev=17,t.t0=t["catch"](11),this.errorCatchText=t.t0,n=this.handleError();case 21:if(n=JSON.parse(n),200===n.Code){t.next=27;break}return this.writeLog("采集".concat(e,"关键词第").concat(a,"页第二部分失败：已无可采数据"),!1),t.abrupt("break",36);case 27:n.ListItem=n.ListItem.map((function(t,e){return t.id=e+1,t.information="",t})),o=this._this.filterData(n.ListItem),this._this.goodsList=this._this.goodsList.concat(o),this.writeLog("采集".concat(e,"关键词第").concat(a,"页第二部分，采集到约").concat(n.ListItem.length,"条，过滤").concat(n.ListItem.length-o.length,"条"),!0);case 31:if(!(a>=r)){t.next=33;break}return t.abrupt("break",36);case 33:a++,t.next=6;break;case 36:case"end":return t.stop()}}),t,this,[[11,17]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"handleError",value:function(){var t=JSON.stringify(this.errorCatchText).replace(/\s/g,"");return t.indexOf("数据列表为空")>-1?t="数据列表为空":t.indexOf("返回数据不能为空")>-1?t="返回数据不能为空":(t.indexOf("超出页数限制")>-1||t.indexOf("获取Shopee商品详情为空")>-1)&&(t="采集完成，采集已达最大页数限制"),this.errorCatchText=null,JSON.stringify({Code:-2,Msg:"捕获错误".concat(t)})}},{key:"handleKeyFactory",value:function(t){try{var e=t.trim();return e?(e=e.replace(/\s/g,";").split(";"),{code:200,data:e}):{code:-3,data:"关键词不能为空"}}catch(a){return{code:-2,data:"关键词格式不规范：".concat(a)}}}},{key:"filterLinkKeyWord",value:function(t,e){for(var a=t,r=!1,i=[],n=0;n<e.length;n++){var o=e[n],s=RegExp(o.replace(/^[^\w^\s^\u4e00-\u9fa5]/i,""));if(r=s.test(a),r){i.push(o);break}}return i.join(",")}},{key:"handleKeyFilter",value:function(t){return Array.isArray(t)||(t=t.split("\n")),t.length>1e3&&(t=t.slice(0,1e3),this.notify("标题过滤设置","请输入小于1000组以内的关键词","warning")),t}},{key:"writeLog",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(void 0!==this._this.consoleMsg&&t){var a=e?"green":"red",r=Object(d["g"])(new Date(Date.now()),"hh:mm:ss");this._this.consoleMsg+='<p style="color:'.concat(a,'; margin-top: 5px;">').concat(r,":").concat(t,"</p>")}}}]),t}(),h=p,m=(a("d3b7"),function(){function t(e){Object(l["a"])(this,t),Object(u["a"])(this,"_this",null),this._this=e,this.goods=null}return Object(c["a"])(t,[{key:"getGoodsDeail",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var a,r,i,n,o,s,l,c,u,d,p,h=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=!(h.length>1&&void 0!==h[1])||h[1],t.prev=1,this.goods=e,r=this.goods,i=r.platformId,n=r.GoodsId,o=r.ShopId,s=r.Site,l=r.Platform,c=r.AccessToken,u={},u["GoodsId"]=n,t.t0=i||l,t.next=1===t.t0||1.2===t.t0?9:2===t.t0||3===t.t0?10:8===t.t0?11:9===t.t0?12:10===t.t0?14:11===t.t0?15:12===t.t0?18:13===t.t0?19:21;break;case 9:return t.abrupt("break",21);case 10:return t.abrupt("break",21);case 11:return t.abrupt("break",21);case 12:return u["Site"]=s,t.abrupt("break",21);case 14:return t.abrupt("break",21);case 15:return u["ShopId"]=o,u["Site"]=s,t.abrupt("break",21);case 18:return t.abrupt("break",21);case 19:return u["AccessToken"]=c,t.abrupt("break",21);case 21:return t.next=23,this._this.$collectService.queryDetailById(Number(i||l),u,a);case 23:if(d=t.sent,p=this.isJsonString(d),200!==(null===p||void 0===p?void 0:p.Code)){t.next=27;break}return t.abrupt("return",{code:200,data:p});case 27:return t.abrupt("return",{code:-2,data:d});case 30:return t.prev=30,t.t1=t["catch"](1),t.abrupt("return",{code:-2,data:"getGoodsDeail-catch: ".concat(t.t1)});case 33:case"end":return t.stop()}}),t,this,[[1,30]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"handleLinkKeyFactory",value:function(t,e){var a=this;try{var r=[],i=[];if(1===e){var n=t.trim();if(!n)return{code:-3,data:"关键词不能为空"};var o=n.trim().replace(/\s/g,";").split(";");o.map((function(t,e){i[e]={},i[e]["Url"]=t}))}else i=t;return i.map((function(t){var e=Object(d["o"])(t.Url.toString());200!==e.code&&a.writeLog("".concat(e.data),!1);var i=e.data;i.GoodsId&&r.push({platformId:i["platformId"],GoodsId:i["GoodsId"],Site:i["Site"],ShopId:i["ShopId"],Url:t.Url,Weight:t.Weight,Length:t.Length,Width:t.Width,Height:t.Height})})),{code:200,data:r}}catch(s){return{code:-2,data:"关键词格式不规范：".concat(s)}}}},{key:"writeLog",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(void 0!==this._this.consoleMsg&&t){var a=e?"green":"red",r=Object(d["g"])(new Date(Date.now()),"hh:mm:ss");this._this.consoleMsg+='<p style="color:'.concat(a,'; margin-top: 5px;">').concat(r,":").concat(t,"</p>")}}},{key:"isJsonString",value:function(t){if("string"!==typeof t)return!1;try{return JSON.parse(t),JSON.parse(t)}catch(e){return!1}}}]),t}()),g=m,b=a("53ca"),v=function(){function t(e){Object(l["a"])(this,t),Object(u["a"])(this,"_this",null),this._this=e}return Object(c["a"])(t,[{key:"checkMallLink",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this._this.$collectService.getMallByLink(e);case 3:if(a=t.sent,void 0===a.Platform){t.next=6;break}return t.abrupt("return",{code:200,data:a});case 6:return t.abrupt("return",{code:-2,data:"未获取到正确的平台ID"});case 9:return t.prev=9,t.t0=t["catch"](0),t.abrupt("return",{code:-2,data:"checkMallLink-catch: ".concat(t.t0)});case 12:case"end":return t.stop()}}),t,this,[[0,9]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"mallSearch",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.checkMallLink(e);case 2:if(a=t.sent,200===a.code){t.next=5;break}return t.abrupt("return",this.writeLog("".concat(a.data),!1));case 5:null,t.t0=a.data.Platform,t.next=1===t.t0?9:2===t.t0||3===t.t0?13:8===t.t0?17:9===t.t0?21:10===t.t0?25:11===t.t0?29:12===t.t0?33:37;break;case 9:return t.next=11,this.searchMallGoodsAsync(a.data,"searchPddMallGoodsAsync","PddMallInformation");case 11:return t.sent,t.abrupt("break",37);case 13:return t.next=15,this.searchMallGoodsAsync(a.data,"searchTbMallGoodsAsync","TbMallInformation");case 15:return t.sent,t.abrupt("break",37);case 17:return t.next=19,this.searchMallGoodsAsync(a.data,"searchAliBaBaMallGoodsAsync","AliBaBaMallInformation");case 19:return t.sent,t.abrupt("break",37);case 21:return t.next=23,this.searchMallGoodsAsync(a.data,"searchLazadaMallGoodsAsync","LazadaMallInformation");case 23:return t.sent,t.abrupt("break",37);case 25:return t.next=27,this.searchMallGoodsAsync(a.data,"searchJxMallGoodsAsync","JxMallInformation");case 27:return t.sent,t.abrupt("break",37);case 29:return t.next=31,this.searchMallGoodsAsync(a.data,"searchShopeeMallGoodsAsync","ShopeeMallInformation");case 31:return t.sent,t.abrupt("break",37);case 33:return t.next=35,this.searchMallGoodsAsync(a.data,"searchExpressMallGoodsAsync","ExpressMallInformation");case 35:return t.sent,t.abrupt("break",37);case 37:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"searchMallGoodsAsync",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e,a,r){var i,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:i=1;case 1:if(!i){t.next=30;break}if(!this._this.flag){t.next=4;break}return t.abrupt("break",30);case 4:return t.prev=4,e[r].Page=i,t.next=8,this._this.$collectService[a](e);case 8:if(n=t.sent,n=this.isJsonString(n),"object"!==Object(b["a"])(n)||200!==n.Result.Code){t.next=16;break}o=this._this.filterData(n.Result.ListItem),this.writeLog("开始采集第【".concat(i,"】页商品，共采集到【").concat(n.Result.ListItem.length,"】条，过滤【").concat(n.Result.ListItem.length-o.length,"】条"),!0),this._this.goodsList=this._this.goodsList.concat(o),t.next=18;break;case 16:return this.writeLog("开始采集第【".concat(i,"】页商品，采集失败").concat("string"===typeof n?n:n.Result.Msg||""),!1),t.abrupt("break",30);case 18:t.next=27;break;case 20:if(t.prev=20,t.t0=t["catch"](4),!(t.t0.indexOf("超出页数限制")>-1||t.t0.indexOf("获取Shopee商品详情为空")>-1)){t.next=25;break}return this.writeLog("采集完成，采集已达最大页数限制",!1),t.abrupt("break",30);case 25:return this.writeLog("采集异常，".concat(t.t0),!1),t.abrupt("break",30);case 27:i++,t.next=1;break;case 30:case"end":return t.stop()}}),t,this,[[4,20]])})));function e(e,a,r){return t.apply(this,arguments)}return e}()},{key:"handleEntireKeyFactory",value:function(t){try{var e=t.trim();return e?(e=e.replace(/\s/g,";").split(";"),{code:200,data:e}):{code:-3,data:"整店链接不能为空"}}catch(a){return{code:-2,data:"整店链接不规范：".concat(a)}}}},{key:"writeLog",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(void 0!==this._this.consoleMsg&&t){var a=e?"green":"red",r=Object(d["g"])(new Date(Date.now()),"hh:mm:ss");this._this.consoleMsg+='<p style="color:'.concat(a,'; margin-top: 5px;">').concat(r,":").concat(t,"</p>")}}},{key:"isJsonString",value:function(t){if("string"!==typeof t)return t;try{return JSON.parse(t),JSON.parse(t)}catch(e){return t}}}]),t}(),f=v,y=function(){function t(e){Object(l["a"])(this,t),Object(u["a"])(this,"_this",null),this._this=e,this.errorCatchText=null,this.GoodsData=null}return Object(c["a"])(t,[{key:"picSearch",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e,a){var r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this._this.$collectService.imgSearch(e,a);case 3:if(r=t.sent,r=this.isJsonString(r),"object"!==Object(b["a"])(r)||0!==r.Code){t.next=8;break}return i=this._this.filterData(r.ListItem),t.abrupt("return",{code:200,data:i});case 8:return t.abrupt("return",{code:-2,data:"string"===typeof r?r:r.Msg});case 11:return t.prev=11,t.t0=t["catch"](0),t.abrupt("return",{code:-2,data:"picSearch-catch: ".concat(t.t0)});case 14:case"end":return t.stop()}}),t,this,[[0,11]])})));function e(e,a){return t.apply(this,arguments)}return e}()},{key:"getTaobaoAbroadAccount",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e=this._this.$userInfo.muid,Object(d["A"])((function(){return e}),5e3),a={uid:e,uuid:"0",account:"",accountAliasName:""},t.next=6,this._this.$shopeemanService.getChineseLaiZan("http://api.laizand.com/api/open/getTbGlobalUser?",a,{headers:{Accept:"application/json, application/xml, text/json, text/x-json, text/javascript, text/xml","Accept-Encoding":" gzip, deflate","User-Agent":"RestSharp/106.3.1.0"}});case 6:if(r=t.sent,r=JSON.parse(JSON.parse(r).data),200!==r.code){t.next=10;break}return t.abrupt("return",{code:200,data:r.data.data});case 10:return t.abrupt("return",{code:r.code,data:r.message});case 13:return t.prev=13,t.t0=t["catch"](0),t.abrupt("return",{code:-2,data:"getTaobaoAbroadAccount-catch: ".concat(t.t0)});case 16:case"end":return t.stop()}}),t,this,[[0,13]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"queryTmCrossBorder",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e,a){var r,i,n,o,l,c=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.GoodsData=null,this.GoodsData=[],r=1,i={Page:r,pageSize:100,SortType:"DESC",StartModifiedTime:a[0],EndModifiedTime:a[1],SortField:"modified",Status:"NORMAL"};case 4:if(!r){t.next=37;break}if(!this._this.flag){t.next=7;break}return t.abrupt("break",37);case 7:return i["Page"]=r,o=null,t.prev=9,t.next=12,this._this.$collectService.queryTmCrossBorder(e.access_token,i);case 12:if(o=t.sent,o=JSON.parse(o),!0===o.success){t.next=17;break}return this.writeLog("账号【".concat(e.account_alias_name,"】").concat(o.error_msg),!1),t.abrupt("break",37);case 17:t.next=23;break;case 19:t.prev=19,t.t0=t["catch"](9),this.errorCatchText=t.t0,o=this.handleError();case 23:if(0===(null===(n=o.data)||void 0===n?void 0:n.item_id)){t.next=28;break}return this.writeLog("账号【".concat(e.account_alias_name,"】采集第").concat(r,"页失败，数据为空"),!1),t.abrupt("break",37);case 28:if(l=o.data.product_list,0!==l.length){t.next=31;break}return t.abrupt("break",37);case 31:this.writeLog("账号【".concat(e.account_alias_name,"】采集第").concat(r,"页，采集到约").concat(l.length,"条"),!0),l=l.map(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(a){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a.Image=a.images[0],a.GoodsId=a.item_id,a.Title=a.title,t.next=5,c._this.$collectService.getGoodsCat(Number(e.category_id),13,"");case 5:if(t.t0=t.sent,t.t0){t.next=8;break}t.t0="";case 8:return r=t.t0,a.CategoryName=r.split("|")[0]||"",a.Price=a.price,a.Sales=0,a.Origin="天猫淘宝海外平台",a.Url="https://distributor.taobao.global/apps/product/detail?mpId=".concat(a.item_id),a.platformId=13,a.AccessToken=e.access_token,a.UserId=e.user_id,t.abrupt("return",a);case 18:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),this._this.goodsList=this._this.goodsList.concat(l);case 34:r++,t.next=4;break;case 37:case"end":return t.stop()}}),t,this,[[9,19]])})));function e(e,a){return t.apply(this,arguments)}return e}()},{key:"handleError",value:function(){var t=JSON.stringify(this.errorCatchText).replace(/\s/g,"");return t.indexOf("数据列表为空")>-1?t="数据列表为空":t.indexOf("返回数据不能为空")>-1&&(t="返回数据不能为空"),this.errorCatchText=null,JSON.stringify({Code:-2,Msg:"捕获错误".concat(t)})}},{key:"writeLog",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(void 0!==this._this.consoleMsg&&t){var a=e?"green":"red",r=Object(d["g"])(new Date(Date.now()),"hh:mm:ss");this._this.consoleMsg+='<p style="color:'.concat(a,'; margin-top: 5px;">').concat(r,":").concat(t,"</p>")}}},{key:"isJsonString",value:function(t){if("string"!==typeof t)return t;try{return JSON.parse(t),JSON.parse(t)}catch(e){return t}}}]),t}(),S=y,k=(a("466d"),a("6062"),function(){function t(e){Object(l["a"])(this,t),Object(u["a"])(this,"_this",null),this._this=e,this.PddSkuKeyMatch=["颜色","款式","型号"]}return Object(c["a"])(t,[{key:"setGoodsData",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e,a){var r,i,n,o,s,l,c,u,d,p,h,m,g,b,v,f,y,S,k,w,x,_,C,P,A;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i={},n=JSON.parse(JSON.stringify(a)),o="",1===e.Platform&&null!==(r=n.CollectGoodsData)&&void 0!==r&&r.GoodsProperty&&Object.keys(n.CollectGoodsData.GoodsProperty).length>0)for(s=Object.keys(n.CollectGoodsData.GoodsProperty),l=0,c=s;l<c.length;l++)u=c[l],o+="".concat(u,"：").concat(n.CollectGoodsData.GoodsProperty[u].join("\r\n"),"\r\n");if(11!==e.Platform||0===this._this.GoodsDeliveryAddress){t.next=8;break}if(d=this._this.shopeeGoodsDeliveryAddressDic[e.Site.toUpperCase()]?this._this.shopeeGoodsDeliveryAddressDic[e.Site.toUpperCase()]:"",!(2===this._this.GoodsDeliveryAddress&&n.CollectGoodsData.Location===d||1===this._this.GoodsDeliveryAddress&&n.CollectGoodsData.Location!==d)){t.next=8;break}return t.abrupt("return",{code:-2,data:"商品发货地不符合条件"});case 8:if(e.Description=n.CollectGoodsData.GoodsDesc?n.CollectGoodsData.GoodsDesc+o:o,n.CollectGoodsData.GoodsDesc=e.Description,e.OriginCategoryId=Number(n.CollectGoodsData.CategoryId),this._this.IsCollectDescriptionIsNull||e.Description){t.next=13;break}return t.abrupt("return",{code:-2,data:"商品描述为空"});case 13:if(this._this.StatusName(e,"组装产品信息",!0),t.prev=14,g=n.CollectGoodsData.TotalQuantity,!(Object.keys(n.CollectGoodsSkus).length>0)){t.next=24;break}for(b=[],v=Object.keys(n.CollectGoodsSkus),f=0,y=v;f<y.length;f++)S=y[f],b.push(n.CollectGoodsSkus[S].quantity);if(!(b.length<=0)){t.next=22;break}return t.abrupt("return",{code:-2,data:"收藏失败：此商品库存为0"});case 22:t.next=26;break;case 24:if(!(Number(g)<=0)){t.next=26;break}return t.abrupt("return",{code:-2,data:"收藏失败：此商品库存为0"});case 26:return this._this.IsDefaultFilterSkuCount&&(n=this.DealGoodsSkuCount(n)),9===e.Platform&&(n.CollectGoodsData.GoodsExtraInfo["site"]=e.Site.toUpperCase()),13===e.platformId&&(n.CollectGoodsData.GoodsExtraInfo["UserId"]=e.UserId.toString()),t.next=31,this.FilterSpecialSymbol(n,e);case 31:if("未匹配到类目"!==e.CategoryName||0===e.OriginCategoryId){t.next=36;break}return t.next=34,this._this.$collectService.getGoodsCat(e.OriginCategoryId,e.Platform,e.Site);case 34:k=t.sent,e.CategoryName=k.split("|")[0]||"";case 36:if(w={},null!==e&&void 0!==e&&e.isLink&&(w["Weight"]=e.Weight,w["Length"]=e.Length,w["Width"]=e.Width,w["Height"]=e.Height),x=this.BuildGoodsData(n,w,e),200===x.code){t.next=41;break}return t.abrupt("return",{code:x.code,data:x.data});case 41:return i=x.data,"0"===i["price"].toString()&&null!==(p=n.CollectGoodsData.OriData)&&void 0!==p&&null!==(h=p.data)&&void 0!==h&&null!==(m=h.data)&&void 0!==m&&m.mockData?(_=n.CollectGoodsData.OriData["data"]["data"]["mockData"],C=_||0,e.Price=C,i["price"]=e.Price):e.Price=Number(i["price"]),i["image"]=e.Image,this._this.StatusName(e,"开始收藏",!0),t.next=47,this._this.$commodityService.uploadCollectGoods(i);case 47:if(P=t.sent,A=this.isJsonString(P),200!==A.code){t.next=54;break}return i["id"]=A.data.id,t.abrupt("return",{code:200,data:i});case 54:return t.abrupt("return",{code:-2,data:i,msg:"收藏失败"});case 55:t.next=60;break;case 57:return t.prev=57,t.t0=t["catch"](14),t.abrupt("return",{code:-2,data:i,msg:"收藏异常".concat(t.t0)});case 60:case"end":return t.stop()}}),t,this,[[14,57]])})));function e(e,a){return t.apply(this,arguments)}return e}()},{key:"FilterSpecialSymbol",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e,a){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(9!==a.Platform&&11!==a.Platform&&12!==a.Platform||(e.CollectGoodsData.Title=this.FilterEmojoStr(e.CollectGoodsData.Title),e.CollectGoodsData.ShortTitle=this.FilterEmojoStr(e.CollectGoodsData.ShortTitle),e.CollectGoodsData.GoodsDesc=this.FilterEmojoStr(e.CollectGoodsData.GoodsDesc)),"未匹配到类目"!==a.CategoryName||0===a.OriginCategoryId){t.next=6;break}return t.next=4,this._this.$collectService.getGoodsCat(a.OriginCategoryId,a.Platform,a.Site);case 4:r=t.sent,a.CategoryName=r.split("|")[0]||"";case 6:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}()},{key:"FilterEmojoStr",value:function(t){for(var e=/[\uD83C[\uDF00-\uDFFF]|\uD83D[\uDC00-\uDE4F]/g,a="",r=0;r<t.length;r++){var i=t.charAt(r);this._this.$filters.special_characters.includes(i)||(a+=i)}return a=a.replaceAll(e,""),a}},{key:"BuildGoodsData",value:function(t,e){try{var a,r=t.CollectGoodsData,i=t.CollectGoodsSkus;if(9===r.Platform&&this._this.IsFilterLazadaDeliveryDay){var s=Object.keys(i);if(!(s.length>0))return{code:-2,data:"此商品部分sku发货天数为空"};var l,c=!1,u=Object(o["a"])(s);try{for(u.s();!(l=u.n()).done;){var d=l.value,p=i[d],h=p.duringTime.split("-"),m=[],g=0,b=0;if(h.length>0){for(var v=0;v<h.length;v++){var f=h[v];m.push(Number.apply(void 0,Object(n["a"])(f.match(/\d+/g))))}1===m.length?b=g=m[0]:2===m.length&&(g=m[0],b=m[1]),(g<Number(this._this.MinLazadaDeliveryDay)||b>Number(this._this.MaxLazadaDeliveryDay)||g>Number(this._this.MaxLazadaDeliveryDay))&&(c=!0)}}}catch(A){u.e(A)}finally{u.f()}if(c)return{code:-2,data:"此商品发货天数不符合【采集设置】中设置的发货天数范围"}}if(11===r.Platform&&this._this.IsFilterShopeeDeliveryDay){var y=Number(r.EstimatedDays)||0;if(y<Number(this._this.MinShoppeDeliveryDay)||y>Number(this._this.MaxShoppeDeliveryDay))return{code:-2,data:"此商品发货天数不符合【采集设置】中设置的发货天数范围"}}var S={};S["source"]=r.Platform,S["goods_id"]=r.GoodsId.toString(),S["category_id"]=r.CategoryId,S["category_name"]=r.CategoryName||t.ListItem&&t.ListItem[0].CategoryName||"未匹配到类目",S["language"]=9===r.Platform||11===r.Platform||12===r.Platform?"en":"zh-Hans",S["title"]=12===r.Platform?this.GetAliExpressTitle(r.Title):r.Title,S["short_title"]=r.ShortTitle||"",S["description"]=r.GoodsDesc||"";var k=Object.keys(e);k.length>0&&(r.Weight=Number(e["Weight"]),r.Length=Number(e["Length"]),r.Width=Number(e["Width"]),r.Height=Number(e["Height"])),S["weight"]=r.Weight,S["long"]=r.Length,S["width"]=r.Width,S["height"]=r.Height,S["spec1"]="Variation",S["spec2"]="Size",S["sales"]=r.Sales,S["stock"]=r.TotalQuantity,S["descImages"]=r.DetailGallery;var w={},x=this.BuildSkuDatas(t,r.GoodsType,r.VaCount,r.Platform);if(200!==x.code)return{code:x.code,data:x.data};if(w=x.data,11===r.Platform){var _="";if("tw"===r.Site.toLowerCase()?(_="zh-Hant",S["spec1"]="規格",S["spec2"]="尺寸"):_="en",S["language"]=_,0===Object.keys(i).length){var C={skuList:[]};C["minPrice"]=r.Price,C["options"]=[],C["skuStrList"]=[]}}else 12===r.Platform&&(S["language"]="en");if(0===(null===(a=r.Images)||void 0===a?void 0:a.length))return{code:-2,data:"图片为空"};var P=w["minPrice"]||0;return S["skus"]=w["skuList"],P<=0&&(w["minPrice"]=t.ListItem[0].Price),S["price"]=w["minPrice"],S["images"]=this.BuildImages(r.Images),S["skuStrList"]=w["skuStrList"],S["goodsExtraInfo"]=r.GoodsExtraInfo,{code:200,data:S}}catch(I){return{code:-2,data:"BuildGoodsData-error".concat(I)}}}},{key:"BuildImages",value:function(t){for(var e=[],a=[],r=0;r<t.length;r++){var i=t[r];e.includes(i)||i.indexOf("www.youtube.com/watch")>-1||(a.includes(i.toString())||(a.push(i.toString()),e.push(i.toString())))}return e}},{key:"BuildSkuDatas",value:function(t,e){try{var a=t.CollectGoodsSkus,r=[];for(var i in a)a[i].image&&r.push(a[i].image);var o=Object(n["a"])(new Set(r)),s=this.GetVaAndSizeList(t,t.CollectGoodsData.GoodsType),l=[];if(s.length>0&&(l=s[0]),o.length!==l.length&&this.IsDeleteRepeatSkuImg)for(var c in a)a[c].image="";var u=this.CheckSkuIsSingle(a);if("1"===u["isSkuSingle"].toString())return{code:200,data:u};var d={};try{d=this.CheckSkuInvalidImages(a,e)}catch(z){return{code:-2,data:"组装sku图片失败，或图片不符合规格"}}var p=d["imageBool"];a=d["skuList"],a=this.CkeckSkuNumV2(a);var h=[],m=[],g=[],b={},v=[],f=[],y=0,S=0;for(var k in a){var w,x=a[k];S=x.price,0===y&&(y=x.price);for(var _=[],C={sku_spec1:"",sku_spec2:""},P=1,A=0;A<x.originProps.length;A++){var I=x.originProps[A],D=I.name;if(_.push(D),0===A){if(f.includes(D)){P=0;break}if(m.length>=100&&!m.includes(D)){P=0;break}var O=JSON.stringify(b).match(RegExp(/(?<=:").*?(?=")/g))||[];if(!Object.keys(b).includes(D)&&O.includes(x.image)){P=0,f.push(D);break}m.includes(D)||m.push(D),C["sku_spec1"]=D,!Object.keys(b).includes(D)&&x.image&&(b[D]=x.image),Object.keys(b).includes(D)&&p?b[D].indexOf("http:")<=-1&&b[D].indexOf("https:")<=-1?C["sku_image"]="http:"+b[D]:C["sku_image"]=b[D]:C["sku_image"]=""}if(1===A){if(g.length>=100&&!g.includes(D)){P=0;break}g.includes(D)||g.push(D),C["sku_spec2"]=D}}if(0!==P){S<y&&(y=S);var G=x.quantity;G=G>5e3?5e3:G;var L=null===(w=C["sku_spec1"])||void 0===w?void 0:w.toString();C["sku_spec2"]&&(L=L+"+"+C["sku_spec2"]),v.push(L),C["sku_sn"]=x.sku,C["sku_price"]=Number(x.price),C["sku_stock"]=G,h.push(C)}}var N=[];m.length>0&&N.push(m),g.length>0&&N.push(g);var T={};return T["skuList"]=h,T["minPrice"]=y,T["options"]=N,T["skuStrList"]=v,{code:200,data:T}}catch(z){return{code:-2,data:"BuildSkuDatas-error".concat(z)}}}},{key:"CheckSkuInvalidImages",value:function(t){var e={},a={},r=[],i=[];for(var n in t){var o=t[n];if(!(o.originProps.length<=0)){var s=o.originProps[0],l=s.name;i.includes(l)||(i.push(l),o.image?a[l]=o.image:r.push(l))}}if(r.length>Object.keys(a).length){for(var c in t)t[c].image="";return e["imageBool"]=!1,e["skuList"]=t,e}for(var u=[],d=[],p=[],h=[],m=Object.keys(t),g=0,b=m;g<b.length;g++){var v=b[g],f=t[v];if(!(f.originProps.length<=0)){var y=f.originProps,S=y[0],k=S.name;if(!p.includes(k)){p.push(k);try{var w=d.includes(f.image);if(h.push(f.image),w){u.push(v);continue}d.push(f.image)}catch(_){u.push(k);continue}}}}for(var x=0;x<u.length;x++)delete t[u[x]];return e["imageBool"]=!0,e["skuList"]=t,e}},{key:"CkeckSkuNumV2",value:function(t){var e=[],a=[];for(var r in t){for(var i=t[r],n="",o=0;o<i.originProps.length;o++){var s=i.originProps[o],l=s.name;0===o&&(n=l),1===o&&(n=n+"-"+l)}a.includes(n)?e.push(i.sku):a.push(n)}if(e.length>0)for(var c=0;c<e.length;c++)delete t[e[c]];return t}},{key:"getBase64",value:function(t){return new Promise((function(e,a){var r=new Image,i="";r.src=t+"?v="+Math.random(),r.setAttribute("crossOrigin","Anonymous"),r.onload=function(){var t=document.createElement("canvas"),a=r.width,n=r.height;t.width=a,t.height=n,t.getContext("2d").drawImage(r,0,0,a,n),i=t.toDataURL("image/jpeg"),e(i||null)}}))}},{key:"GetSmallImageUrl",value:function(t,e){switch(e){case 1:return t+"?imageView2/2/w/20/q/20/format/webp";case 2:case 8:return t.indexOf("460x460xz.jpg")>-1?(t=t.replace("460x460xz.jpg","20x20.jpg"),t):t+"_20x20.jpg";case 11:return t+"_tn";case 13:return t+"_50x50.jpg";case 9:return t+"_20x20q20.jpg_.webp"}return t}},{key:"CheckSkuIsSingle",value:function(t){var e={},a=1e5,r=0,i=Object.keys(t).length;if(1===i)for(var n in t){var o=t[n].originProps;0===o.length&&(r=1,a=t[n].price)}else 0===i&&(a=0,r=1);return e["isSkuSingle"]=r,e["skuList"]={},e["minPrice"]=a,e["options"]=[],e["skuStrList"]=[],e}},{key:"DealGoodsSkuCount",value:function(t){var e=0;while(1){e++;try{if(1===t.CollectGoodsData.GoodsType){var a=Object.keys(t.CollectGoodsSkus);if(a.length>50){var r,i=this.getRandomArrayElements(a,50),n={},s=Object(o["a"])(i);try{for(s.s();!(r=s.n()).done;){var l=r.value;n[l]=t.CollectGoodsSkus[l]}}catch(yt){s.e(yt)}finally{s.f()}t.CollectGoodsSkus=n}}if(2===t.CollectGoodsData.GoodsType){var c={},u=this.GetVaAndSizeList(t,t.CollectGoodsData.GoodsType),d=u[0],p=u[1],h=Object.keys(t.CollectGoodsSkus).length,m=d.length*p.length;if(m>50||d.length>50||p.length>50||m!==h){var g=50;d.length>50&&(d=this.getRandomArrayElements(d,50)),p.length>50&&(p=this.getRandomArrayElements(p,50)),Object.keys(t.CollectGoodsSkus).length>50&&(g=50/p.length),g>50&&(g=50),d.length>g&&(d=this.getRandomArrayElements(d,parseInt(g)));for(var b=Object.keys(t.CollectGoodsSkus),v=0,f=b;v<f.length;v++){var y=f[v],S=t.CollectGoodsSkus[y],k=S.originProps[0]&&S.originProps[0].name||"",w=S.originProps[1]&&S.originProps[1].name||"";if(d.includes(k)&&p.includes(w))c[y]=S;else{var x=0,_=this.GetVaRelativeSku(t.CollectGoodsSkus,k,w,x++);if(_)for(var C=Object.keys(_),P=0,A=C;P<A.length;P++){var I=A[P];c[I]=_[I]}}}t.CollectGoodsSkus=c}}if(t.CollectGoodsData.GoodsType>2){var D={},O=this.GetVaAndSizeList(t,t.CollectGoodsData.GoodsType);for(var G in O)O[G].length>50&&(O[G]=this.getRandomArrayElements(O[G],50));var L={},N=[],T=O[2];if(4===Object.keys(O).length)for(var z=0;z<O[3].length;z++)for(var j=O[3][z],R=0;R<O[2].length;R++){var $=T[R],M=$+"+"+j;N.push(M)}else N=O[2];for(var E=0;E<N.length;E++){var K=N[E];if(Object.keys(L).length>=50)break;for(var V=0;V<O[1].length;V++){var J=O[1][V],U=J+"+"+K,F=[];if(F.push(J),F.push(K),L[U]=F,Object.keys(L).length>=50)break}}if(O[0].length*Object.keys(L).length>50){var B=50;B=parseInt(50/Object.keys(L).length),B>50&&(B=50),B<O[0].length&&(O[0]=this.getRandomArrayElements(O[0],O[0].length-B))}for(var W=!1,H=0;H<O[0].length;H++)for(var q=O[0][H],Y=Object.keys(L),Q=0,Z=Y;Q<Z.length;Q++){for(var X=Z[Q],tt=L[X],et=tt.join("+"),at=q+"+"+et,rt=[],it=Object.keys(t.CollectGoodsSkus),nt=0,ot=it;nt<ot.length;nt++){var st=ot[nt],lt=t.CollectGoodsSkus[st],ct=JSON.stringify(lt.originProps).match(RegExp(/(?<="name":").*?(?=")/g)),ut=ct.join("+");if(at===ut){rt=ct;var dt=JSON.stringify(lt.originProps).match(RegExp(/(?<="sku_name":").*?(?=")/g));if(dt.toString().indexOf("颜色")>-1||dt.toString().indexOf("款式")>-1){W=!0;var pt=[];pt.push(lt.originProps[0]);var ht={parent_id:0,vid:""};if(ht["name"]=et,pt.push(ht),W){lt.originProps=pt,D[st]=lt;break}}}}if(rt.length<1){var mt=this.GetVaRelativeSku(t.CollectGoodsSkus,q,X,Object.keys(D).length);if(mt)for(var gt=Object.keys(mt),bt=0,vt=gt;bt<vt.length;bt++){var ft=vt[bt];D[ft]=mt[ft]}}}t.CollectGoodsSkus=D}if(Object.keys(t.CollectGoodsSkus).length<=50||e>50)break}catch(St){break}}return t}},{key:"GetVaRelativeSku",value:function(t,e,a,r){var i=JSON.parse(JSON.stringify(t)),n={};try{for(var o=0,s=Object.keys(i);o<s.length;o++){var l=s[o],c=i[l],u=c.originProps[0]&&c.originProps[0].name||"";u===e&&Object.keys(n).length<1&&(n[l]=i[l])}var d={parent_id:0,vid:""};d["name"]=a;var p=Object.keys(n)[0];if(p){n[p].originProps[1]=d;var h=[],m=n[p].originProps[0],g={parent_id:0,vid:""};g["name"]=a,h[0]=m,h[1]=g,n[p].originProps=h;var b=p+r.toString();n[p].sku=b,n[p].quantity=0;var v={};return v[Number(b)]=n[p],v}}catch(f){}}},{key:"GetVaAndSizeList",value:function(t,e){for(var a={},r=!1,i=0;i<e;i++)a[i]=[];for(var n in t.CollectGoodsSkus)for(var o=t.CollectGoodsSkus[n],s=0;s<o.originProps.length;s++){var l=o.originProps[s].name;if(s>=a.length){if(9===o.platform&&s>1)continue;r=!0}l&&!a[s].includes(l)&&a[s].push(l)}if(!r)return a}},{key:"GetAliExpressTitle",value:function(t){var e=t.split("|");return e.length>3?(e.shift(),e.pop(),e.pop(),e.join("|")):3===e.length?e[0]:t}},{key:"getRandomArrayElements",value:function(t,e){var a,r,i=t.slice(0),n=t.length,o=n-e;while(n-- >o)r=Math.floor((n+1)*Math.random()),a=i[r],i[r]=i[n],i[n]=a;return i.slice(o)}},{key:"isJsonString",value:function(t){if("string"!==typeof t)return t;try{return JSON.parse(t),JSON.parse(t)}catch(e){return t}}},{key:"pddGoodsKeyword",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var a,r,i,n,s,l,c=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a="",r=[];try{e=e.match(RegExp(/(?<=resultData=).*?(?=&searchKey)/g))[0],e=e.toString().replaceAll(/\\\"/g,'"').replaceAll(/"([\{\[]["]*)/g,"$1").replaceAll(/(["]*[\}\]])"/g,"$1"),r=JSON.parse(e)}catch(u){r=[]}if(!(r.length>0)){t.next=23;break}i=Object(o["a"])(r),t.prev=5,s=regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=n.value,r={},r.GoodsId=e.goodsID&&null!==e.goodsID&&e.goodsID||e.goods_id&&null!==e.goods_id&&e.goods_id||"",r.GoodsId){t.next=5;break}return t.abrupt("return","continue");case 5:return r.Sales=e.salesTip&&null!==e.salesTip&&c.InitPddSales(e.salesTip)||e.sales&&null!==e.sales&&e.sales||0,r.Image=e.imgUrl&&null!==e.imgUrl&&e.imgUrl||e.hd_thumb_url&&null!==e.hd_thumb_url&&e.hd_thumb_url||"",r.Title=e.goodsName&&null!==e.goodsName&&e.goodsName||e.goods_name&&null!==e.goods_name&&e.goods_name||"",r.Origin="拼多多",r.Price=e.price_info&&null!==e.price_info&&Number(e.price_info)||e.price&&null!==e.price&&Number(e.price)||0,r.IsSelected=!0,r.CategoryId=e.logData&&null!==e.logData&&c.GetPddCatId(e.logData)||"",r.OriginCategoryId=0!==r.CategoryId&&e.p_search&&e.p_search.gin_cat_id_3&&null!==e.p_search.gin_cat_id_3&&Number(e.p_search.gin_cat_id_3)||r.CategoryId,t.next=15,c._this.$collectService.getGoodsCat(r.CategoryId,1,"");case 15:if(t.t0=t.sent,t.t0){t.next=18;break}t.t0="";case 18:a=t.t0,r.CategoryName=a&&a.split("|")[0]||"",r.Platform=1,r.Url="http://mobile.yangkeduo.com/goods.html?goods_id=".concat(r.GoodsId),-1===JSON.stringify(c._this.goodsList).indexOf(r.GoodsId)&&(c._this.goodsList.push(r),c._this.$nextTick((function(){c._this.$refs.plTable.toggleRowSelection([{row:r}])})));case 23:case"end":return t.stop()}}),t)})),i.s();case 8:if((n=i.n()).done){t.next=15;break}return t.delegateYield(s(),"t0",10);case 10:if(l=t.t0,"continue"!==l){t.next=13;break}return t.abrupt("continue",13);case 13:t.next=8;break;case 15:t.next=20;break;case 17:t.prev=17,t.t1=t["catch"](5),i.e(t.t1);case 20:return t.prev=20,i.f(),t.finish(20);case 23:case"end":return t.stop()}}),t,null,[[5,17,20,23]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"pddGoodsDetail",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var a,r,i,n,o,s,l,c,u,d=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a="",r={};try{e=e.match(RegExp(/(?<=resultData=).*?(?=&goodsId)/g))[0],e=e.replaceAll(/"jumpUrl":"(((?!(\")).)*)\"/g,'"jumpUrl":""'),e=e.toString().replaceAll(/\\\"/g,'"').replaceAll(/"([\{\[]["]*)/g,"$1").replaceAll(/(["]*[\}\]])"/g,"$1"),r=JSON.parse(e)}catch(p){r={}}if("{}"===JSON.stringify(r)){t.next=37;break}if(s=r,l=s.goods,c={},c.GoodsId=l.goodsID&&null!==l.goodsID&&l.goodsID||l.goods_id&&null!==l.goods_id&&l.goods_id||"",c.GoodsId){t.next=10;break}return t.abrupt("return");case 10:return c.Sales=l.sideSalesTip&&null!==l.sideSalesTip&&this.InitPddSales(l.sideSalesTip)||l.side_sales_tip&&null!==l.side_sales_tip&&this.InitPddSales(l.side_sales_tip)||0,c.Image=l.hdThumbUrl&&null!==l.hdThumbUrl&&l.hdThumbUrl||l.hd_thumb_url&&null!==l.hd_thumb_url&&l.hd_thumb_url||"",c.Title=l.goodsName&&null!==l.goodsName&&l.goodsName||l.goods_name&&null!==l.goods_name&&l.goods_name||"",c.Origin="拼多多",c.Price=l.minGroupPrice&&null!==l.minGroupPrice&&Number(l.minGroupPrice)||(null===l||void 0===l||null===(i=l.price)||void 0===i?void 0:i.min_group_price)&&null!==(null===l||void 0===l||null===(n=l.price)||void 0===n?void 0:n.min_group_price)&&Number(null===l||void 0===l||null===(o=l.price)||void 0===o?void 0:o.min_group_price)/100||0,c.IsSelected=!0,c.CategoryId=l.catID&&null!==l.catID&&Number(l.catID)||l.cat_id&&null!==l.cat_id&&Number(l.cat_id)||0,c.OriginCategoryId=0,t.next=20,this._this.$collectService.getGoodsCat(c.CategoryId,1,"");case 20:if(t.t0=t.sent,t.t0){t.next=23;break}t.t0="";case 23:if(a=t.t0,c.CategoryName=a&&a.split("|")[0]||"",c.Platform=1,c.Url="http://mobile.yangkeduo.com/goods.html?goods_id=".concat(c.GoodsId),-1!==JSON.stringify(this._this.goodsList).indexOf(c.GoodsId)){t.next=37;break}if(this._this.goodsList.push(c),this._this.$nextTick((function(){d._this.$refs.plTable.toggleRowSelection([{row:c}])})),!(this._this.goodsList.length>0)){t.next=37;break}return this._this.goodsCollectionNum=this._this.goodsList.length,this._this.StatusName(c,"开始收藏",!0),t.next=35,this.DoPddPlugin(l,c);case 35:u=t.sent,200===u.code?(this._this.successNum++,this._this.StatusName(c,"收藏成功",!0),this._this.$nextTick((function(){d._this.$refs.plTable.toggleRowSelection([{row:c,selected:!1}])}))):(this._this.failNum++,this._this.StatusName(c,u.data,!1));case 37:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"tbGoodsKeyword",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var a,r,i,n,s,l,c,u=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=[];try{e=e.match(RegExp(/(?<=resultData=).*?(?=&searchkey=)/g))[0],e=e.toString().replaceAll(/\\\"/g,'"').replaceAll(/"([\{\[]["]*)/g,"$1").replaceAll(/(["]*[\}\]])"/g,"$1"),r=JSON.parse(e)}catch(d){r=[]}if(!((null===(a=r)||void 0===a?void 0:a.length)>0)){t.next=23;break}i="",n=Object(o["a"])(r),t.prev=5,l=regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=s.value,a={},a.CategoryId=Number(e.category)||"",a.DeliverPlace="",e.location&&(a.DeliverPlace=e.location.split(" ")[0]),a.GoodsId=e.item_id||0,a.GoodsId){t.next=8;break}return t.abrupt("return","continue");case 8:return a.Price=e.price||0,a.Title=e.title||"",a.Image=e.uprightImg||"",a.Platform=3,a.Origin="天猫",a.Url="https://detail.tmall.com/item.htm?id=".concat(a.GoodsId),"tb"===e.platform&&(a.Platform=2,a.Origin="淘宝",a.Url="https://item.taobao.com/item.htm?id=".concat(a.GoodsId)),t.next=17,u._this.$collectService.getGoodsCat(a.CategoryId,a.Platform,"");case 17:if(t.t0=t.sent,t.t0){t.next=20;break}t.t0="";case 20:i=t.t0,a.CategoryName=i&&i.split("|")[0]||"",-1===JSON.stringify(u._this.goodsList).indexOf(a.GoodsId)&&(u._this.goodsList.push(a),u._this.$nextTick((function(){u._this.$refs.plTable.toggleRowSelection([{row:a}])})));case 23:case"end":return t.stop()}}),t)})),n.s();case 8:if((s=n.n()).done){t.next=15;break}return t.delegateYield(l(),"t0",10);case 10:if(c=t.t0,"continue"!==c){t.next=13;break}return t.abrupt("continue",13);case 13:t.next=8;break;case 15:t.next=20;break;case 17:t.prev=17,t.t1=t["catch"](5),n.e(t.t1);case 20:return t.prev=20,n.f(),t.finish(20);case 23:case"end":return t.stop()}}),t,null,[[5,17,20,23]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"tbGoodsDetail",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var a,r,i,n,o,s,l,c,u,d,p,h,m,g,b,v,f,y,S,k,w,x,_,C,P,A,I,D,O,G,L,N,T=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a={},r={},i="",n="",o="";try{s=e.match(RegExp(/(?<=resultData=).*?(?=&goodsId)/g))[0],s=s.replaceAll(/\\\"/g,'"'),s=s.replaceAll(/\"(\"[\/\}\]]+)/g,"$1"),s=s.replaceAll(/\:\"\}/g,':""}'),s=s.replaceAll(/"([\{\[]["]*)/g,"$1").replaceAll(/(["]*[\}\]])"/g,"$1"),a=JSON.parse(s),r=e.match(RegExp(/(?<=&description=).*/g))[0],r=JSON.parse(r),i=e.match(RegExp(/(?<=platform=).*?(?=&resultData=)/g))[0],n=e.match(RegExp(/(?<=&goodsId=).*?(?=&description)/g))[0]}catch(z){a={},r={}}if("{}"===JSON.stringify(a)){t.next=43;break}if(L={},N={},N.DetailData=a,N.GoodsId=n,N.Platform=i,N.DescInfo=r,L.GoodsId=(null===(l=a)||void 0===l||null===(c=l.itemDO)||void 0===c?void 0:c.itemId)||(null===(u=a)||void 0===u||null===(d=u.ItemDO)||void 0===d?void 0:d.ItemId)||0,L.GoodsId){t.next=16;break}return t.abrupt("return");case 16:return L.Platform=3,L.Origin="天猫",L.Url="https://detail.tmall.com/item.htm?id=".concat(L.GoodsId),"tb"===i&&(L.Platform=2,L.Origin="淘宝",L.Url="https://item.taobao.com/item.htm?id=".concat(L.GoodsId)),L.Sales=(null===(p=a)||void 0===p||null===(h=p.skuBase)||void 0===h?void 0:h.sold)||(null===(m=a)||void 0===m||null===(g=m.SkuBase)||void 0===g?void 0:g.Sold)||0,L.Image=(null===(b=a)||void 0===b||null===(v=b.itemDO)||void 0===v?void 0:v.imgVedioPic)||(null===(f=a)||void 0===f||null===(y=f.ItemDO)||void 0===y?void 0:y.ImgVedioPic)||"",L.Title=(null===(S=a)||void 0===S||null===(k=S.itemDO)||void 0===k?void 0:k.title)||(null===(w=a)||void 0===w||null===(x=w.ItemDO)||void 0===x?void 0:x.Title)||"",L.Price=(null===(_=a)||void 0===_||null===(C=_.itemDO)||void 0===C?void 0:C.reservePrice)&&Number(a.itemDO.reservePrice)||(null===(P=a)||void 0===P||null===(A=P.ItemDO)||void 0===A?void 0:A.ReservePrice)&&Number(a.ItemDO.ReservePrice)||0,L.IsSelected=!0,L.CategoryId=(null===(I=a)||void 0===I||null===(D=I.itemDO)||void 0===D?void 0:D.categoryId)&&Number(a.itemDO.categoryId)||(null===(O=a)||void 0===O||null===(G=O.ItemDO)||void 0===G?void 0:G.CategoryId)&&Number(a.itemDO.categoryId)||"",t.next=28,this._this.$collectService.getGoodsCat(L.CategoryId,L.Platform,"");case 28:if(t.t0=t.sent,t.t0){t.next=31;break}t.t0="";case 31:if(o=t.t0,L.CategoryName=o&&o.split("|")[0]||"",L.OriginCategoryId=0,-1!==JSON.stringify(this._this.goodsList).indexOf(L.GoodsId)){t.next=43;break}if(this._this.goodsList.push(L),this._this.$nextTick((function(){T._this.$refs.plTable.toggleRowSelection([{row:L}])})),!(this._this.goodsList.length>0)){t.next=43;break}return this._this.goodsCollectionNum=this._this.goodsList.length,this._this.StatusName(L,"开始收藏",!0),t.next=42,this.DoTbPlugin(N,L);case 42:t.sent;case 43:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"DoTbPlugin",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e,a){var r,i,n,s,l,c,u,d,p,h,m,g,b,v,f;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=e.DetailData,i={},i.GoodsId=a.GoodsId,i.Title=a.Title,i.ShortTitle=a.Title,i.CategoryId=a.CategoryId.toString(),i.CategoryName=a.CategoryName,!e.DescInfo||null===e.DescInfo){t.next=24;break}if(i.GoodsDesc={},i.DetailGallery=[],t.prev=10,n=e.DescInfo["images"],n&&null!==n&&n.length>0){s=Object(o["a"])(n);try{for(s.s();!(l=s.n()).done;)c=l.value,c.indexOf("https:")>-1&&c.indexOf(".gif")>-1&&i.DetailGallery.push(c)}catch(y){s.e(y)}finally{s.f()}}if(u=e.DescInfo["attributes"],u&&null!==u&&u.length>0){d={},p=Object(o["a"])(u);try{for(p.s();!(h=p.n()).done;)m=h.value,d[m["name"]]=m["value"].trim()}catch(y){p.e(y)}finally{p.f()}i.GoodsDesc=d}t.next=20;break;case 17:return t.prev=17,t.t0=t["catch"](10),t.abrupt("return",{code:-2,data:"收藏失败，描述处理异常"});case 20:if("{}"!==JSON.stringify(i.GoodsDesc)){t.next=22;break}return t.abrupt("return",{code:-2,data:"收藏失败，描述为空"});case 22:if(g=r.propertyPics||r.PropertyPics||{},"{}"!==JSON.stringify(g)&&g.default&&null!==g.default){b=g.default,v=Object(o["a"])(b);try{for(v.s();!(f=v.n()).done;)f.value}catch(y){v.e(y)}finally{v.f()}}case 24:case"end":return t.stop()}}),t,null,[[10,17]])})));function e(e,a){return t.apply(this,arguments)}return e}()},{key:"DoPddPlugin",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e,a){var r,i,n,s,l,c,u,d,p,h,m,g,b,v,f,y,S,k,w,x,_,C,P,A,I,D,O,G,L;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,u={},u.GoodsId=a.GoodsId,u.Title=a.Title,u.ShortTitle=a.Title,u.CategoryId=a.CategoryId.toString(),u.CategoryName=a.CategoryName,u.GoodsDesc=e.shareDesc&&null!==e.shareDesc&&e.shareDesc.toString()||"",u.Images=[],u.DetailGallery=[],d=e.topGallery||e.gallery,d&&null!==d){t.next=13;break}return t.abrupt("return",{code:-2,data:"收藏失败,轮播图没有数据"});case 13:if(e.detailGallery&&null!==e.detailGallery){t.next=15;break}return t.abrupt("return",{code:-2,data:"收藏失败，没有数据"});case 15:return p={},t.next=18,this.InitPddSkuData(e.skus,a.GoodsId);case 18:if(h=t.sent,p=h["collectSkuInfo"],m=d,m.length>0){g=Object(o["a"])(m);try{for(g.s();!(b=g.n()).done;)v=b.value,JSON.stringify(v).indexOf("url")>-1&&v["url"]&&u.Images.push(v["url"])}catch(N){g.e(N)}finally{g.f()}}return u.Images.length>0&&u.Images.reverse(),u.TotalQuantity=h["totalQuantity"],u.Platform=1,t.next=27,this._this.$collectService.createSysGoodsNo(a.GoodsId,a.Platform);case 27:if(t.t0=t.sent,t.t0){t.next=30;break}t.t0="";case 30:u.SysGoodsNo=t.t0,f=Object(o["a"])(e.detailGallery);try{for(f.s();!(y=f.n()).done;)S=y.value,u.DetailGallery.push(S["url"])}catch(N){f.e(N)}finally{f.f()}if(u.IsOnSale=1,u.Sales=a.Sales&&Number(a.Sales)||0,u.Price=a.Price,u.Weight=0,u.Length=0,u.Width=0,u.Height=0,u.VaCount=h["vaCount"],u.GoodsType=(null===e||void 0===e||null===(r=e.skus[0])||void 0===r?void 0:r.specs)&&null!==(null===e||void 0===e||null===(i=e.skus[0])||void 0===i?void 0:i.specs)&&(null===e||void 0===e||null===(n=e.skus[0])||void 0===n?void 0:n.specs.length)||0,u.GoodsProperty=e.goodsProperty&&null!==e.goodsProperty&&this.GetPddGoodsProperty(e.goodsProperty)||{},u.OriData=e,u.GoodsExtraInfo={videoUrl:"[]"},"{}"!==JSON.stringify(u.GoodsProperty)){t.next=47;break}return t.abrupt("return",{code:-2,data:"收藏失败，商品属性缺少"});case 47:if(k="","{}"===JSON.stringify(u.GoodsProperty)){t.next=68;break}for(w in u.GoodsProperty)k+=w+":"+u.GoodsProperty[w].join("\r\n")+"\r\n";if(u.GoodsDesc=u.GoodsDesc+k,x=u.TotalQuantity,"{}"===JSON.stringify(p)){t.next=66;break}_=!1,t.t1=regeneratorRuntime.keys(p);case 55:if((t.t2=t.t1()).done){t.next=62;break}if(C=t.t2.value,!(p[C]["quantity"]>0)){t.next=60;break}return _=!0,t.abrupt("break",62);case 60:t.next=55;break;case 62:if(_){t.next=64;break}return t.abrupt("return",{code:-2,data:"收藏失败：此商品库存为0"});case 64:t.next=68;break;case 66:if(!(x<=0)){t.next=68;break}return t.abrupt("return",{code:-2,data:"收藏失败：此商品库存为0"});case 68:if(P={CollectGoodsData:u,CollectGoodsSkus:p},this._this.IsDefaultFilterSkuCount&&(P=this.DealGoodsSkuCount(P)),A=this.BuildGoodsData(P,{}),200===A.code){t.next=73;break}return t.abrupt("return",{code:A.code,data:A.data});case 73:return I=A.data,"0"===I["price"].toString()&&null!==(s=P.CollectGoodsData.OriData)&&void 0!==s&&null!==(l=s.data)&&void 0!==l&&null!==(c=l.data)&&void 0!==c&&c.mockData?(D=P.CollectGoodsData.OriData["data"]["data"]["mockData"],O=D||0,a.Price=O,I["price"]=Number(a.Price)):a.Price=Number(I["price"]),I["price"]=Number(I.price),I["image"]=a.Image,t.next=79,this._this.$commodityService.uploadCollectGoods(I);case 79:if(G=t.sent,L=this.isJsonString(G),200!==L.code){t.next=86;break}return I["id"]=L.data.id,t.abrupt("return",{code:200,data:I});case 86:return t.abrupt("return",{code:-2,data:"收藏失败"});case 87:t.next=92;break;case 89:return t.prev=89,t.t3=t["catch"](0),t.abrupt("return",{code:-2,data:"收藏异常".concat(t.t3)});case 92:case"end":return t.stop()}}),t,this,[[0,89]])})));function e(e,a){return t.apply(this,arguments)}return e}()},{key:"GetPddGoodsProperty",value:function(t){var e,a={},r=Object(o["a"])(t);try{for(r.s();!(e=r.n()).done;){var i=e.value,n=i["key"],s=i["values"];Object.keys(a).includes(n)||(a[n]=s)}}catch(l){r.e(l)}finally{r.f()}return a}},{key:"InitPddSkuData",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e,a){var r,i,n,s,l,c,u,d,p,h,m,g,b,v,f,y,S,k,w,x,_,C,P,A,I,D,O,G,L,N;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r={},i=0,n=0,s=[],l=[],c=[],u=[],d="",p=Object(o["a"])(e);try{for(p.s();!(h=p.n()).done;){g=h.value,b=null===(m=g["skuID"])||void 0===m?void 0:m.toString(),v=g["specs"];try{f=this.GetAllSpecInfo(v),"{}"!==JSON.stringify(f)&&(l.push(f["specStr"]),c.push(f["sizeStr"]),u.push(f["vaStr"]),d=b)}catch(T){}}}catch(z){p.e(z)}finally{p.f()}y=Object(o["a"])(e),t.prev=11,y.s();case 13:if((S=y.n()).done){t.next=46;break}return x=S.value,_={},C=-1===x["quantity"]?0:x["quantity"],P=null===(k=x["skuID"])||void 0===k?void 0:k.toString(),A=x["specs"],_.originGoodsId=a.toString(),_.sku=P.toString(),_.platform=1,t.next=24,this._this.$collectService.createSysSkuNo(a,_.Sku,_.Platform);case 24:if(_.sysSkuNo=t.sent,_.image=null===(w=x["thumbUrl"])||void 0===w?void 0:w.toString(),_.marketPrice=x["normalPrice"],_.price=x["groupPrice"],t.prev=28,I=this.GetAllSpecInfo(A),D=I["vaStr"],u.includes(D)){t.next=33;break}return t.abrupt("continue",44);case 33:t.next=37;break;case 35:t.prev=35,t.t0=t["catch"](28);case 37:d=_.Sku,_.originProps=this.DealPddOriginProp(A),_.isOnSale=x["isOnsale"],C<0&&(C=0),_.quantity=C,i+=C,r[P]=_;case 44:t.next=13;break;case 46:t.next=51;break;case 48:t.prev=48,t.t1=t["catch"](11),y.e(t.t1);case 51:return t.prev=51,y.f(),t.finish(51);case 54:return n=s.length,t.prev=55,O=JSON.parse(JSON.stringify(r[d])),t.next=59,this.setFullSku(O,l,c,u,Object.keys(r).length,a);case 59:if(G=t.sent,"{}"!==JSON.stringify(G))for(L in G)r[L]=G[L];t.next=65;break;case 63:t.prev=63,t.t2=t["catch"](55);case 65:return N={},N["totalQuantity"]=i,N["collectSkuInfo"]=r,N["vaCount"]=n,t.abrupt("return",N);case 70:case"end":return t.stop()}}),t,this,[[11,48,51,54],[28,35],[55,63]])})));function e(e,a){return t.apply(this,arguments)}return e}()},{key:"setFullSku",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e,a,r,i,n,s){var l,c,u,d,p,h,m,g,b,v,f,y,S,k;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(l={},c=a.length*r.length,u=0,!(n<c)){t.next=59;break}d=Object(o["a"])(a),t.prev=5,d.s();case 7:if((p=d.n()).done){t.next=51;break}h=p.value,m=Object(o["a"])(r),t.prev=10,m.s();case 12:if((g=m.n()).done){t.next=41;break}if(b=g.value,v=h+"||"+b,!i.includes(v)){t.next=17;break}return t.abrupt("continue",39);case 17:return i.push(v),f=Math.floor(-999999899*Math.random()+999999999),y=JSON.parse(JSON.stringify(e)),S=f.toString()+u,y.Sku=S,t.next=24,this._this.$collectService.createSysSkuNo(s,y.Sku,y.Platform);case 24:y.SysSkuNo=t.sent,y.IsOnSale=0,y.Quantity=0,k=[],k[0]["vid"]="",k[0]["name"]=h,k[0]["parentId"]=0,k[0]["skuName"]=null,k[1]["vid"]="",k[1]["name"]=b,k[1]["parentId"]=0,k[1]["skuName"]=null,y.OriginProps=k,l[S]=y,u++;case 39:t.next=12;break;case 41:t.next=46;break;case 43:t.prev=43,t.t0=t["catch"](10),m.e(t.t0);case 46:return t.prev=46,m.f(),t.finish(46);case 49:t.next=7;break;case 51:t.next=56;break;case 53:t.prev=53,t.t1=t["catch"](5),d.e(t.t1);case 56:return t.prev=56,d.f(),t.finish(56);case 59:return t.abrupt("return",l);case 60:case"end":return t.stop()}}),t,this,[[5,53,56,59],[10,43,46,49]])})));function e(e,a,r,i,n,o){return t.apply(this,arguments)}return e}()},{key:"DealPddOriginProp",value:function(t){var e=this._this.$shopeeManConfig.getPddSpecList(),a=[],r=!0,i=0;if(t.length<=0)return a;var n,s=Object(o["a"])(t);try{for(s.s();!(n=s.n()).done;){var l,c,u,d=n.value,p=0,h=null===(l=d["spec_key"])||void 0===l?void 0:l.toString(),m=null===(c=d["spec_value_id"])||void 0===c?void 0:c.toString();if(0===i)for(var g in this.PddSkuKeyMatch)if(null!==h&&h.indexOf(this.PddSkuKeyMatch[g])>-1){r=!1;break}i++,null!=e[h]&&(p=e[h]["parent_spec_id"]);var b={};b["vid"]=m,b["name"]=null===(u=d["spec_value"])||void 0===u?void 0:u.toString(),b["parentId"]=p,b["specKey"]=h,a.push(b)}}catch(v){s.e(v)}finally{s.f()}return r&&a.reverse(),a}},{key:"GetAllSpecInfo",value:function(t){for(var e="",a="",r="",i={},n=!0,s=0;s<t.length;s++){var l,c,u=t[s];if(u["spec_value"]){var d=(null===(l=u["spec_value"])||void 0===l?void 0:l.toString())||"",p=(null===(c=u["spec_key"])||void 0===c?void 0:c.toString())||"";if(d){if(0===s){var h,m=Object(o["a"])(this.PddSkuKeyMatch);try{for(m.s();!(h=m.n()).done;){var g=h.value;if(p.indexOf(g)>-1){n=!1;break}}}catch(b){m.e(b)}finally{m.f()}}n?0===s?r=d:a=d:(0===s?a=d:r=d,1===t.length&&0===s&&(e=d),2===t.length&&0===s&&(e=t[0]["spec_value"].toString()+"||"+t[1]["spec_value"].toString()))}}}return i["specStr"]=a,i["vaStr"]=e,i["sizeStr"]=r,i||{}}},{key:"GetPddCatId",value:function(t){if(!t&&"{}"===JSON.stringify(t))return 0;if(!t["p_search"])return 0;var e=t["p_search"],a=0;return e["cat_id"]&&null!==e["cat_id"]?(a=Number(e.cat_id),a):e["gin_cat_id_3"]&&null!==e["gin_cat_id_3"]?(a=Number(e.gin_cat_id_3),a):a}},{key:"InitPddSales",value:function(t){var e=0;try{if(!t)return e;var a=t.match(/\d+/g);e=Number(a),t.indexOf("万")>-1&&(e*=1e4)}catch(r){return e}return e}},{key:"handleKey",value:function(t){return t.split("\n").map((function(t){return t.replace(/(^\s*)|(\s*$)/g,"")})).filter((function(t){return""!==t}))}},{key:"filterLinkKeyWord",value:function(t,e){for(var a=t,r=!1,i=[],n=0;n<e.length;n++){var o=e[n],s=RegExp(o.replace(/^[^\w^\s^\u4e00-\u9fa5]/i,""));if(r=s.test(a),r){i.push(o);break}}return i.join(",")}},{key:"handleKeyFilter",value:function(t){return Array.isArray(t)||(t=t.split("\n")),t.length>1e3&&(t=t.slice(0,1e3),this.notify("标题过滤设置","请输入小于1000组以内的关键词","warning")),t}}]),t}()),w=a("da05"),x=a("5287"),_=a("1146"),C=a.n(_),P={components:{editorOnNewGoods:w["a"]},props:{baseConfig:{type:Object,required:!1,default:function(){return{keywordConfig:[1,2,11,8,10,12,9]}}}},data:function(){return{activeName:"keyPage",collectName:"",CollectPublicApInstance:new k(this),CollectKeyWordApInstance:new h(this),collectLinkApInstance:new g(this),collectEntireApInstance:new f(this),collectOtherApInstance:new S(this),multipleSelection:[],goodsList:[],buttonStatus:{start:!1},currentKeywordPlatform:1,commonAttr:{pddRadio:1,StartPage:1,EndPage:100,StartSales:0,EndSales:999999999,StartPrice:0,EndPrice:999999999,keyFilter:"",wordLimit:10,shopeeSortType:[{label:"价格从低到高",value:"price,asc"},{label:"价格从高到低",value:"price,desc"},{label:"销量从低到高",value:"sales,asc"},{label:"销量从高到低",value:"sales,desc"}],isShopeeOffice:!1,shopeeSortTypeVal:"price,asc",shopeeSite:[],shopeeSiteCode:"TW",shopeePlaceOrigin:"",shopeePlaceVal:"-1,-2",lazadaSite:[],lazadaSiteCode:"MY",lazadaPlaceOrigin:{},lazadaPlaceVal0:[],lazadaPlaceVal1:[],pickerOptions:{shortcuts:[{text:"今天",onClick:function(t){var e=new Date,a=new Date;t.$emit("pick",[a,e])}},{text:"昨天",onClick:function(t){var e=new Date,a=new Date;e.setTime(e.getTime()-864e5),a.setTime(a.getTime()-864e5),t.$emit("pick",[a,e])}},{text:"一周前",onClick:function(t){var e=new Date,a=new Date;e.setTime(e.getTime()-6048e5),a.setTime(a.getTime()-6048e5),t.$emit("pick",[a,e])}}]},value2:"",cacheTime:[],alibabaSortType:[{label:"综合排序",value:"pop"},{label:"价格从低到高",value:"price_fale"},{label:"价格从高到低",value:"price_true"},{label:"销量从低到高",value:"booked_false"},{label:"销量从高到低",value:"booked_true"}],alibabaSortTypeVal:"pop",pictureSearchPlatformId:"2"},flag:!1,start:1,end:5e3,key:"",linkKey:"",linkKeyArr:"",importLinkData:"",mallLinkKey:"",isSelectAll2:[!1,!1],consoleMsg:"",pictureSearchOrigin:[],base64Str:"",TaobaoAbroadAccount:[],TaobaoAbroadAccountId:[],taobaoTimeAt:[],isSelectAllTaobaoAccount:!1,shopeeGoodsDeliveryAddressDic:{MY:"Mainland China",TW:"中國大陸",VN:"Nước ngoài",ID:"Luar Negeri",PH:"Mainland China",TH:"ต่างประเทศ",SG:"Mainland China",BR:"China Continental"},successNum:0,failNum:0,goodsCollectionNum:0,GoodsDeliveryAddress:0,GoodsDeliveryAddressList:[{value:0,label:"不过滤"},{value:1,label:"本土"},{value:2,label:"跨境"}],IsCollectDescriptionIsNull:!1,IsDefaultFilterSkuCount:!0,IsFilterLazadaDeliveryDay:!1,MinLazadaDeliveryDay:0,MaxLazadaDeliveryDay:20,IsFilterShopeeDeliveryDay:!1,MinShoppeDeliveryDay:0,MaxShoppeDeliveryDay:20,IsDeleteRepeatSkuImg:!1,plugVisible:!1,port:"",isEditorVisible:!1,isNoFoldShow:!0,editorSelection:[]}},computed:{keyworBar:function(){return Object(x["b"])(this.baseConfig.keywordConfig)},isShowPdd:function(){var t=[1];return t.includes(this.currentKeywordPlatform)},isShowPage:function(){var t=[1,11,8,10,12,9];return t.includes(this.currentKeywordPlatform)},isShowPageSize20:function(){var t=[1,8];return t.includes(this.currentKeywordPlatform)},isShowPageSize50:function(){var t=[11];return t.includes(this.currentKeywordPlatform)},isShowSales:function(){var t=[1,2,11,8,10,12];return t.includes(this.currentKeywordPlatform)},isShowPrice:function(){var t=[1,2,11,8,10,12,9];return t.includes(this.currentKeywordPlatform)},isShowTaobao:function(){var t=[2];return t.includes(this.currentKeywordPlatform)},isShowShopeeSite:function(){var t=[11];return t.includes(this.currentKeywordPlatform)},isShowLazadaSite:function(){var t=[9];return t.includes(this.currentKeywordPlatform)},isShowKeyTip:function(){var t=[11,9];return t.includes(this.currentKeywordPlatform)},isShowSort:function(){var t=[8];return t.includes(this.currentKeywordPlatform)},isShowCreateAt:function(){var t=[11];return t.includes(this.currentKeywordPlatform)}},mounted:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.commonAttr.shopeeSite=x["g"],t.commonAttr.lazadaSite=x["d"],t.pictureSearchOrigin=x["e"],a=new Date-0,t.taobaoTimeAt=[a-53568e5,a],t.commonAttr.cacheTime=[a-864e5,a+864e5],t.getShopeeGoodsPlace(),t.getLazadaGoodsPlace(),e.next=10,t.getTaobaoAbroadAccount();case 10:return t.linkKey=localStorage.getItem("linkKey")?localStorage.getItem("linkKey").replaceAll(",","\n"):"",window.addEventListener("storage",(function(e){t.linkKey=localStorage.getItem("linkKey")?localStorage.getItem("linkKey").replaceAll(",","\n"):""})),e.next=14,t.getPluginPorts();case 14:return e.next=16,t.getPluginData();case 16:case"end":return e.stop()}}),e)})))()},methods:{getPluginData:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:try{t.$IpcMain.on("pddGoodsKeyword",function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.collectName="插件采集数据",e.next=3,t.CollectPublicApInstance.pddGoodsKeyword(a);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.$IpcMain.on("pddGoodsDetail",function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.collectName="插件采集数据",e.next=3,t.CollectPublicApInstance.pddGoodsDetail(a);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.$IpcMain.on("tbGoodsKeyword",function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.collectName="插件采集数据",e.next=3,t.CollectPublicApInstance.tbGoodsKeyword(a);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.$IpcMain.on("tbGoodsDetail",function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.collectName="插件采集数据",e.next=3,t.CollectPublicApInstance.tbGoodsDetail(a);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}catch(a){}case 1:case"end":return e.stop()}}),e)})))()},getPluginPorts:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$BaseUtilService.getPluginPorts();case 3:t.port=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),t.$message.error("获取插件路径异常".concat(e.t0));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))()},clearTranslate:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,r,i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,!((null===(a=t.cacheTime)||void 0===a?void 0:a.length)>0)){e.next=3;break}return e.abrupt("return",t.$message.error("请选择时间"));case 3:return r=t.$dayjs(t.commonAttr.cacheTime[0]).format("YYYY-MM-DD 00:00:00"),i=t.$dayjs(t.commonAttr.cacheTime[1]).format("YYYY-MM-DD 00:00:00"),e.next=7,t.$BaseUtilService.clearGoodsTranslateInfo(r,i);case 7:if(n=e.sent,0===Object.keys(JSON.parse(n)).length){e.next=10;break}return e.abrupt("return",t.$message.success("清理翻译数据失败"));case 10:t.$message.success("清理翻译数据成功"),e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](0),t.$message.success("清理翻译数据失败");case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))()},clearCache:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$BaseUtilService.clealAllCache();case 3:if(a=e.sent,a){e.next=6;break}return e.abrupt("return",t.$message.error("清理缓存数据失败"));case 6:t.$message.success("清理缓存数据成功"),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),t.$message.error("清理缓存数据失败");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()},editorUp:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.multipleSelection.length){e.next=2;break}return e.abrupt("return",t.$message.error("请选择需要编辑的数据"));case 2:t.editorSelection=[],t.isEditorVisible=!0,t.saveGoodsInfo();case 5:case"end":return e.stop()}}),e)})))()},setIsNoFoldShow:function(){this.isNoFoldShow=!this.isNoFoldShow,this.$refs.editor_on_new_goods.setIsNoFoldShow()},getShopeeGoodsPlace:function(){this.commonAttr.shopeePlaceVal="-1,-2",this.commonAttr.shopeePlaceOrigin=Object(x["c"])(this.commonAttr.shopeeSiteCode)},getLazadaGoodsPlace:function(){this.isSelectAll2[0]=!1,this.isSelectAll2[1]=!1,this.commonAttr.lazadaPlaceVal0=[],this.commonAttr.lazadaPlaceVal1=[],this.commonAttr.lazadaPlaceOrigin=Object(x["a"])(this.commonAttr.lazadaSiteCode)},handleClick:function(t,e){},handleSelectionChange:function(t){this.multipleSelection=t},switchPlatform:function(t){this.currentKeywordPlatform=t.value},isCollection:function(){var t=this;this.goodsList.length>0?this.$confirm("确定重新采集？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.StartCollection()})):this.StartCollection()},StartCollection:function(){switch(this.flag=!1,this.activeName){case"keyPage":this["keywordSearch"]();break;case"linkPage":this["linksSearch"](1);break;case"entriresShopPage":this["entriresShopSearch"]();break;case"picToPicPage":this["picToPicSearch"]();break;case"taobaoAbroadPage":this["taobaoAbroadSearch"]();break;default:this.$message.error("采集操作非法！！！！");break}},keywordSearch:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,r,i,n,o,s,l,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.CollectKeyWordApInstance.handleKeyFactory(t.key),200===a.code){e.next=3;break}return e.abrupt("return",t.$message.error(a.data));case 3:r=a.data,i=a.data.length,n=t.currentKeywordPlatform,t.buttonStatus.start=!0,t.consoleMsg="",t.goodsList=[],t.commonAttr.wordLimit=""===t.commonAttr.wordLimit?10:t.commonAttr.wordLimit,t.CollectKeyWordApInstance._initKeyWord(n,t.commonAttr),t.writeLog("开始采集搜索........",!0),t.writeLog("开始采集".concat(x["f"][n],"商品......."),!0),t.collectName="".concat(x["f"][n],"关键词采集数据"),o=[],s=0;case 16:if(!(s<i)){e.next=36;break}if(!t.flag){e.next=22;break}return t.buttonStatus.start=!1,t.flag=!1,t.writeLog("取消".concat(x["f"][n],"商品采集"),!0),e.abrupt("break",36);case 22:if(l=r[s],!o.includes(l)){e.next=26;break}return t.writeLog("重复关键词".concat(l),!1),e.abrupt("continue",33);case 26:return o.push(l),c=[],e.next=30,t.CollectKeyWordApInstance.keywordSearch(l,c);case 30:if(1!==n){e.next=33;break}return e.next=33,t.CollectKeyWordApInstance.keywordSearchTwo(l);case 33:s++,e.next=16;break;case 36:t.goodsList.forEach((function(e){t.$refs.plTable.toggleRowSelection([{row:e}])})),t.writeLog("".concat(x["f"][n],"：共采集：").concat(t.goodsList.length,"条"),!0),t.writeLog("".concat(x["f"][n],"商品采集完毕........"),!0),r=null,t.buttonStatus.start=!1,t.flag=!1;case 42:case"end":return e.stop()}}),e)})))()},linksSearch:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var r,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(r="",e.consoleMsg="",r=1===t?e.collectLinkApInstance.handleLinkKeyFactory(e.linkKey,t):e.collectLinkApInstance.handleLinkKeyFactory(e.linkKeyArr,t),200===r.code){a.next=5;break}return a.abrupt("return",e.$message.error(r.data));case 5:if(e.goodsList=[],i=r.data,!(i.length>0)){a.next=20;break}return e.buttonStatus.start=!0,e.writeLog("开始商品链接采集搜索........",!0),e.collectName="商品链接采集数据",i.forEach((function(e){e.type=t})),a.next=14,Object(d["c"])(i,e.linkCollect);case 14:e.flag&&e.writeLog("取消链接采集",!0),e.goodsList.forEach((function(t){e.$refs.plTable.toggleRowSelection([{row:t}])})),e.writeLog("商品链接：共采集：".concat(e.goodsList.length,"条"),!0),e.writeLog("商品链接采集完毕........",!0),e.buttonStatus.start=!1,e.flag=!1;case 20:case"end":return a.stop()}}),a)})))()},linkCollect:function(t){var e=arguments,a=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var i,n,o,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(i=e.length>1&&void 0!==e[1]?e[1]:{count:1},r.prev=1,!a.flag){r.next=5;break}return Object(d["z"])(),r.abrupt("return");case 5:return r.next=7,a.collectLinkApInstance.getGoodsDeail(t);case 7:n=r.sent,200!==n.code?a.writeLog("商品ID: ".concat(t.GoodsId," 采集失败: ").concat(n.data),!1):(o={},s=n.data.ListItem[0],o.Image=s.Image,o.GoodsId=s.GoodsId,o.Title=s.Title,o.CategoryName=s.CategoryName,o.Price=s.Price,o.Sales=s.Sales,o.Origin=s.Origin,o.isDetail=!0,o.Platform=t.platformId,o.Url=t.Url,o.Site=t.Site||null,o.ShopId=t.ShopId||null,2===t.type&&(o.isLink=!0,o.Weight=t.Weight||0,o.Length=t.Length||0,o.Width=t.Width||0,o.Height=t.Height||0),a.writeLog("商品ID: ".concat(t.GoodsId,"采集成功")),a.goodsList.push(o)),r.next=14;break;case 11:r.prev=11,r.t0=r["catch"](1),a.writeLog("商品ID: ".concat(t.GoodsId," 异常"),!1);case 14:return r.prev=14,--i.count,r.finish(14);case 17:case"end":return r.stop()}}),r,null,[[1,11,14,17]])})))()},entriresShopSearch:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,r,i,n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.collectEntireApInstance.handleEntireKeyFactory(t.mallLinkKey),200===a.code){e.next=3;break}return e.abrupt("return",t.$message.error(a.data));case 3:t.buttonStatus.start=!0,t.consoleMsg="",t.goodsList=[],t.writeLog("开始整店链接采集搜索........",!0),t.collectName="整店采集数据",r=a.data,i=Object(o["a"])(r),e.prev=10,i.s();case 12:if((n=i.n()).done){e.next=21;break}if(s=n.value,!t.flag){e.next=16;break}return e.abrupt("return");case 16:return t.writeLog("开始获取【".concat(s,"】"),!0),e.next=19,t.collectEntireApInstance.mallSearch(s);case 19:e.next=12;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e["catch"](10),i.e(e.t0);case 26:return e.prev=26,i.f(),e.finish(26);case 29:t.flag&&t.writeLog("取消整店采集",!0),t.goodsList.forEach((function(e){t.$refs.plTable.toggleRowSelection([{row:e}])})),t.writeLog("整店链接：共采集：".concat(t.goodsList.length,"条"),!0),t.writeLog("整店链接采集完毕........",!0),t.buttonStatus.start=!1,t.flag=!1;case 35:case"end":return e.stop()}}),e,null,[[10,23,26,29]])})))()},picToPicSearch:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,r,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.base64Str){e.next=2;break}return e.abrupt("return",t.$message.error("请上传图片"));case 2:return t.buttonStatus.start=!0,t.consoleMsg="",t.goodsList=[],a="8"===t.commonAttr.pictureSearchPlatformId?"1688":"淘宝",t.writeLog("开始 ".concat(a," 图搜采集搜索........"),!0),t.collectName="图搜采集数据",r={ImageBase64:t.base64Str},"8"===t.commonAttr.pictureSearchPlatformId&&(r["Page"]=1),e.next=12,t.collectOtherApInstance.picSearch(t.commonAttr.pictureSearchPlatformId,r);case 12:i=e.sent,200!==i.code?t.writeLog("图搜采集: 采集失败: ".concat(i.data),!1):(t.writeLog("图搜采集: 采集成功",!0),(o=t.goodsList).push.apply(o,Object(n["a"])(i.data))),t.goodsList.forEach((function(e){t.$refs.plTable.toggleRowSelection([{row:e}])})),t.writeLog("图搜：共采集：".concat(t.goodsList.length,"条"),!0),t.writeLog("".concat(a," 图搜采集完毕........"),!0),t.buttonStatus.start=!1,t.flag=!1;case 19:case"end":return e.stop()}}),e)})))()},getTaobaoAbroadAccount:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.collectOtherApInstance.getTaobaoAbroadAccount();case 2:if(a=e.sent,200===a.code){e.next=5;break}return e.abrupt("return",t.$message.error("获取淘宝天猫海外账号失败：".concat(a.code," ").concat(a.data)));case 5:t.TaobaoAbroadAccount=a.data;case 6:case"end":return e.stop()}}),e)})))()},taobaoAbroadSearch:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!==t.TaobaoAbroadAccountId.length){e.next=2;break}return e.abrupt("return",t.$message.error("请选择账号"));case 2:t.buttonStatus.start=!0,t.consoleMsg="",t.goodsList=[],t.writeLog("开始 淘宝天猫海外 采集搜索........",!0),t.collectName="淘宝天猫海外采集数据",a=regeneratorRuntime.mark((function e(a){var r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.flag){e.next=3;break}return t.writeLog("取消淘宝天猫海外采集",!0),e.abrupt("return","break");case 3:return r=t.TaobaoAbroadAccountId[a],i=t.TaobaoAbroadAccount.find((function(t){return t.id===r})),e.next=7,t.collectOtherApInstance.queryTmCrossBorder(i,t.taobaoTimeAt);case 7:case"end":return e.stop()}}),e)})),r=0;case 9:if(!(r<t.TaobaoAbroadAccountId.length)){e.next=17;break}return e.delegateYield(a(r),"t0",11);case 11:if(i=e.t0,"break"!==i){e.next=14;break}return e.abrupt("break",17);case 14:r++,e.next=9;break;case 17:t.goodsList.forEach((function(e){t.$refs.plTable.toggleRowSelection([{row:e}])})),t.writeLog("淘宝天猫海外：共采集：".concat(t.goodsList.length,"条"),!0),t.writeLog("淘宝天猫海外采集完毕........",!0),t.buttonStatus.start=!1,t.flag=!1;case 22:case"end":return e.stop()}}),e)})))()},saveGoodsInfo:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!==t.multipleSelection.length){e.next=3;break}return t.$message.error("请选择商品"),e.abrupt("return");case 3:return t.buttonStatus.start=!0,t.successNum=0,t.failNum=0,t.multipleSelection=t.isEditorVisible?t.multipleSelection.splice(Number(t.start)-1,Number(t.end)-Number(t.start)+1):t.multipleSelection,t.goodsCollectionNum=t.multipleSelection.length,e.next=10,Object(d["c"])(t.multipleSelection,t.saveGoods);case 10:t.buttonStatus.start=!1,t.flag=!1;case 12:case"end":return e.stop()}}),e)})))()},saveGoods:function(t){var e=arguments,a=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var i,n,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return i=e.length>1&&void 0!==e[1]?e[1]:{count:1},n=null,r.prev=2,a.StatusName(t,"正在获取商品详情",!0),r.next=6,a.collectLinkApInstance.getGoodsDeail(t);case 6:if(o=r.sent,200===o.code){r.next=13;break}return a.StatusName(t,"获取商品详情失败：".concat(o.data),!1),a.failNum++,r.abrupt("return");case 13:return r.next=15,a.CollectPublicApInstance.setGoodsData(t,o.data);case 15:n=r.sent,200===n.code?(n.data.operation_type="收藏成功",a.StatusName(t,"收藏成功",!0),a.successNum++,a.$nextTick((function(){a.$refs.plTable.toggleRowSelection([{row:t,selected:!1}])}))):(n.data.operation_type="收藏失败",a.StatusName(t,"".concat(n.msg),!1),a.failNum++);case 17:r.next=24;break;case 19:r.prev=19,r.t0=r["catch"](2),n.data.operation_type="".concat(r.t0),a.StatusName(t,"".concat(r.t0),!1),a.failNum++;case 24:return r.prev=24,--i.count,r.finish(24);case 27:a.isEditorVisible&&a.editorSelection.push(n.data);case 28:case"end":return r.stop()}}),r,null,[[2,19,24,27]])})))()},closeEditor:function(){Object(d["z"])()},writeLog:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(void 0!==this.consoleMsg&&t){var a=e?"green":"red",r=Object(d["g"])(new Date(Date.now()),"hh:mm:ss");this.consoleMsg+='<p style="color:'.concat(a,'; margin-top: 5px;">').concat(r,":").concat(t,"</p>")}},imgSaveToUrl:function(t,e){this.base64Str=null;var a=new FileReader;a.readAsDataURL(e.raw);var r=this;a.onload=function(){r.base64Str=a.result}},StatusName:function(t,e,a){this.$set(t,"StatusName",e),this.$set(t,"color",a?"green":"red")},filterData:function(t){for(var e=[],a=0;a<t.length;a++){var r,i=t[a];if(i.Sales=Number(i.Sales),i.Price=Number(i.Price),!(this.isShowSales&&i.Sales<Number(this.commonAttr.StartSales))&&!(this.isShowSales&&i.Sales>Number(this.commonAttr.EndSales))&&!(this.isShowPrice&&i.Price<Number(this.commonAttr.StartPrice))&&!(this.isShowPrice&&i.Price>Number(this.commonAttr.EndPrice))){if(this.commonAttr.keyFilter){var n=this.CollectPublicApInstance.handleKey(this.commonAttr.keyFilter),o=this.CollectPublicApInstance.filterLinkKeyWord(i.Title,n);if(i.keyWord=o,""!==i.keyWord)continue}if(this.isShowCreateAt&&(null===(r=this.commonAttr.value2)||void 0===r?void 0:r.length)>0){var s=this.commonAttr.value2[0].getTime(),l=this.commonAttr.value2[1].getTime(),c=1e3*i.CreateTime;if(c<s||c>l)continue}this.isShowShopeeSite&&!0===i.IsOfficialShop||e.push(i)}}if(this.isShowTaobao||this.isShowShopeeSite)switch(this.commonAttr.shopeeSortTypeVal){case"price,asc":e.sort((function(t,e){return t.Price-e.Price}));break;case"price,desc":e.sort((function(t,e){return e.Price-t.Price}));break;case"sales,asc":e.sort((function(t,e){return t.Sales-e.Sales}));break;case"sales,desc":e.sort((function(t,e){return e.Sales-t.Sales}));break}if(this.isShowSort)switch(this.commonAttr.alibabaSortTypeVal){case"pop":break;case"price_fale":e.sort((function(t,e){return t.Price-e.Price}));break;case"price_true":e.sort((function(t,e){return e.Price-t.Price}));break;case"booked_false":e.sort((function(t,e){return t.Sales-e.Sales}));break;case"booked_true":e.sort((function(t,e){return e.Sales-t.Sales}));break}return e},copy:function(t){var e=document.createElement("div");e.id="tempTarget",e.style.opacity="0",e.innerText=t,document.body.appendChild(e);try{var a=document.createRange();a.selectNode(e),window.getSelection().removeAllRanges(),window.getSelection().addRange(a),document.execCommand("copy"),window.getSelection().removeAllRanges(),this.$message.success("复制成功")}catch(r){}e.parentElement.removeChild(e)},tableDelete:function(t,e){this.$refs.plTable.toggleRowSelection([{row:t,selected:!1}]),this.goodsList.splice(e,1)},batchTableDelete:function(t,e){var a=this;if(!e.length)return this.$message.error("请选择要删除的选项");e.map((function(t){return t.__ob__.dep.id})).forEach((function(e){t.splice(t.findIndex((function(t){return t.__ob__.dep.id===e})),1)})),e.forEach((function(t){a.$refs.plTable.toggleRowSelection([{row:t,selected:!1}])}))},deleteAll:function(){var t=this;this.$confirm("确定清理全部吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.goodsList=[],t.$refs.plTable.reloadData(t.goodsList)}))},exportTableData:function(){var t;if(null===(t=this.goodsList)||void 0===t||!t.length)return this.$message("暂无数据导出");var e="<tr>\n          <td>商品ID</td>\n          <td>商品来源</td>\n          <td>商品链接</td>\n          <td>商品标题</td>\n          <td>图片链接</td>\n          <td>类目</td>\n          <td>价格</td>\n          <td>销量</td>\n          <td>发货地</td>\n        </td>";this.goodsList.forEach((function(t){e+="<tr>\n        <td style=\"mso-number-format:'@';\">".concat(t.GoodsId?t.GoodsId:"\t","</td>\n        <td>").concat(t.Origin?t.Origin:"\t","</td>\n        <td>").concat(t.Url?t.Url:"\t","</td>\n        <td>").concat(t.Title?t.Title:"\t","</td>\n        <td>").concat(t.Image?t.Image:"\t","</td>\n        <td>").concat(t.CategoryName?t.CategoryName:"\t","</td>\n        <td>").concat(t.Price?t.Price:"\t","</td>\n        <td>").concat(t.Sales?t.Sales:"\t","</td>\n        <td>").concat(t.Location?t.Location:"\t","</td>\n        </tr>")})),Object(d["j"])(this.collectName,e)},linkImport:function(){var t=this.importLinkData.length;if(this.linkKeyArr=[],t<=0)this.writeLog("表格数据为空",!1);else{this.writeLog("开始读取表格...",!0);for(var e=0;e<t;e++){var a=this.importLinkData[e],r={};r["Url"]=a["商品链接"],r["Weight"]=a["重量(kg)"],r["Length"]=a["长(cm)"],r["Width"]=a["宽(cm)"],r["Height"]=a["高(cm)"],r["Url"]&&this.linkKeyArr.push(r)}this.linksSearch(2)}},downloadTemplate:function(){var t='<tr>\n      <td style="width: 600px">商品链接</td>\n      <td style="width: 100px">重量(kg)</td>\n      <td style="width: 100px">长(cm)</td>\n      <td style="width: 100px">宽(cm)</td>\n      <td style="width: 100px">高(cm)</td>\n      </tr>';Object(d["j"])("商品链接采集模板",t)},importTemplate:function(t){var e=this,a={0:t.raw};if(/\.(xls|xlsx)$/.test(a[0].name.toLowerCase())){var r=new FileReader;r.onload=function(t){var a=t.target.result,r=C.a.read(a,{type:"binary"}),i=r.SheetNames[0],n=C.a.utils.sheet_to_json(r.Sheets[i]);e.importLinkData=n,e.linkImport(),n=null,e.$refs.importRef.value=""},r.readAsBinaryString(a[0])}else this.writeLog("格式错误,请上传xls、xlsx格式的文件",!1)},openUrl:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t&&e.$BaseUtilService.openUrl(t);case 1:case"end":return a.stop()}}),a)})))()},selectAll:function(t,e,a){var r=this;1===a?this[t].length<e.length?(this[t]=[],e.map((function(e){r[t].push(e.id)}))):this[t]=[]:this.commonAttr[t].length<e.length?(this.commonAttr[t]=[],e.map((function(e){r.commonAttr[t].push(e.value)}))):this.commonAttr[t]=[]},changeSelect:function(t,e,a){1===a&&(t.includes(0)||t.length!==this[e].length)&&(t.includes(0)&&t.length-1<this[e].length?this[e]=this[e].filter((function(t){return 0!==t})):(t.includes(0)||t.length!==this.commonAttr[e].length)&&t.includes(0)&&t.length-1<this.commonAttr[e].length&&(this.commonAttr[e]=this.commonAttr[e].filter((function(t){return 0!==t}))))}}},A=P,I=(a("66414"),a("2877")),D=Object(I["a"])(A,r,i,!1,null,"dc22aaae",null);e["default"]=D.exports},"53ca":function(t,e,a){"use strict";a.d(e,"a",(function(){return r}));a("a4d3"),a("e01a"),a("d3b7"),a("d28b"),a("3ca3"),a("ddb0");function r(t){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}},66414:function(t,e,a){"use strict";a("ba73")},ba73:function(t,e,a){}}]);