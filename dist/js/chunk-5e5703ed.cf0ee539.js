(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5e5703ed"],{"05ca":function(e,t,i){"use strict";(function(e){var s,a,o,n,r;i.d(t,"a",(function(){return ci})),function(e){e["Call"]="call",e["Reply"]="reply",e["Syn"]="syn",e["SynAck"]="synAck",e["Ack"]="ack"}(s||(s={})),function(e){e["Fulfilled"]="fulfilled",e["Rejected"]="rejected"}(a||(a={})),function(e){e["ConnectionDestroyed"]="ConnectionDestroyed",e["ConnectionTimeout"]="ConnectionTimeout",e["NotInIframe"]="NotInIframe",e["NoIframeSrc"]="NoIframeSrc"}(o||(o={})),function(e){e["DataCloneError"]="DataCloneError"}(n||(n={})),function(e){e["Message"]="message"}(r||(r={}));var c=()=>{const e=[];let t=!1;return{destroy(i){t=!0,e.forEach(e=>{e(i)})},onDestroy(i){t?i():e.push(i)}}},l=e=>(...t)=>{e&&console.log("[Penpal]",...t)};const _={"http:":"80","https:":"443"},u=/^(https?:)?\/\/([^/:]+)?(:(\d+))?/,d=["file:","data:"];var p=e=>{if(e&&d.find(t=>e.startsWith(t)))return"null";const t=document.location,i=u.exec(e);let s,a,o;i?(s=i[1]?i[1]:t.protocol,a=i[2],o=i[4]):(s=t.protocol,a=t.hostname,o=t.port);const n=o&&o!==_[s]?":"+o:"";return`${s}//${a}${n}`};const g=({name:e,message:t,stack:i})=>({name:e,message:t,stack:i}),m=e=>{const t=new Error;return Object.keys(e).forEach(i=>t[i]=e[i]),t};var h=(e,t,i)=>{const{localName:o,local:c,remote:l,originForSending:_,originForReceiving:u}=e;let d=!1;const p=e=>{if(e.source!==l||e.data.penpal!==s.Call)return;if(e.origin!==u)return void i(`${o} received message from origin ${e.origin} which did not match expected origin ${u}`);const r=e.data,{methodName:c,args:p,id:m}=r;i(`${o}: Received ${c}() call`);const h=e=>t=>{if(i(`${o}: Sending ${c}() reply`),d)return void i(`${o}: Unable to send ${c}() reply due to destroyed connection`);const r={penpal:s.Reply,id:m,resolution:e,returnValue:t};e===a.Rejected&&t instanceof Error&&(r.returnValue=g(t),r.returnValueIsError=!0);try{l.postMessage(r,_)}catch(u){if(u.name===n.DataCloneError){const e={penpal:s.Reply,id:m,resolution:a.Rejected,returnValue:g(u),returnValueIsError:!0};l.postMessage(e,_)}throw u}};new Promise(e=>e(t[c].apply(t,p))).then(h(a.Fulfilled),h(a.Rejected))};return c.addEventListener(r.Message,p),()=>{d=!0,c.removeEventListener(r.Message,p)}};let f=0;var v=()=>++f,b=(e,t,i,n,c)=>{const{localName:l,local:_,remote:u,originForSending:d,originForReceiving:p}=t;let g=!1;c(l+": Connecting call sender");const h=e=>(...t)=>{let i;c(`${l}: Sending ${e}() call`);try{u.closed&&(i=!0)}catch(h){i=!0}if(i&&n(),g){const t=new Error(`Unable to send ${e}() call due to destroyed connection`);throw t.code=o.ConnectionDestroyed,t}return new Promise((i,o)=>{const n=v(),g=t=>{if(t.source!==u||t.data.penpal!==s.Reply||t.data.id!==n)return;if(t.origin!==p)return void c(`${l} received message from origin ${t.origin} which did not match expected origin ${p}`);const d=t.data;c(`${l}: Received ${e}() reply`),_.removeEventListener(r.Message,g);let h=d.returnValue;d.returnValueIsError&&(h=m(h)),(d.resolution===a.Fulfilled?i:o)(h)};_.addEventListener(r.Message,g);const h={penpal:s.Call,id:n,methodName:e,args:t};u.postMessage(h,d)})};return i.reduce((e,t)=>(e[t]=h(t),e),e),()=>{g=!0}},k=(e,t,i,s,a)=>{const{destroy:o,onDestroy:n}=s;let r,c;const l={};return s=>{if(s.origin!==t)return void a(`Parent: Handshake - Received ACK message from origin ${s.origin} which did not match expected origin ${t}`);a("Parent: Handshake - Received ACK");const _={localName:"Parent",local:window,remote:s.source,originForSending:i,originForReceiving:t};r&&r(),r=h(_,e,a),n(r),c&&c.forEach(e=>{delete l[e]}),c=s.data.methodNames;const u=b(l,_,c,o,a);return n(u),l}},y=(e,t,i,a)=>o=>{if(o.origin!==i)return void e(`Parent: Handshake - Received SYN message from origin ${o.origin} which did not match expected origin ${i}`);e("Parent: Handshake - Received SYN, responding with SYN-ACK");const n={penpal:s.SynAck,methodNames:Object.keys(t)};o.source.postMessage(n,a)};const C=6e4;var D=(e,t)=>{const{destroy:i,onDestroy:s}=t,a=setInterval(()=>{e.isConnected||(clearInterval(a),i())},C);s(()=>{clearInterval(a)})},E=(e,t)=>{let i;return void 0!==e&&(i=window.setTimeout(()=>{const i=new Error(`Connection timed out after ${e}ms`);i.code=o.ConnectionTimeout,t(i)},e)),()=>{clearTimeout(i)}},w=e=>{if(!e.src&&!e.srcdoc){const e=new Error("Iframe must have src or srcdoc property defined.");throw e.code=o.NoIframeSrc,e}},x=e=>{let{iframe:t,methods:i={},childOrigin:a,timeout:n,debug:_=!1}=e;const u=l(_),d=c(),{onDestroy:g,destroy:m}=d;a||(w(t),a=p(t.src));const h="null"===a?"*":a,f=y(u,i,a,h),v=k(i,a,h,d,u),b=new Promise((e,i)=>{const a=E(n,m),c=i=>{if(i.source===t.contentWindow&&i.data)if(i.data.penpal!==s.Syn)if(i.data.penpal!==s.Ack);else{const t=v(i);t&&(a(),e(t))}else f(i)};window.addEventListener(r.Message,c),u("Parent: Awaiting handshake"),D(t,d),g(e=>{window.removeEventListener(r.Message,c),e||(e=new Error("Connection destroyed"),e.code=o.ConnectionDestroyed),i(e)})});return{promise:b,destroy(){m()}}};const O={TEMPLATE_EDITOR_URL:"https://open.gaoding.com/design",KOUTU_EDITOR_URL:"https://open.gaoding.com/clip",IMAGE_EDITOR_URL:"https://open.gaoding.com/design/image",OPEN_PLATFORM_ORIGIN:"https://open.gaoding.com",get VERSION(){return"2.1.0"}};var I=(e,t,i)=>new Promise((s,a)=>{var o=e=>{try{r(i.next(e))}catch(t){a(t)}},n=e=>{try{r(i.throw(e))}catch(t){a(t)}},r=e=>e.done?s(e.value):Promise.resolve(e.value).then(o,n);r((i=i.apply(e,t)).next())});function R(e,t){const i=document.createElement("div");i.style.cssText="\n        position: relative;\n        width: calc(100vw - 100px);\n        min-width: 1280px;\n        height: calc(100vh - 80px);\n        min-height: 604px;\n        margin: 50px auto;\n        background: rgb(255, 255, 255);\n        display: block;\n    ";const s=document.createElement("div");s.style.cssText="\n        font-size: 13px;\n        width: 42px;\n        height: 42px;\n        text-align: right;\n        position: absolute;\n        right: -42px;\n        top: 0px;\n        background: no-repeat rgb(0, 0, 0);\n        cursor: pointer;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n    ";const a=document.createElement("img");a.src="https://st-gdx.dancf.com/gaodingx/34555636/design/20190509-142237-249d.png",a.style.cssText="display: block; width: 24px;",s.appendChild(a);const o=document.createElement("div");o.style.cssText="\n        position: fixed;\n        left: 0px;\n        top: 0px;\n        width: 100%;\n        height: 100%;\n        z-index: 1000;\n    ",o.className="gaoding-editor-iframe-dialog",i.appendChild(s),i.appendChild(e),o.appendChild(i),i.appendChild(e);const n=document.createElement("div");n.style.cssText="\n        position: fixed;\n        inset: 0px;\n        z-index: 999;\n        background-color: rgb(0, 0, 0);\n        opacity: 0.5;\n    ";let r=!1,c="";function l(){const e=document.querySelector(".gaoding-editor-iframe-dialog");e&&(r?(c=document.documentElement.style.overflow,document.documentElement.style.overflow="hidden"):document.documentElement.style.overflow=c)}function _(){return I(this,null,(function*(){var e,i;if(t){const e=yield t();if(!1===e)return}r=!1,l(),null==(e=n.parentElement)||e.removeChild(n),null==(i=o.parentElement)||i.removeChild(o)}))}function u(){r=!0,document.body.appendChild(n),document.body.appendChild(o),l()}return s.addEventListener("click",_),{open:u,close:_}}function S(e){const t=document.createElement("iframe");t.style.cssText="\n        display: block;\n        width: 100%;\n        height: 100%;\n    ",t.referrerPolicy="strict-origin-when-cross-origin",t.className="gaoding-iframe",t.setAttribute("frameborder","0");let i=null,s="";function a(a,o){return I(this,null,(function*(){const n=Object.assign({},o,{app_id:e.appId,v:O.VERSION}),r=`${a}?${Object.entries(n).filter(([e,t])=>void 0!==t).map(([e,t])=>`${e}=${t}`).join("&")}`;s!==r&&(s=r,o?(t.src=r,i&&i.destroy(),i=x({iframe:t,methods:e.methods})):t.src=a)}))}let o=null;function n(){if(o)return o.open();const i="string"===typeof e.container?document.body.querySelector(e.container):e.container;if(!i)throw new Error("无效的 container "+e.container);i.appendChild(t)}function r(){if(null==o?void 0:o.close)return o.close();t.parentElement&&t.parentElement.removeChild(t)}function c(i){o=R(t,e.onClose),e.container=i}return e.container||(o=R(t,e.onClose)),{remove:r,insert:n,update:a,iframe:t,restetContainer:c,getService(){return I(this,null,(function*(){return i.promise}))}}}var P=Object.defineProperty,A=(e,t,i)=>t in e?P(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,T=(e,t,i)=>(A(e,"symbol"!==typeof t?t+"":t,i),i),j=(e,t,i)=>new Promise((s,a)=>{var o=e=>{try{r(i.next(e))}catch(t){a(t)}},n=e=>{try{r(i.throw(e))}catch(t){a(t)}},r=e=>e.done?s(e.value):Promise.resolve(e.value).then(o,n);r((i=i.apply(e,t)).next())});class M{constructor(){T(this,"events"),this.events={}}add(e,t){if(!t)return()=>{};const i=this.get(e);return i.push(t),this.events[e]=i,()=>this.off(e,t)}on(e,t){return this.add(e,t)}once(e,t){const i=this.add(e,(...e)=>{i(),t(...e)});return i}off(e,t){const i=this.get(e);if(i){const e=i.findIndex(e=>e===t);i.splice(e,1)}}get(e){return this.events[e]||[]}invoke(e,...t){const i=[...this.get(e)];for(const s of i)s(...t)}emit(e,...t){this.invoke(e,...t)}asyncInvoke(e,...t){return j(this,null,(function*(){const i=[...this.get(e)];for(const e of i)yield e(...t)}))}asyncInvokeAll(e,...t){return j(this,null,(function*(){yield Promise.all(this.get(e).map(e=>e(...t)))}))}}var U=(e,t,i)=>new Promise((s,a)=>{var o=e=>{try{r(i.next(e))}catch(t){a(t)}},n=e=>{try{r(i.throw(e))}catch(t){a(t)}},r=e=>e.done?s(e.value):Promise.resolve(e.value).then(o,n);r((i=i.apply(e,t)).next())});function L(e){return U(this,null,(function*(){const t=e instanceof File?e.name:""+e.type;return new File([yield e.arrayBuffer()],t,{type:e.type})}))}var B={exports:{}},K=function(e,t){return function(){for(var i=new Array(arguments.length),s=0;s<i.length;s++)i[s]=arguments[s];return e.apply(t,i)}},$=K,z=Object.prototype.toString;function N(e){return"[object Array]"===z.call(e)}function W(e){return"undefined"===typeof e}function q(e){return null!==e&&!W(e)&&null!==e.constructor&&!W(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function G(e){return"[object ArrayBuffer]"===z.call(e)}function J(e){return"undefined"!==typeof FormData&&e instanceof FormData}function F(e){var t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer,t}function V(e){return"string"===typeof e}function H(e){return"number"===typeof e}function X(e){return null!==e&&"object"===typeof e}function Y(e){if("[object Object]"!==z.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function Z(e){return"[object Date]"===z.call(e)}function Q(e){return"[object File]"===z.call(e)}function ee(e){return"[object Blob]"===z.call(e)}function te(e){return"[object Function]"===z.call(e)}function ie(e){return X(e)&&te(e.pipe)}function se(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams}function ae(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function oe(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)}function ne(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),N(e))for(var i=0,s=e.length;i<s;i++)t.call(null,e[i],i,e);else for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.call(null,e[a],a,e)}function re(){var e={};function t(t,i){Y(e[i])&&Y(t)?e[i]=re(e[i],t):Y(t)?e[i]=re({},t):N(t)?e[i]=t.slice():e[i]=t}for(var i=0,s=arguments.length;i<s;i++)ne(arguments[i],t);return e}function ce(e,t,i){return ne(t,(function(t,s){e[s]=i&&"function"===typeof t?$(t,i):t})),e}function le(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}var _e={isArray:N,isArrayBuffer:G,isBuffer:q,isFormData:J,isArrayBufferView:F,isString:V,isNumber:H,isObject:X,isPlainObject:Y,isUndefined:W,isDate:Z,isFile:Q,isBlob:ee,isFunction:te,isStream:ie,isURLSearchParams:se,isStandardBrowserEnv:oe,forEach:ne,merge:re,extend:ce,trim:ae,stripBOM:le},ue=_e;function de(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var pe=function(e,t,i){if(!t)return e;var s;if(i)s=i(t);else if(ue.isURLSearchParams(t))s=t.toString();else{var a=[];ue.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(ue.isArray(e)?t+="[]":e=[e],ue.forEach(e,(function(e){ue.isDate(e)?e=e.toISOString():ue.isObject(e)&&(e=JSON.stringify(e)),a.push(de(t)+"="+de(e))})))})),s=a.join("&")}if(s){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e},ge=_e;function me(){this.handlers=[]}me.prototype.use=function(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!i&&i.synchronous,runWhen:i?i.runWhen:null}),this.handlers.length-1},me.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},me.prototype.forEach=function(e){ge.forEach(this.handlers,(function(t){null!==t&&e(t)}))};var he=me,fe=_e,ve=function(e,t){fe.forEach(e,(function(i,s){s!==t&&s.toUpperCase()===t.toUpperCase()&&(e[t]=i,delete e[s])}))},be=function(e,t,i,s,a){return e.config=t,i&&(e.code=i),e.request=s,e.response=a,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e},ke=be,ye=function(e,t,i,s,a){var o=new Error(e);return ke(o,t,i,s,a)},Ce=ye,De=function(e,t,i){var s=i.config.validateStatus;i.status&&s&&!s(i.status)?t(Ce("Request failed with status code "+i.status,i.config,null,i.request,i)):e(i)},Ee=_e,we=Ee.isStandardBrowserEnv()?function(){return{write:function(e,t,i,s,a,o){var n=[];n.push(e+"="+encodeURIComponent(t)),Ee.isNumber(i)&&n.push("expires="+new Date(i).toGMTString()),Ee.isString(s)&&n.push("path="+s),Ee.isString(a)&&n.push("domain="+a),!0===o&&n.push("secure"),document.cookie=n.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),xe=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)},Oe=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e},Ie=xe,Re=Oe,Se=function(e,t){return e&&!Ie(t)?Re(e,t):t},Pe=_e,Ae=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],Te=function(e){var t,i,s,a={};return e?(Pe.forEach(e.split("\n"),(function(e){if(s=e.indexOf(":"),t=Pe.trim(e.substr(0,s)).toLowerCase(),i=Pe.trim(e.substr(s+1)),t){if(a[t]&&Ae.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([i]):a[t]?a[t]+", "+i:i}})),a):a},je=_e,Me=je.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");function s(e){var s=e;return t&&(i.setAttribute("href",s),s=i.href),i.setAttribute("href",s),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname}}return e=s(window.location.href),function(t){var i=je.isString(t)?s(t):t;return i.protocol===e.protocol&&i.host===e.host}}():function(){return function(){return!0}}(),Ue=_e,Le=De,Be=we,Ke=pe,$e=Se,ze=Te,Ne=Me,We=ye,qe=function(e){return new Promise((function(t,i){var s=e.data,a=e.headers,o=e.responseType;Ue.isFormData(s)&&delete a["Content-Type"];var n=new XMLHttpRequest;if(e.auth){var r=e.auth.username||"",c=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";a.Authorization="Basic "+btoa(r+":"+c)}var l=$e(e.baseURL,e.url);function _(){if(n){var s="getAllResponseHeaders"in n?ze(n.getAllResponseHeaders()):null,a=o&&"text"!==o&&"json"!==o?n.response:n.responseText,r={data:a,status:n.status,statusText:n.statusText,headers:s,config:e,request:n};Le(t,i,r),n=null}}if(n.open(e.method.toUpperCase(),Ke(l,e.params,e.paramsSerializer),!0),n.timeout=e.timeout,"onloadend"in n?n.onloadend=_:n.onreadystatechange=function(){n&&4===n.readyState&&(0!==n.status||n.responseURL&&0===n.responseURL.indexOf("file:"))&&setTimeout(_)},n.onabort=function(){n&&(i(We("Request aborted",e,"ECONNABORTED",n)),n=null)},n.onerror=function(){i(We("Network Error",e,null,n)),n=null},n.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),i(We(t,e,e.transitional&&e.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",n)),n=null},Ue.isStandardBrowserEnv()){var u=(e.withCredentials||Ne(l))&&e.xsrfCookieName?Be.read(e.xsrfCookieName):void 0;u&&(a[e.xsrfHeaderName]=u)}"setRequestHeader"in n&&Ue.forEach(a,(function(e,t){"undefined"===typeof s&&"content-type"===t.toLowerCase()?delete a[t]:n.setRequestHeader(t,e)})),Ue.isUndefined(e.withCredentials)||(n.withCredentials=!!e.withCredentials),o&&"json"!==o&&(n.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&n.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&n.upload&&n.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){n&&(n.abort(),i(e),n=null)})),s||(s=null),n.send(s)}))},Ge=_e,Je=ve,Fe=be,Ve={"Content-Type":"application/x-www-form-urlencoded"};function He(e,t){!Ge.isUndefined(e)&&Ge.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function Xe(){var t;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof e&&"[object process]"===Object.prototype.toString.call(e))&&(t=qe),t}function Ye(e,t,i){if(Ge.isString(e))try{return(t||JSON.parse)(e),Ge.trim(e)}catch(s){if("SyntaxError"!==s.name)throw s}return(i||JSON.stringify)(e)}var Ze={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:Xe(),transformRequest:[function(e,t){return Je(t,"Accept"),Je(t,"Content-Type"),Ge.isFormData(e)||Ge.isArrayBuffer(e)||Ge.isBuffer(e)||Ge.isStream(e)||Ge.isFile(e)||Ge.isBlob(e)?e:Ge.isArrayBufferView(e)?e.buffer:Ge.isURLSearchParams(e)?(He(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):Ge.isObject(e)||t&&"application/json"===t["Content-Type"]?(He(t,"application/json"),Ye(e)):e}],transformResponse:[function(e){var t=this.transitional,i=t&&t.silentJSONParsing,s=t&&t.forcedJSONParsing,a=!i&&"json"===this.responseType;if(a||s&&Ge.isString(e)&&e.length)try{return JSON.parse(e)}catch(o){if(a){if("SyntaxError"===o.name)throw Fe(o,this,"E_JSON_PARSE");throw o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Ge.forEach(["delete","get","head"],(function(e){Ze.headers[e]={}})),Ge.forEach(["post","put","patch"],(function(e){Ze.headers[e]=Ge.merge(Ve)}));var Qe=Ze,et=_e,tt=Qe,it=function(e,t,i){var s=this||tt;return et.forEach(i,(function(i){e=i.call(s,e,t)})),e},st=function(e){return!(!e||!e.__CANCEL__)},at=_e,ot=it,nt=st,rt=Qe;function ct(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var lt=function(e){ct(e),e.headers=e.headers||{},e.data=ot.call(e,e.data,e.headers,e.transformRequest),e.headers=at.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),at.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]}));var t=e.adapter||rt.adapter;return t(e).then((function(t){return ct(e),t.data=ot.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return nt(t)||(ct(e),t&&t.response&&(t.response.data=ot.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))},_t=_e,ut=function(e,t){t=t||{};var i={},s=["url","method","data"],a=["headers","auth","proxy","params"],o=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],n=["validateStatus"];function r(e,t){return _t.isPlainObject(e)&&_t.isPlainObject(t)?_t.merge(e,t):_t.isPlainObject(t)?_t.merge({},t):_t.isArray(t)?t.slice():t}function c(s){_t.isUndefined(t[s])?_t.isUndefined(e[s])||(i[s]=r(void 0,e[s])):i[s]=r(e[s],t[s])}_t.forEach(s,(function(e){_t.isUndefined(t[e])||(i[e]=r(void 0,t[e]))})),_t.forEach(a,c),_t.forEach(o,(function(s){_t.isUndefined(t[s])?_t.isUndefined(e[s])||(i[s]=r(void 0,e[s])):i[s]=r(void 0,t[s])})),_t.forEach(n,(function(s){s in t?i[s]=r(e[s],t[s]):s in e&&(i[s]=r(void 0,e[s]))}));var l=s.concat(a).concat(o).concat(n),_=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===l.indexOf(e)}));return _t.forEach(_,c),i};const dt="axios",pt="0.21.4",gt="Promise based HTTP client for the browser and node.js",mt="index.js",ht={test:"grunt test",start:"node ./sandbox/server.js",build:"NODE_ENV=production grunt build",preversion:"npm test",version:"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json",postversion:"git push && git push --tags",examples:"node ./examples/server.js",coveralls:"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js",fix:"eslint --fix lib/**/*.js"},ft={type:"git",url:"https://github.com/axios/axios.git"},vt=["xhr","http","ajax","promise","node"],bt="Matt Zabriskie",kt="MIT",yt={url:"https://github.com/axios/axios/issues"},Ct="https://axios-http.com",Dt={coveralls:"^3.0.0","es6-promise":"^4.2.4",grunt:"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1",karma:"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2",minimist:"^1.2.0",mocha:"^8.2.1",sinon:"^4.5.0","terser-webpack-plugin":"^4.2.3",typescript:"^4.0.5","url-search-params":"^0.10.0",webpack:"^4.44.2","webpack-dev-server":"^3.11.0"},Et={"./lib/adapters/http.js":"./lib/adapters/xhr.js"},wt="dist/axios.min.js",xt="dist/axios.min.js",Ot="./index.d.ts",It={"follow-redirects":"^1.14.0"},Rt=[{path:"./dist/axios.min.js",threshold:"5kB"}];var St={name:dt,version:pt,description:gt,main:mt,scripts:ht,repository:ft,keywords:vt,author:bt,license:kt,bugs:yt,homepage:Ct,devDependencies:Dt,browser:Et,jsdelivr:wt,unpkg:xt,typings:Ot,dependencies:It,bundlesize:Rt},Pt=St,At={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){At[e]=function(i){return typeof i===e||"a"+(t<1?"n ":" ")+e}}));var Tt={},jt=Pt.version.split(".");function Mt(e,t){for(var i=t?t.split("."):jt,s=e.split("."),a=0;a<3;a++){if(i[a]>s[a])return!0;if(i[a]<s[a])return!1}return!1}function Ut(e,t,i){if("object"!==typeof e)throw new TypeError("options must be an object");var s=Object.keys(e),a=s.length;while(a-- >0){var o=s[a],n=t[o];if(n){var r=e[o],c=void 0===r||n(r,o,e);if(!0!==c)throw new TypeError("option "+o+" must be "+c)}else if(!0!==i)throw Error("Unknown option "+o)}}At.transitional=function(e,t,i){var s=t&&Mt(t);function a(e,t){return"[Axios v"+Pt.version+"] Transitional option '"+e+"'"+t+(i?". "+i:"")}return function(i,o,n){if(!1===e)throw new Error(a(o," has been removed in "+t));return s&&!Tt[o]&&(Tt[o]=!0,console.warn(a(o," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(i,o,n)}};var Lt={isOlderVersion:Mt,assertOptions:Ut,validators:At},Bt=_e,Kt=pe,$t=he,zt=lt,Nt=ut,Wt=Lt,qt=Wt.validators;function Gt(e){this.defaults=e,this.interceptors={request:new $t,response:new $t}}Gt.prototype.request=function(e){"string"===typeof e?(e=arguments[1]||{},e.url=arguments[0]):e=e||{},e=Nt(this.defaults,e),e.method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&Wt.assertOptions(t,{silentJSONParsing:qt.transitional(qt.boolean,"1.0.0"),forcedJSONParsing:qt.transitional(qt.boolean,"1.0.0"),clarifyTimeoutError:qt.transitional(qt.boolean,"1.0.0")},!1);var i=[],s=!0;this.interceptors.request.forEach((function(t){"function"===typeof t.runWhen&&!1===t.runWhen(e)||(s=s&&t.synchronous,i.unshift(t.fulfilled,t.rejected))}));var a,o=[];if(this.interceptors.response.forEach((function(e){o.push(e.fulfilled,e.rejected)})),!s){var n=[zt,void 0];Array.prototype.unshift.apply(n,i),n=n.concat(o),a=Promise.resolve(e);while(n.length)a=a.then(n.shift(),n.shift());return a}var r=e;while(i.length){var c=i.shift(),l=i.shift();try{r=c(r)}catch(_){l(_);break}}try{a=zt(r)}catch(_){return Promise.reject(_)}while(o.length)a=a.then(o.shift(),o.shift());return a},Gt.prototype.getUri=function(e){return e=Nt(this.defaults,e),Kt(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},Bt.forEach(["delete","get","head","options"],(function(e){Gt.prototype[e]=function(t,i){return this.request(Nt(i||{},{method:e,url:t,data:(i||{}).data}))}})),Bt.forEach(["post","put","patch"],(function(e){Gt.prototype[e]=function(t,i,s){return this.request(Nt(s||{},{method:e,url:t,data:i}))}}));var Jt=Gt;function Ft(e){this.message=e}Ft.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},Ft.prototype.__CANCEL__=!0;var Vt=Ft,Ht=Vt;function Xt(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var i=this;e((function(e){i.reason||(i.reason=new Ht(e),t(i.reason))}))}Xt.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},Xt.source=function(){var e,t=new Xt((function(t){e=t}));return{token:t,cancel:e}};var Yt=Xt,Zt=function(e){return function(t){return e.apply(null,t)}},Qt=function(e){return"object"===typeof e&&!0===e.isAxiosError},ei=_e,ti=K,ii=Jt,si=ut,ai=Qe;function oi(e){var t=new ii(e),i=ti(ii.prototype.request,t);return ei.extend(i,ii.prototype,t),ei.extend(i,t),i}var ni=oi(ai);ni.Axios=ii,ni.create=function(e){return oi(si(ni.defaults,e))},ni.Cancel=Vt,ni.CancelToken=Yt,ni.isCancel=st,ni.all=function(e){return Promise.all(e)},ni.spread=Zt,ni.isAxiosError=Qt,B.exports=ni,B.exports.default=ni;B.exports,Object.defineProperty;var ri=(e,t,i)=>new Promise((s,a)=>{var o=e=>{try{r(i.next(e))}catch(t){a(t)}},n=e=>{try{r(i.throw(e))}catch(t){a(t)}},r=e=>e.done?s(e.value):Promise.resolve(e.value).then(o,n);r((i=i.apply(e,t)).next())});function ci(e){const t=new M,i=[];function s(){i.forEach(e=>e()),i.length=0}const a=S({container:e.container,appId:e.appId,methods:{emit(e,...i){return ri(this,null,(function*(){t.emit(e,...i)}))},onload(){t.emit("load")},getUseRightToken(t){return ri(this,null,(function*(){if(!e.getUseRightCert)return!1;const i=yield e.getUseRightCert(t);return i instanceof Error?{message:i.message}:i}))},getUserCode(){return ri(this,null,(function*(){if(!e.authorize)return!1;try{return yield e.authorize()}catch(t){l()}}))},download(e){return ri(this,null,(function*(){t.emit("save",e)}))}}});function o(e,i){t.on(e,i)}function n(e,i){t.off(e,i)}function r(o){return ri(this,arguments,(function*(o,n={}){return s(),a.update(O.IMAGE_EDITOR_URL,{version:e.authorize?"IE002":"IE001"}),a.insert(),t.once("load",()=>ri(this,null,(function*(){const t=yield a.getService();t.init({appId:e.appId,v:O.VERSION,version:e.authorize?"IE002":"IE001",fileTypes:n.fileTypes,disableModules:n.disableModules});const i=yield a.getService(),s=yield Promise.all((Array.isArray(o)?o:[o]).map(e=>ri(this,null,(function*(){return"string"===typeof e?e:yield L(e)}))));i.importFile(s)}))),new Promise(e=>{i.push(t.once("save",t=>e(t))),i.push(t.once("close",()=>e(!1)))})}))}function c(o){return ri(this,arguments,(function*(o,n={}){return s(),a.update(O.IMAGE_EDITOR_URL,{id:o,mode:"user",version:e.authorize?"IE002":"IE001"}),a.insert(),t.once("load",()=>ri(this,null,(function*(){const t=yield a.getService();t.init({appId:e.appId,v:O.VERSION,version:e.authorize?"IE002":"IE001",fileTypes:n.fileTypes,disableModules:n.disableModules})}))),new Promise(e=>{i.push(t.once("save",t=>e(t))),i.push(t.once("close",()=>e(!1)))})}))}function l(){t.emit("close"),a.remove()}function _(e){t.add("save",e)}function u(e){t.add("close",e)}return{editImage:c,close:l,onSave:_,onClose:u,importImage:r,on:o,off:n}}}).call(this,i("4362"))},"21a6":function(e,t,i){(function(i){var s,a,o;(function(i,n){a=[],s=n,o="function"===typeof s?s.apply(t,a):s,void 0===o||(e.exports=o)})(0,(function(){"use strict";function t(e,t){return"undefined"==typeof t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function s(e,t,i){var s=new XMLHttpRequest;s.open("GET",e),s.responseType="blob",s.onload=function(){c(s.response,t,i)},s.onerror=function(){console.error("could not download file")},s.send()}function a(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function o(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(s){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var n="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof i&&i.global===i?i:void 0,r=n.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=n.saveAs||("object"!=typeof window||window!==n?function(){}:"download"in HTMLAnchorElement.prototype&&!r?function(e,t,i){var r=n.URL||n.webkitURL,c=document.createElement("a");t=t||e.name||"download",c.download=t,c.rel="noopener","string"==typeof e?(c.href=e,c.origin===location.origin?o(c):a(c.href)?s(e,t,i):o(c,c.target="_blank")):(c.href=r.createObjectURL(e),setTimeout((function(){r.revokeObjectURL(c.href)}),4e4),setTimeout((function(){o(c)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,i,n){if(i=i||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,n),i);else if(a(e))s(e,i,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout((function(){o(r)}))}}:function(e,t,i,a){if(a=a||open("","_blank"),a&&(a.document.title=a.document.body.innerText="downloading..."),"string"==typeof e)return s(e,t,i);var o="application/octet-stream"===e.type,c=/constructor/i.test(n.HTMLElement)||n.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||o&&c||r)&&"undefined"!=typeof FileReader){var _=new FileReader;_.onloadend=function(){var e=_.result;e=l?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=e:location=e,a=null},_.readAsDataURL(e)}else{var u=n.URL||n.webkitURL,d=u.createObjectURL(e);a?a.location=d:location.href=d,a=null,setTimeout((function(){u.revokeObjectURL(d)}),4e4)}});n.saveAs=c.saveAs=c,e.exports=c}))}).call(this,i("c8ba"))},"2b22":function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"goods_tag_dialog"},[i("div",{staticClass:"on_new_dialog_box"},[i("div",[e._v("商品标签：")]),i("el-select",{staticStyle:{width:"200px"},attrs:{size:"mini"},model:{value:e.goodsTagAction,callback:function(t){e.goodsTagAction=t},expression:"goodsTagAction"}},e._l(e.goodsTagList,(function(t,s){return i("el-option",{key:t.id,attrs:{value:t.label_name}},[i("div",{staticStyle:{display:"flex","justify-content":"space-between","align-items":"center"}},[i("div",[e._v(e._s(t.label_name))]),i("i",{staticClass:"el-icon-circle-close close-right",on:{click:function(i){return i.stopPropagation(),e.deleteClick(t.id,s)}}})])])})),1)],1),i("div",{staticClass:"on_new_dialog_box",staticStyle:{"margin-top":"10px"}},[i("div",[e._v("当前标签：")]),i("el-input",{staticStyle:{width:"200px"},attrs:{size:"mini"},model:{value:e.goodsTagCurrent,callback:function(t){e.goodsTagCurrent=t},expression:"goodsTagCurrent"}})],1),i("div",{staticClass:"on_new_dialog_box",staticStyle:{"justify-content":"space-evenly","margin-top":"10px"}},[i("el-button",{attrs:{type:"primary",size:"mini",loading:e.loadingBut},on:{click:e.updateGoodsTag}},[e._v("　确　定　")]),i("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.$emit("goodsTagChange","")}}},[e._v("　取　消　")])],1)])},a=[],o=i("2909"),n=i("1da1"),r=(i("7db0"),i("d81d"),i("a434"),i("96cf"),i("0e0b"),{name:"GoodsLabel",props:{goodsTableSelect:{type:Array,default:function(){return[]}},selectLabel:{type:String,default:function(){return""}}},data:function(){return{goodsTagList:[],goodsTagAction:"",goodsTagCurrent:"",loadingBut:!1}},watch:{goodsTagAction:function(e){this.goodsTagCurrent=e},selectLabel:function(e){console.log(this.selectLabel),this.goodsTagAction=e}},mounted:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(e.selectLabel),t.next=3,e.enterGoodsTag();case 3:case"end":return t.stop()}}),t)})))()},methods:{updateGoodsTag:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var i,s,a,n,r,c,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.loadingBut=!0,e.goodsTagCurrent===e.goodsTagAction){t.next=19;break}return t.next=4,e.$commodityService.addGoodsTag(e.goodsTagCurrent);case 4:if(i=t.sent,s=JSON.parse(i),200!==s.code){t.next=16;break}return t.next=9,e.$commodityService.getGoodsTagList();case 9:a=t.sent,n=JSON.parse(a),e.goodsTagList=n.data||[],e.$appConfig.temporaryCacheInfo("save","goodsLabelList",n.data),e.goodsTagAction=e.goodsTagCurrent,t.next=19;break;case 16:return e.loadingBut=!1,e.$message.error("商品标签设置失败"),t.abrupt("return");case 19:return r=e.goodsTagList.find((function(t){return t.label_name===e.goodsTagAction})),c=Object(o["a"])(e.goodsTableSelect.map((function(e){return e.id}))),t.next=23,e.$commodityService.addGoodsToTag(r.id,c);case 23:l=t.sent,console.log(l),e.loadingBut=!1,e.$emit("goodsTagChange",{category:r,goodsTagList:e.goodsTagList}),console.log({category:r,goodsTagList:e.goodsTagList});case 28:case"end":return t.stop()}}),t)})))()},enterGoodsTag:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var i,s,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$appConfig.temporaryCacheInfo("get","goodsLabelList","");case 2:if(i=t.sent,"{}"===i){t.next=8;break}s=JSON.parse(i),s&&s.length>0&&(e.goodsTagList=s||[]),t.next=14;break;case 8:return t.next=10,e.$commodityService.getGoodsTagList();case 10:a=t.sent,o=JSON.parse(a),e.goodsTagList=o.data||[],e.$appConfig.temporaryCacheInfo("save","goodsLabelList",e.goodsTagList);case 14:e.goodsTagAction=e.selectLabel||e.goodsTagList[0].label_name,e.goodsTagCurrent=e.selectLabel||e.goodsTagList[0].label_name;case 16:case"end":return t.stop()}}),t)})))()},deleteClick:function(e,t){var i=this;return Object(n["a"])(regeneratorRuntime.mark((function s(){var a,o;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return i.goodsTagList.splice(t,1),i.$commodityService.deleteGoodsTag([e]),s.next=4,i.$commodityService.getGoodsTagList();case 4:a=s.sent,o=JSON.parse(a),i.goodsTagList=o.data||[],i.$appConfig.temporaryCacheInfo("save","goodsLabelList",i.goodsTagList);case 8:case"end":return s.stop()}}),s)})))()}}}),c=r,l=i("2877"),_=Object(l["a"])(c,s,a,!1,null,"0e8d062d",null);t["a"]=_.exports},"5def":function(e,t,i){},"8d07":function(e,t,i){"use strict";i("5def")},"925d":function(e,t,i){"use strict";i("faf2")},9772:function(e,t,i){},b0bd:function(e,t,i){"use strict";i("9772")},c9c2:function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.goodsDetails?i("el-row",{staticClass:"goods-edit-details"},[i("el-tabs",{attrs:{type:"card"},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[i("el-tab-pane",{staticClass:"edit-details-box",attrs:{label:"商品信息",name:"information"}},[i("div",{staticClass:"goods-detail-block"},[i("div",{staticClass:"keepRight keepTop"},[e._v("商品名称：")]),i("div",{staticClass:"goods-detail-box"},[i("el-input",{attrs:{type:"textarea",rows:2,resize:"none",placeholder:"",size:"mini"},model:{value:e.goodsDetails.title,callback:function(t){e.$set(e.goodsDetails,"title",t)},expression:"goodsDetails.title"}})],1),i("div",{staticStyle:{color:"red",width:"60px","padding-left":"10px"}},[e._v(" "+e._s(e.goodsDetails.title&&e.goodsDetails.title.length||0)+" ")])]),i("div",{staticClass:"goods-detail-block"},[i("div",{staticClass:"keepRight keepTop"},[e._v("商品描述：")]),i("div",{staticClass:"goods-detail-box"},[i("el-input",{attrs:{type:"textarea",rows:8,resize:"none",placeholder:"",size:"mini"},model:{value:e.goodsDetails.description,callback:function(t){e.$set(e.goodsDetails,"description",t)},expression:"goodsDetails.description"}})],1),i("div",{staticStyle:{color:"red",width:"60px","padding-left":"10px"}},[e._v(" "+e._s(e.goodsDetails.description&&e.goodsDetails.description.length||0)+" ")])]),i("div",{staticClass:"goods-detail-block"},[i("div",{staticClass:"keepRight"},[e._v("重量体积：")]),i("div",{staticClass:"goods-detail-box"},[i("div",{staticStyle:{"margin-right":"15px"}},[e._v("重： "),i("el-input",{staticStyle:{width:"80px","margin-right":"5px"},attrs:{size:"mini"},model:{value:e.goodsDetails.weight,callback:function(t){e.$set(e.goodsDetails,"weight",t)},expression:"goodsDetails.weight"}}),e._v(" KG ")],1),i("div",{staticStyle:{"margin-right":"15px"}},[e._v("长： "),i("el-input",{staticStyle:{width:"80px","margin-right":"5px"},attrs:{size:"mini"},model:{value:e.goodsDetails.long,callback:function(t){e.$set(e.goodsDetails,"long",t)},expression:"goodsDetails.long"}}),e._v(" CM ")],1),i("div",{staticStyle:{"margin-right":"15px"}},[e._v("宽： "),i("el-input",{staticStyle:{width:"80px","margin-right":"5px"},attrs:{size:"mini"},model:{value:e.goodsDetails.width,callback:function(t){e.$set(e.goodsDetails,"width",t)},expression:"goodsDetails.width"}}),e._v(" CM ")],1),i("div",{staticStyle:{"margin-right":"15px"}},[e._v("高： "),i("el-input",{staticStyle:{width:"80px","margin-right":"5px"},attrs:{size:"mini"},model:{value:e.goodsDetails.height,callback:function(t){e.$set(e.goodsDetails,"height",t)},expression:"goodsDetails.height"}}),e._v(" CM ")],1)])]),i("div",{staticClass:"goods-detail-block"},[i("div",{staticClass:"keepRight keepTop"},[e._v("活动主图：")]),i("div",{staticClass:"goods-detail-box"},[i("div",{staticClass:"goods-image-detail"},[e.goodsDetails.images1.length>0?i("el-tooltip",{staticStyle:{width:"160px",height:"160px",display:"inline-block"},attrs:{effect:"light",placement:"right-end","visible-arrow":!1,enterable:!1}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-image",{staticStyle:{width:"400px",height:"400px"},attrs:{src:e.goodsDetails.images1[0].img}})],1),i("el-image",{attrs:{src:e.goodsDetails.images1[0].img}})],1):e._e(),i("div",{staticClass:"goods-image-footer"},[i("el-button",{staticClass:"footer-but",attrs:{type:"",size:"mini"},on:{click:function(t){return e.updateImage(2,0)}}},[e._v("编辑")]),i("el-button",{staticClass:"footer-but",attrs:{type:"",size:"mini"},on:{click:function(t){return e.replaceImage(2,0)}}},[e._v(" 替换 ")]),i("el-button",{staticClass:"footer-but",attrs:{type:"",size:"mini"},on:{click:function(t){return t.stopPropagation(),e.cancelBackground.apply(null,arguments)}}},[e._v("去背景")])],1)],1)])]),i("div",{staticClass:"goods-detail-block"},[i("div",{staticClass:"keepRight keepTop"},[e._v(" 规格图： "),i("el-checkbox",{staticClass:"keepRight-flex",model:{value:e.specImageAllCheck,callback:function(t){e.specImageAllCheck=t},expression:"specImageAllCheck"}},[e._v("全选")]),i("el-button",{staticStyle:{"padding-left":"8px","padding-right":"8px"},attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.downloadImages(1)}}},[e._v("下载规格图 ")])],1),i("div",{staticClass:"goods-detail-box"},e._l(e.goodsDetails.spec_image,(function(t,s){return e.goodsDetails.spec_image.length>0?i("div",{key:s,staticClass:"goods-image-detail"},[e.goodsDetails.images1.length>0?i("el-tooltip",{staticStyle:{width:"160px",height:"160px",display:"inline-block"},attrs:{effect:"light",placement:"right-end","visible-arrow":!1,enterable:!1}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-image",{staticStyle:{width:"400px",height:"400px"},attrs:{src:t}})],1),t?i("el-image",{attrs:{src:t},nativeOn:{click:function(t){return e.multipleCheckClick(s,1)}}}):e._e()],1):e._e(),i("div"),i("div",{staticClass:"goods-image-top-right"},[i("el-checkbox",{model:{value:e.specImageCheck[s],callback:function(t){e.$set(e.specImageCheck,s,t)},expression:"specImageCheck[index]"}})],1),i("div",{staticClass:"goods-image-top"},[i("el-button",{staticClass:"footer-but",attrs:{type:"primary",size:"mini"},on:{click:function(i){return e.setMasterMap(t)}}},[e._v("设为主图")])],1),i("div",{staticClass:"goods-image-footer"},[i("el-button",{staticClass:"footer-but",attrs:{type:"",size:"mini"},on:{click:function(t){return e.updateImage(1,s)}}},[e._v("编辑")]),i("el-button",{staticClass:"footer-but",attrs:{type:"",size:"mini"},on:{click:function(t){return e.replaceImage(1,s)}}},[e._v("替换")]),i("el-button",{staticClass:"footer-but",attrs:{type:"",size:"mini"}},[e._v("以图搜图")])],1)],1):e._e()})),0)]),i("div",{staticClass:"goods-detail-block"},[i("div",{staticClass:"keepRight keepTop"},[e._v(" 轮播图： "),i("el-checkbox",{staticClass:"keepRight-flex",model:{value:e.carouselImageAllCheck,callback:function(t){e.carouselImageAllCheck=t},expression:"carouselImageAllCheck"}},[e._v("全选")]),i("el-button",{staticStyle:{"margin-bottom":"5px","padding-left":"8px","padding-right":"8px"},attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.downloadImages(2)}}},[e._v("下载轮播图 ")]),i("br"),i("el-button",{staticStyle:{margin:"0","padding-left":"8px","padding-right":"8px"},attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.deleteImages(2)}}},[e._v("删除轮播图 ")])],1),i("div",{staticClass:"goods-detail-box"},[i("draggable",{staticClass:"draggable_box",attrs:{group:"imagesDetails",dragClass:"dragClass",ghostClass:"ghostClass",chosenClass:"chosenClass"},on:{start:e.onStart,end:e.onEnd},model:{value:e.goodsDetails.images1,callback:function(t){e.$set(e.goodsDetails,"images1",t)},expression:"goodsDetails.images1"}},[i("transition-group",e._l(e.goodsDetails.images1,(function(t,s){return i("div",{directives:[{name:"show",rawName:"v-show",value:e.goodsDetails.images1.length>0,expression:"goodsDetails.images1.length > 0"}],key:t.id,staticClass:"goods-image-detail"},[e.goodsDetails.images1.length>0?i("el-tooltip",{staticStyle:{width:"160px",height:"160px",display:"inline-block"},attrs:{effect:"light",placement:"right-end","visible-arrow":!1,enterable:!1}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-image",{staticStyle:{width:"400px",height:"400px"},attrs:{src:t.img}})],1),i("el-image",{attrs:{src:t.img},nativeOn:{click:function(t){return e.multipleCheckClick(s,2)}}})],1):e._e(),i("div",{staticClass:"goods-image-top-right"},[i("el-checkbox",{attrs:{size:"small"},model:{value:e.carouselImageCheck[s],callback:function(t){e.$set(e.carouselImageCheck,s,t)},expression:"carouselImageCheck[index]"}})],1),i("div",{staticClass:"goods-image-top"},[i("el-button",{staticClass:"footer-but",attrs:{type:"primary",size:"mini"},on:{click:function(i){return e.setMasterMap(t)}}},[e._v("设为主图 ")])],1),i("div",{staticClass:"goods-image-footer"},[i("el-button",{staticClass:"footer-but",attrs:{type:"",size:"mini"},on:{click:function(t){return e.updateImage(2,s)}}},[e._v("编辑")]),i("el-button",{staticClass:"footer-but",attrs:{type:"",size:"mini"},on:{click:function(t){return e.replaceImage(2,s)}}},[e._v("替换")]),i("el-button",{staticClass:"footer-but",attrs:{type:"",size:"mini"},on:{click:function(t){return e.deleteImages(2,s)}}},[e._v("删除")]),i("el-button",{staticClass:"footer-but",attrs:{type:"",size:"mini"}},[e._v("以图搜图")])],1)],1)})),0)],1),i("div",{staticClass:"goods-image-detail goods-image-add",on:{click:function(t){return e.addImage(2)}}},[i("div",{staticClass:"image-add image-add-cross"}),i("div",{staticClass:"image-add image-add-vertical"})])],1)]),i("div",{staticClass:"goods-detail-block"},[i("div",{staticClass:"keepRight keepTop"},[i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"详情图仅做展示，不做任何处理，如需上新展示，可添加至轮播图中",placement:"top"}},[i("el-button",{attrs:{size:"mini",type:"text"}},[i("i",{staticClass:"el-icon-question"})])],1),e._v(" 详情图： "),i("el-checkbox",{staticClass:"keepRight-flex",model:{value:e.descImageAllCheck,callback:function(t){e.descImageAllCheck=t},expression:"descImageAllCheck"}},[e._v("全选")]),i("el-button",{staticStyle:{"margin-bottom":"5px","padding-left":"8px","padding-right":"8px"},attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.downloadImages(3)}}},[e._v("下载详情图 ")]),i("br"),i("el-button",{staticStyle:{margin:"0","padding-left":"8px","padding-right":"8px"},attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.deleteImages(3)}}},[e._v("删除详情图 ")])],1),i("div",{staticClass:"goods-detail-box"},[i("draggable",{staticClass:"draggable_box",attrs:{group:"imagesDetails",dragClass:"dragClass",ghostClass:"ghostClass",chosenClass:"chosenClass"},on:{start:e.onStart,end:e.onEnd},model:{value:e.goodsDetails.descImages,callback:function(t){e.$set(e.goodsDetails,"descImages",t)},expression:"goodsDetails.descImages"}},[i("transition-group",e._l(e.goodsDetails.descImages,(function(t,s){return i("div",{directives:[{name:"show",rawName:"v-show",value:e.goodsDetails.descImages.length>0,expression:"goodsDetails.descImages.length > 0"}],key:t.id,staticClass:"goods-image-detail"},[e.goodsDetails.images1.length>0?i("el-tooltip",{staticStyle:{width:"160px",height:"160px",display:"inline-block"},attrs:{effect:"light",placement:"right-end","visible-arrow":!1,enterable:!1}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-image",{staticStyle:{width:"400px",height:"400px"},attrs:{src:t.img}})],1),i("el-image",{attrs:{src:t.img},nativeOn:{click:function(t){return e.multipleCheckClick(s,3)}}})],1):e._e(),i("div",{staticClass:"goods-image-top-right"},[i("el-checkbox",{attrs:{size:"small"},model:{value:e.descImageCheck[s],callback:function(t){e.$set(e.descImageCheck,s,t)},expression:"descImageCheck[index]"}})],1),i("div",{staticClass:"goods-image-top"},[i("el-button",{staticClass:"footer-but",attrs:{type:"primary",size:"mini"},on:{click:function(i){return e.setMasterMap(t)}}},[e._v("设为主图 ")])],1),i("div",{staticClass:"goods-image-footer"},[i("el-button",{staticClass:"footer-but",attrs:{type:"",size:"mini"},on:{click:function(t){return e.updateImage(3,s)}}},[e._v("编辑")]),i("el-button",{staticClass:"footer-but",attrs:{type:"",size:"mini"},on:{click:function(t){return e.replaceImage(3,s)}}},[e._v("替换")]),i("el-button",{staticClass:"footer-but",attrs:{type:"",size:"mini"},on:{click:function(t){return e.deleteImages(3,s)}}},[e._v("删除")]),i("el-button",{staticClass:"footer-but",attrs:{type:"",size:"mini"}},[e._v("以图搜图")])],1)],1)})),0)],1),i("div",{staticClass:"goods-image-detail goods-image-add",on:{click:function(t){return e.addImage(3)}}},[i("div",{staticClass:"image-add image-add-cross"}),i("div",{staticClass:"image-add image-add-vertical"})])],1)]),i("div",{staticClass:"goods-detail-block"},[i("div",{staticClass:"keepRight keepTop"},[e._v("尺寸图：")]),i("div",{staticClass:"goods-detail-box"},[e.goodsDetails.sizeImages[0]&&e.goodsDetails.sizeImages[0].img?i("div",{staticClass:"goods-image-detail"},[e.goodsDetails.images1.length>0?i("el-tooltip",{staticStyle:{width:"160px",height:"160px",display:"inline-block"},attrs:{effect:"light",placement:"right-end","visible-arrow":!1,enterable:!1}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-image",{staticStyle:{width:"400px",height:"400px"},attrs:{src:e.goodsDetails.sizeImages[0].img}})],1),i("el-image",{attrs:{src:e.goodsDetails.sizeImages[0].img}})],1):e._e(),i("div",{staticClass:"goods-image-footer"},[i("el-button",{staticClass:"footer-but",attrs:{type:"",size:"mini"},on:{click:function(t){return e.replaceImage(4,0)}}},[e._v("替换")]),i("el-button",{staticClass:"footer-but",attrs:{type:"",size:"mini"},on:{click:function(t){return e.deleteImages(4)}}},[e._v("删除")])],1)],1):i("div",{staticClass:"goods-image-detail goods-image-add",on:{click:function(t){return e.addImage(4)}}},[i("div",{staticClass:"image-add image-add-cross"}),i("div",{staticClass:"image-add image-add-vertical"})])])])]),i("el-tab-pane",{staticClass:"edit-details-box",attrs:{label:"商品规格",name:"specifications"}},[i("div",{staticClass:"goods-detail-block",staticStyle:{display:"block"}},[i("div",{staticClass:"spec_detail"},[i("span",{staticStyle:{"font-weight":"700","white-space":"nowrap"}},[e._v("规格一名称：")]),i("el-input",{staticStyle:{width:"120px","margin-right":"10px"},attrs:{size:"mini",placeholder:"颜色"},model:{value:e.spec_name1,callback:function(t){e.spec_name1=t},expression:"spec_name1"}}),i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.newSpecNumber(1)}}},[e._v("新增规格值")]),i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){e.skuUpdateSpec="1",e.skuUpdateVisible=!0}}},[e._v("批量编辑规格值")]),i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.deleteImages(1)}}},[e._v("批量删除")]),i("el-checkbox",{staticStyle:{"margin-left":"10px"},attrs:{size:"mini"},model:{value:e.skuDetail1AllCheck,callback:function(t){e.skuDetail1AllCheck=t},expression:"skuDetail1AllCheck"}},[e._v("全选")])],1),i("div",{staticClass:"spec_detail"},e._l(e.goodsDetails.tier_variation[e.goodsDetails.tier_variation.spec1],(function(t,s){return e.goodsDetails.tier_variation&&e.goodsDetails.tier_variation[e.goodsDetails.tier_variation.spec1]?i("div",{key:s,staticClass:"sku_detail",on:{click:function(t){return e.multipleCheckClick(s,4)}}},[e.goodsDetails.images1.length>0?i("el-tooltip",{staticStyle:{width:"160px",height:"160px",display:"inline-block"},attrs:{effect:"light",placement:"right-end","visible-arrow":!1,enterable:!1}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-image",{staticStyle:{width:"400px",height:"400px"},attrs:{src:e.goodsDetails.tier_variation.images[s]}})],1),e.goodsDetails.tier_variation.images[s]?i("el-image",{staticClass:"sku_describe_image",attrs:{src:e.goodsDetails.tier_variation.images[s]}}):e._e()],1):e._e(),i("el-input",{staticStyle:{margin:"0 5px",width:"103px"},attrs:{type:"textarea",rows:4,resize:"none",placeholder:t,size:"mini"},on:{change:function(i){return e.updateSpec(t,1,s)}},nativeOn:{click:function(e){e.stopPropagation()}},model:{value:e.goodsDetails.tier_variation[e.goodsDetails.tier_variation.spec1][s],callback:function(t){e.$set(e.goodsDetails.tier_variation[e.goodsDetails.tier_variation.spec1],s,t)},expression:"goodsDetails.tier_variation[goodsDetails.tier_variation.spec1][index]"}}),i("el-checkbox",{staticClass:"sku_describe_check",staticStyle:{"pointer-events":"none"},model:{value:e.skuDetail1Check[s],callback:function(t){e.$set(e.skuDetail1Check,s,t)},expression:"skuDetail1Check[index]"}}),i("el-button",{staticClass:"sku_bottom_but",staticStyle:{bottom:"25px"},attrs:{size:"mini"},nativeOn:{click:function(t){return t.stopPropagation(),e.replaceImage(1,s)}}},[e._v("替换 ")]),i("el-button",{staticClass:"sku_bottom_but",attrs:{size:"mini"},nativeOn:{click:function(t){return t.stopPropagation(),e.deleteImages(1,s)}}},[e._v("删除")])],1):e._e()})),0)]),i("div",{staticClass:"goods-detail-block",staticStyle:{display:"block"}},[i("div",{staticClass:"spec_detail"},[i("span",{staticStyle:{"font-weight":"700","white-space":"nowrap"}},[e._v("规格二名称：")]),i("el-input",{staticStyle:{width:"120px","margin-right":"10px"},attrs:{size:"mini",placeholder:"尺寸"},model:{value:e.spec_name2,callback:function(t){e.spec_name2=t},expression:"spec_name2"}}),i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.newSpecNumber(2)}}},[e._v("新增规格值")]),i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){e.skuUpdateSpec="2",e.skuUpdateVisible=!0}}},[e._v("批量编辑规格值")]),i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.deleteImages(5)}}},[e._v("批量删除")]),i("el-checkbox",{staticStyle:{"margin-left":"10px"},attrs:{size:"mini"},model:{value:e.skuDetail2AllCheck,callback:function(t){e.skuDetail2AllCheck=t},expression:"skuDetail2AllCheck"}},[e._v("全选")])],1),i("div",{staticClass:"spec_detail"},e._l(e.goodsDetails.tier_variation[e.goodsDetails.tier_variation.spec2],(function(t,s){return e.goodsDetails.tier_variation&&e.goodsDetails.tier_variation[e.goodsDetails.tier_variation.spec2]?i("div",{key:s,staticClass:"sku_detail",on:{click:function(t){return e.multipleCheckClick(s,5)}}},[i("el-input",{staticStyle:{margin:"0 5px",width:"103px"},attrs:{type:"textarea",rows:4,resize:"none",placeholder:t,size:"mini"},on:{change:function(i){return e.updateSpec(t,2,s)}},nativeOn:{click:function(e){e.stopPropagation()}},model:{value:e.goodsDetails.tier_variation[e.goodsDetails.tier_variation.spec2][s],callback:function(t){e.$set(e.goodsDetails.tier_variation[e.goodsDetails.tier_variation.spec2],s,t)},expression:"goodsDetails.tier_variation[goodsDetails.tier_variation.spec2][index]"}}),i("el-checkbox",{staticClass:"sku_describe_check",staticStyle:{"pointer-events":"none"},model:{value:e.skuDetail2Check[s],callback:function(t){e.$set(e.skuDetail2Check,s,t)},expression:"skuDetail2Check[index]"}}),i("el-button",{staticClass:"sku_bottom_but",attrs:{size:"mini"},nativeOn:{click:function(t){return t.stopPropagation(),e.deleteImages(5,s)}}},[e._v("删除")])],1):e._e()})),0)]),i("div",{staticClass:"goods-detail-block",staticStyle:{display:"block"}},[i("div",{staticClass:"spec_detail",staticStyle:{display:"flex"}},[i("span",{staticStyle:{"font-weight":"700","white-space":"nowrap"}},[e._v("价格及库存设置：")]),i("div",[e._v("库存：")]),i("el-input",{staticStyle:{width:"120px","margin-right":"10px"},attrs:{size:"mini"},model:{value:e.presetInventory,callback:function(t){e.presetInventory=t},expression:"presetInventory"}}),i("div",[e._v("价格：")]),i("el-input",{staticStyle:{width:"120px","margin-right":"10px"},attrs:{size:"mini"},model:{value:e.presetPrice,callback:function(t){e.presetPrice=t},expression:"presetPrice"}}),i("el-radio",{attrs:{size:"mini",label:0},model:{value:e.presetTypeRadio,callback:function(t){e.presetTypeRadio=t},expression:"presetTypeRadio"}},[e._v("增加")]),i("el-radio",{attrs:{size:"mini",label:1},model:{value:e.presetTypeRadio,callback:function(t){e.presetTypeRadio=t},expression:"presetTypeRadio"}},[e._v("减少")]),i("el-radio",{attrs:{size:"mini",label:2},model:{value:e.presetTypeRadio,callback:function(t){e.presetTypeRadio=t},expression:"presetTypeRadio"}},[e._v("重新设置")]),i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.priceStock}},[e._v("批量设置")])],1),i("u-table",{ref:"goodsTable",attrs:{data:e.goodsDetails.itemmodels,"use-virtual":"","data-changes-scroll-top":!1,"header-cell-style":{backgroundColor:"#f5f7fa"},"row-key":"id",border:!1,"big-data-checkbox":!0}},[i("u-table-column",{attrs:{align:"left",type:"index",width:"80",label:"序号"}}),i("u-table-column",{attrs:{align:"left",label:"规格一","show-overflow-tooltip":"",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[i("div",{staticClass:"ellipsis-detail"},[e._v(" "+e._s(s.sku_spec1)+" ")])]}}],null,!1,4267610074)}),i("u-table-column",{attrs:{align:"left",label:"规格二","show-overflow-tooltip":"",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[i("div",{staticClass:"ellipsis-detail"},[e._v(" "+e._s(s.sku_spec2)+" ")])]}}],null,!1,3565809561)}),i("u-table-column",{attrs:{align:"left",label:"库存",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[i("el-input",{attrs:{size:"mini"},model:{value:s.sku_stock,callback:function(t){e.$set(s,"sku_stock",t)},expression:"row.sku_stock"}})]}}],null,!1,1959953653)}),i("u-table-column",{attrs:{align:"left",label:"单买价(元)",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[i("el-input",{attrs:{size:"mini"},model:{value:s.sku_price,callback:function(t){e.$set(s,"sku_price",t)},expression:"row.sku_price"}})]}}],null,!1,1590107160)}),i("u-table-column",{attrs:{align:"left",label:"规格图",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[e.goodsDetails.images1.length>0?i("el-tooltip",{staticStyle:{width:"56px",height:"56px",display:"inline-block"},attrs:{effect:"light",placement:"right-end","visible-arrow":!1,enterable:!1}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-image",{staticStyle:{width:"400px",height:"400px"},attrs:{src:s.sku_image}})],1),i("el-image",{staticStyle:{width:"60px",height:"60px"},attrs:{src:e._f("changeImgSizeFilter")({url:s.sku_image,source:e.goodsDetails.source})}})],1):e._e()]}}],null,!1,3489140151)})],1)],1)])],1),i("div",{staticStyle:{display:"flex","align-items":"center","margin-top":"10px","justify-content":"center"}},[i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.goodsChange}},[e._v("保存")]),i("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.$emit("goodsEditorCancel","")}}},[e._v("关闭")])],1),i("div",{staticClass:"on_new_dialog upload_new"},[i("el-dialog",{staticClass:"goods-edit-details",attrs:{title:"图片选择",width:"880px","close-on-click-modal":!1,modal:!1,visible:e.picturesChooseVisible,top:"10vh"},on:{"update:visible":function(t){e.picturesChooseVisible=t}}},[e.picturesChooseVisible?i("div",{staticClass:"goods-detail-block",staticStyle:{background:"white","margin-bottom":"0",padding:"0"}},[i("div",{staticClass:"pictures_choose_dialog"},[i("div",{staticStyle:{margin:"5px 0",display:"flex","align-items":"center"}},[i("el-radio",{attrs:{size:"mini",label:0},model:{value:e.picturesChooseTypeRadio,callback:function(t){e.picturesChooseTypeRadio=t},expression:"picturesChooseTypeRadio"}},[e._v("使用本地图片")]),i("el-upload",{staticStyle:{"margin-right":"10px"},attrs:{action:"#",drag:!0,"show-file-list":!1,limit:1,"auto-upload":!1,"on-change":e.imageUpload}},[i("el-button",{attrs:{size:"mini",type:"primary"}},[e._v("选择图片")])],1),i("el-radio",{attrs:{size:"mini",label:1},model:{value:e.picturesChooseTypeRadio,callback:function(t){e.picturesChooseTypeRadio=t},expression:"picturesChooseTypeRadio"}},[e._v("使用商品图片")])],1),i("div",{staticStyle:{display:"flex","flex-wrap":"wrap",overflow:"auto",height:"67vh"}},e._l(e.imageList,(function(t,s){return e.imageList.length>0?i("div",{key:s,staticClass:"goods-image-detail"},[i("el-image",{attrs:{src:t},nativeOn:{click:function(i){e.picturesChooseRadio=t}}}),i("div",{staticClass:"goods-image-top-right"},[i("el-radio",{attrs:{label:t},model:{value:e.picturesChooseRadio,callback:function(t){e.picturesChooseRadio=t},expression:"picturesChooseRadio"}},[i("span",{staticStyle:{display:"none"}},[e._v("1")])])],1)],1):e._e()})),0),i("div",{staticStyle:{"margin-top":"5px",display:"flex","justify-content":"center"}},[i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){e.picturesChooseSuccess=!0,e.picturesChooseStart=!0}}},[e._v(" 确定 ")]),i("el-button",{staticStyle:{"margin-left":"25px"},attrs:{size:"mini"},on:{click:function(t){e.picturesChooseSuccess=!0}}},[e._v("取消")])],1)])]):e._e()]),i("el-dialog",{staticClass:"goods-edit-details",attrs:{title:"批量修改SKU",width:"450px","close-on-click-modal":!1,modal:!1,visible:e.skuUpdateVisible,top:"10vh"},on:{"update:visible":function(t){e.skuUpdateVisible=t}}},[i("div",{staticClass:"goods-detail-block",staticStyle:{background:"white","margin-bottom":"0",padding:"0"}},[i("div",{staticClass:"pictures_choose_dialog"},[i("div",{staticStyle:{margin:"5px 0",display:"flex","align-items":"center"}},[i("el-radio",{attrs:{size:"mini",label:0},model:{value:e.skuUpdateRadio,callback:function(t){e.skuUpdateRadio=t},expression:"skuUpdateRadio"}},[e._v("删除关键词")]),i("el-radio",{attrs:{size:"mini",label:1},model:{value:e.skuUpdateRadio,callback:function(t){e.skuUpdateRadio=t},expression:"skuUpdateRadio"}},[e._v("添加在SKU前")]),i("el-radio",{attrs:{size:"mini",label:2},model:{value:e.skuUpdateRadio,callback:function(t){e.skuUpdateRadio=t},expression:"skuUpdateRadio"}},[e._v("添加在SKU后")]),i("el-radio",{staticStyle:{"margin-right":"0"},attrs:{size:"mini",label:3},model:{value:e.skuUpdateRadio,callback:function(t){e.skuUpdateRadio=t},expression:"skuUpdateRadio"}},[e._v("替换关键词")]),i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"原词与新词间用';'隔开，需替换多个关键词时用','间隔",placement:"top"}},[i("el-button",{attrs:{size:"mini",type:"text"}},[i("i",{staticClass:"el-icon-question",staticStyle:{padding:"0 2px"}})])],1)],1),i("div",{staticStyle:{display:"flex","align-items":"center"}},[i("div",{staticStyle:{width:"60px"}},[e._v("关键词：")]),i("el-input",{attrs:{type:"textarea",rows:4,resize:"none",size:"mini",placeholder:"请输入关键词，每个单词以逗号','隔开"},model:{value:e.skuUpdateKey,callback:function(t){e.skuUpdateKey=t},expression:"skuUpdateKey"}})],1),i("div",{staticStyle:{"margin-top":"5px",display:"flex","justify-content":"center"}},[i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){e.skuUpdateVisible=!1}}},[e._v(" 确定 ")]),i("el-button",{staticStyle:{"margin-left":"25px"},attrs:{size:"mini"},on:{click:function(t){e.skuUpdateSpec="",e.skuUpdateVisible=!1}}},[e._v("取消 ")])],1)])])])],1),i("div",{directives:[{name:"show",rawName:"v-show",value:e.GdEditorSdkVisible,expression:"GdEditorSdkVisible"}],staticClass:"updateImgBox"},[i("div",{staticClass:"updateImg",attrs:{id:"editorApp"}}),i("div",{staticClass:"updateImgBut"},[i("el-button",{attrs:{type:"",size:"mini"},on:{click:e.closeEditor}},[e._v("取消")])],1)])],1):e._e()},a=[],o=i("f642"),n=o["a"],r=(i("8d07"),i("925d"),i("2877")),c=Object(r["a"])(n,s,a,!1,null,"447178ed",null);t["a"]=c.exports},eb09:function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"category-mapp contaniner"},[i("div",{staticClass:"category_dialog"},[i("div",{staticClass:"category_box"},[i("div",{staticClass:"on_new_dialog_box",staticStyle:{"margin-bottom":"10px"}},[i("div",{staticClass:"keepRight"},[e._v("店铺站点：")]),e.country?i("div",[e._v(e._s(e._f("chineseSite")(e.country)))]):i("div",[i("el-select",{attrs:{size:"mini",filterable:""},model:{value:e.countryOption,callback:function(t){e.countryOption=t},expression:"countryOption"}},e._l(e.countriesOption,(function(e,t){return i("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1)]),e._l(e.categoryList,(function(t,s){return i("div",{key:s,staticClass:"on_new_dialog_box"},[i("div",{staticClass:"keepRight"},[e._v(e._s(s+1)+"级类目：")]),i("el-select",{staticStyle:{width:"200px"},attrs:{size:"mini",filterable:""},on:{change:function(t){return e.setCategory(e.categoryAction[s],s)}},model:{value:e.categoryAction[s],callback:function(t){e.$set(e.categoryAction,s,t)},expression:"categoryAction[index]"}},[i("el-option",{attrs:{value:"",label:"全部"}}),e._l(t,(function(e){return i("el-option",{key:e.id,attrs:{label:e.category_name+"("+e.category_cn_name+")",value:e.category_id}})}))],2)],1)}))],2),i("div",{staticClass:"category_box",staticStyle:{"margin-left":"20px"}},[e._m(0),e._l(e.attributesList,(function(t,s){return i("div",{key:s,staticClass:"on_new_dialog_box line_height_28"},[i("div",{staticClass:"width_single_150"},[e._v(e._s(t.attribute_name)+"("+e._s(t.attribute_cn_name)+")")]),i("div",[i("el-select",{staticStyle:{width:"180px"},attrs:{size:"mini",filterable:""},model:{value:t.options,callback:function(i){e.$set(t,"options",i)},expression:"item.options"}},e._l(t.new_options_obj,(function(e){return i("el-option",{key:e.value_id,attrs:{label:e.value,value:e.value_id}})})),1)],1)])}))],2)]),i("div",{staticClass:"on_new_dialog_box",staticStyle:{"margin-top":"25px","justify-content":"space-evenly"}},[e.mallList[0]?i("el-button",{attrs:{type:"primary",size:"mini",disabled:e.isConfirmCategory},on:{click:function(t){return e.confirmCategory(0)}}},[e._v("　刷　新　")]):e._e(),i("el-button",{attrs:{type:"primary",size:"mini",disabled:e.isConfirmCategory},on:{click:function(t){return e.confirmCategory()}}},[e._v("　确　定　")]),i("el-button",{attrs:{size:"mini",disabled:e.isConfirmCategory},on:{click:function(t){return e.$emit("categoryChange","")}}},[e._v("　取　消　")])],1)])},a=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"on_new_dialog_box",staticStyle:{"margin-bottom":"10px"}},[i("div",{staticClass:"width_single_150"},[e._v("属性名称：")]),i("div",[e._v("属性值"),i("span",{staticStyle:{color:"red"}},[e._v("(必填)")])])])}],o=i("1da1"),n=(i("159b"),i("7db0"),i("b0c0"),i("c740"),i("a434"),i("96cf"),{name:"category-mapping",props:{country:{type:String,default:function(){return""}},goodsCurrent:{type:Object,default:function(){return{}}},mallList:{type:Array,default:function(){return[]}}},data:function(){return{countriesOption:this.$filters.countries_option,countryOption:"TH",categoryAction:[],attributesCurrent:[],categoryList:[],attributesList:[],isConfirmCategory:!1}},watch:{countryOption:function(e){this.enterCategory()}},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.enterCategory();case 2:case"end":return t.stop()}}),t)})))()},methods:{confirmCategory:function(){var e=arguments,t=this;return Object(o["a"])(regeneratorRuntime.mark((function i(){var s,a,o,n,r,c,l,_,u,d,p,g,m,h,f,v,b,k,y,C,D,E;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(s=e.length>0&&void 0!==e[0]?e[0]:-1,a=t.country||t.countryOption,o=[],t.categoryList.forEach((function(e,i){var s=e.find((function(e){return e.category_id===t.categoryAction[i]}));s&&o.push(s)})),!(t.goodsCurrent&&s<0)){i.next=17;break}if(n=t.goodsCurrent.originCategoryId||t.goodsCurrent.category_id,r=t.goodsCurrent.platform||t.goodsCurrent.source,!n||!r){i.next=14;break}return c=[],t.attributesList.forEach((function(e){var t=e.new_options_obj.find((function(t){return t.value_id===e.options}));c.push({attributeId:e.attribute_id,attributeName:e.attribute_name,valueId:t.value_id,value:t.value})})),l={relationCategoryId:n,country:t.country,platformId:r,platformCategoryId:o[o.length-1].category_id,categoryAttributes:c},i.next=13,t.$commodityService.saveCategoryRelation(l);case 13:i.sent;case 14:t.$emit("categoryChange",{categoryList:o,attributesList:t.attributesList,country:a||t.countryOption}),i.next=58;break;case 17:return t.isConfirmCategory=!0,s=s<0?0:s,_=t.mallList[s],u=t.categoryAction[t.categoryAction.length-1],d={mallId:_.platform_mall_id,category_ids:u,brand_status:1,cursor:0,limit:100},i.next=24,t.$shopeemanService.getBrandList(a,d,{headers:{"Content-Type":"text/plain; charset=UTF-8"}});case 24:if(p=i.sent,g=JSON.parse(p),!(g.status>=200&&g.status<=300)){i.next=56;break}if(m=JSON.parse(g.data),0!==m.code){i.next=53;break}return h=m.data&&m.data.list[0]&&m.data.list[0].brand_list,f=[],h.forEach((function(e){f.push({value:e.name,value_id:e.brand_id})})),v=[{category_id:u,attribute_id:0,is_mandatory:1,attribute_name:"Brand",attribute_cn_name:"品牌",attribute_type:"STRING_TYPE",country:a,options:JSON.stringify(f),attribute_label:"",is_key_attribute:1}],i.prev=33,i.next=36,t.$shopeemanService.getAttributeTree(a,d,{headers:{"Content-Type":"text/plain; charset=UTF-8"}});case 36:b=i.sent,k=JSON.parse(b),y=JSON.parse(k.data),C=y&&y.data&&y.data.list[0]&&y.data.list[0].attribute_tree||[],C.forEach((function(e){var t=[];e.children.forEach((function(e){t.push({value:e.display_name||e.name,value_id:e.value_id})})),v.push({category_id:u,attribute_id:e.attribute_id,is_mandatory:e.mandatory?1:0,attribute_name:e.display_name||e.name,attribute_cn_name:"",attribute_type:"STRING_TYPE",country:a,options:JSON.stringify(t),attribute_label:"",is_key_attribute:0})})),i.next=46;break;case 43:i.prev=43,i.t0=i["catch"](33),console.log(i.t0);case 46:return i.prev=46,i.next=49,t.$commodityService.uploadCateGoryAttr(v);case 49:return D=i.sent,E=JSON.parse(D),200===E.code?t.$message.success("同步成功"):t.$message.error("同步失败"),i.finish(46);case 53:t.$emit("categoryChange",""),i.next=58;break;case 56:return i.next=58,t.confirmCategory(++s);case 58:t.isConfirmCategory=!1;case 59:case"end":return i.stop()}}),i,null,[[33,43,46,53]])})))()},getAttribute:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var i,s,a,o,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.categoryAction[e.categoryAction.length-1]||e.categoryAction[e.categoryAction.length-2]||"0",s=e.country||e.countryOption,t.next=4,e.$commodityService.getAttributeInfo(s,i);case 4:a=t.sent,o=JSON.parse(a),e.attributesList=[],200===o.code&&(n=o.data&&o.data.attributes||[],n.forEach((function(t){var i=e.attributesCurrent.findIndex((function(e){return e.attribute_id===t.attribute_id})),s=e.attributesCurrent[i]&&e.attributesCurrent[i].value_id||0;t.new_options_obj=t.new_options&&JSON.parse(t.new_options)||[],t.options=i>-1&&parseInt(s)||t.new_options_obj[0]&&t.new_options_obj[0].value_id,e.attributesList.push(t)})),e.attributesCurrent=[]);case 8:case"end":return t.stop()}}),t)})))()},setCategory:function(e,t){this.categoryList.splice(t+1,this.categoryList.length-t),this.categoryAction.splice(t+1,this.categoryAction.length-t),this.enterCategory(e+"",++t)},enterCategory:function(){var e=arguments,t=this;return Object(o["a"])(regeneratorRuntime.mark((function i(){var s,a,o,n,r,c,l,_,u,d,p,g,m,h,f,v;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(s=e.length>0&&void 0!==e[0]?e[0]:"0",a=e.length>1&&void 0!==e[1]?e[1]:0,o=e.length>2&&void 0!==e[2]?e[2]:null,n=e.length>3&&void 0!==e[3]?e[3]:"1",r=t.country||t.countryOption,0!==a||0!==t.attributesCurrent.length){i.next=20;break}if(t.categoryAction=o&&o.categoryIdList||[],!t.goodsCurrent||!t.goodsCurrent.goodsId&&!t.goodsCurrent.goods_id){i.next=20;break}return t.categoryAction=[],_=t.goodsCurrent.originCategoryId||t.goodsCurrent.category_id,u=t.goodsCurrent.platform||t.goodsCurrent.source,i.next=13,t.$commodityService.getCategoryRelation(_,r,u);case 13:d=i.sent,p=JSON.parse(d),t.attributesCurrent=p.data&&p.data.attributes||[],s=(null===p||void 0===p||null===(c=p.data)||void 0===c||null===(l=c.category)||void 0===l?void 0:l.platform_category_id)||s,console.log(p,s),n="0"===s&&n||0,!n&&t.categoryAction.unshift(s);case 20:if(!s){i.next=49;break}return g=JSON.parse(JSON.stringify(t.categoryList))||[],i.next=24,t.$commodityService.getCategoryTbInfo(r,s,n);case 24:if(m=i.sent,h=JSON.parse(m),200!==h.code){i.next=47;break}if(f=h.data,console.log("categoryTbInfoData",f,t.categoryAction),0!==n){i.next=37;break}return v=(null===f||void 0===f?void 0:f.categories[0].parent_id)||0,v&&t.categoryAction.unshift(v),n=0===v?1:0,i.next=35,t.enterCategory(v+"",0,null,n);case 35:i.next=47;break;case 37:if(!f||!f.categories){i.next=45;break}return g[a]=f.categories,t.categoryList=g,t.categoryAction[a]=t.categoryAction[a]||g[a][0].category_id,i.next=43,t.enterCategory(t.categoryAction[a],++a);case 43:i.next=47;break;case 45:return i.next=47,t.getAttribute();case 47:i.next=51;break;case 49:return i.next=51,t.getAttribute(!0);case 51:case"end":return i.stop()}}),i)})))()}}}),r=n,c=(i("b0bd"),i("2877")),l=Object(c["a"])(r,s,a,!1,null,null,null);t["a"]=l.exports},f642:function(module,__webpack_exports__,__webpack_require__){"use strict";var G_shopeeman_new_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("1da1"),G_shopeeman_new_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("2909"),regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("96cf"),regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("ac1f"),core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("1276"),core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("d3b7"),core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("25f0"),core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("159b"),core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_7__),core_js_modules_es_string_replace_all_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("5b81"),core_js_modules_es_string_replace_all_js__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(core_js_modules_es_string_replace_all_js__WEBPACK_IMPORTED_MODULE_8__),core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("99af"),core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_9__),core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("d81d"),core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_10__),core_js_modules_es_set_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("6062"),core_js_modules_es_set_js__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(core_js_modules_es_set_js__WEBPACK_IMPORTED_MODULE_11__),core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("3ca3"),core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_12__),core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("ddb0"),core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_13__),core_js_modules_es_regexp_constructor_js__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("4d63"),core_js_modules_es_regexp_constructor_js__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(core_js_modules_es_regexp_constructor_js__WEBPACK_IMPORTED_MODULE_14__),core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("caad"),core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_15__),core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("2532"),core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_16__),core_js_modules_web_url_js__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("2b3d"),core_js_modules_web_url_js__WEBPACK_IMPORTED_MODULE_17___default=__webpack_require__.n(core_js_modules_web_url_js__WEBPACK_IMPORTED_MODULE_17__),core_js_modules_web_url_search_params_js__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("9861"),core_js_modules_web_url_search_params_js__WEBPACK_IMPORTED_MODULE_18___default=__webpack_require__.n(core_js_modules_web_url_search_params_js__WEBPACK_IMPORTED_MODULE_18__),core_js_modules_es_number_to_fixed_js__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("b680"),core_js_modules_es_number_to_fixed_js__WEBPACK_IMPORTED_MODULE_19___default=__webpack_require__.n(core_js_modules_es_number_to_fixed_js__WEBPACK_IMPORTED_MODULE_19__),core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("a15b"),core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_20___default=__webpack_require__.n(core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_20__),core_js_modules_es_array_find_index_js__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("c740"),core_js_modules_es_array_find_index_js__WEBPACK_IMPORTED_MODULE_21___default=__webpack_require__.n(core_js_modules_es_array_find_index_js__WEBPACK_IMPORTED_MODULE_21__),core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("a434"),core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_22___default=__webpack_require__.n(core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_22__),core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("a4d3"),core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_23___default=__webpack_require__.n(core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_23__),core_js_modules_es_symbol_description_js__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__("e01a"),core_js_modules_es_symbol_description_js__WEBPACK_IMPORTED_MODULE_24___default=__webpack_require__.n(core_js_modules_es_symbol_description_js__WEBPACK_IMPORTED_MODULE_24__),jszip__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__("c4e3"),jszip__WEBPACK_IMPORTED_MODULE_25___default=__webpack_require__.n(jszip__WEBPACK_IMPORTED_MODULE_25__),file_saver__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__("21a6"),file_saver__WEBPACK_IMPORTED_MODULE_26___default=__webpack_require__.n(file_saver__WEBPACK_IMPORTED_MODULE_26__),_gaoding_editor_sdk__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__("05ca"),_util_util__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__("0e0b"),vuedraggable__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__("b76a"),vuedraggable__WEBPACK_IMPORTED_MODULE_29___default=__webpack_require__.n(vuedraggable__WEBPACK_IMPORTED_MODULE_29__);__webpack_exports__["a"]={name:"goods-edit-details",components:{draggable:vuedraggable__WEBPACK_IMPORTED_MODULE_29___default.a},data:function(){return{goodsDetails:null,activeName:"information",imageList:[],editor:null,GdEditorSdkVisible:!1,editorImg:"",picturesChooseStart:!1,picturesChooseVisible:!1,picturesChooseSuccess:!1,picturesChooseTypeRadio:0,picturesChooseFile:"",picturesChooseFileUrl:"",picturesChooseRadio:"",skuUpdateVisible:!1,skuUpdateRadio:1,skuUpdateKey:"",skuUpdateSpec:"",specImageCheck:[],specImageAllCheck:!1,carouselImageCheck:[],carouselImageAllCheck:!1,descImageCheck:[],descImageAllCheck:!1,spec_name1:"",spec_name2:"",skuDetail1Check:[],skuDetail1AllCheck:!1,skuDetail2Check:[],skuDetail2AllCheck:!1,presetInventory:"",presetPrice:"",presetTypeRadio:1,lodSpecImage:[],tier_variation:[],drag:!1}},props:{goodsEditor:{type:Object,default:null}},watch:{specImageCheck:function(e){var t=this.goodsDetails.spec_image.length,i=e.toString().split(!0);this.specImageAllCheck=t<i.length},specImageAllCheck:function(e){var t=this.goodsDetails.spec_image.length;if(e)for(var i=0;i<t;i++)this.specImageCheck[i]=!0;else{var s=this.specImageCheck.toString().split(!0);if(t<s.length)for(var a=0;a<t;a++)this.specImageCheck[a]=!1}},carouselImageCheck:function(e){var t=this.goodsDetails.images1.length,i=e.toString().split(!0);this.carouselImageAllCheck=t<i.length},carouselImageAllCheck:function(e){var t=this.goodsDetails.images1.length;if(e)for(var i=0;i<t;i++)this.carouselImageCheck[i]=!0;else{var s=this.carouselImageCheck.toString().split(!0);if(t<s.length)for(var a=0;a<t;a++)this.carouselImageCheck[a]=!1}},descImageCheck:function(e){var t=this.goodsDetails.descImages.length,i=e.toString().split(!0);this.descImageAllCheck=t<i.length},descImageAllCheck:function(e){var t=this.goodsDetails.descImages.length;if(e)for(var i=0;i<t;i++)this.descImageCheck[i]=!0;else{var s=this.descImageCheck.toString().split(!0);if(t<s.length)for(var a=0;a<t;a++)this.descImageCheck[a]=!1}},skuDetail1Check:function(e){if(this.goodsDetails.tier_variation&&this.goodsDetails.tier_variation.spec1){var t=this.goodsDetails.tier_variation[this.goodsDetails.tier_variation.spec1].length,i=e.toString().split(!0);this.skuDetail1AllCheck=t<i.length&&e.length}},skuDetail1AllCheck:function(e){if(this.goodsDetails.tier_variation&&this.goodsDetails.tier_variation.spec1){var t=this.goodsDetails.tier_variation[this.goodsDetails.tier_variation.spec1].length;if(e)for(var i=0;i<t;i++)this.skuDetail1Check[i]=!0;else{var s=this.skuDetail1Check.toString().split(!0);if(t<s.length)for(var a=0;a<t;a++)this.skuDetail1Check[a]=!1}}},skuDetail2Check:function(e){if(this.goodsDetails.tier_variation&&this.goodsDetails.tier_variation.spec2){var t=this.goodsDetails.tier_variation[this.goodsDetails.tier_variation.spec2].length,i=e.toString().split(!0);this.skuDetail2AllCheck=t<i.length&&e.length}},skuDetail2AllCheck:function(e){if(this.goodsDetails.tier_variation&&this.goodsDetails.tier_variation.spec2){var t=this.goodsDetails.tier_variation[this.goodsDetails.tier_variation.spec2].length;if(e)for(var i=0;i<t;i++)this.skuDetail2Check[i]=!0;else{var s=this.skuDetail2Check.toString().split(!0);if(t<s.length)for(var a=0;a<t;a++)this.skuDetail2Check[a]=!1}}},skuUpdateVisible:function(e){var t=this;if(!e&&this.skuUpdateSpec){var i=this.skuUpdateKey.split(","),s=this.goodsDetails.tier_variation["spec1"],a=this.goodsDetails.tier_variation["spec2"],o=JSON.stringify(this.goodsDetails.tier_variation[s]),n=JSON.stringify(this.goodsDetails.tier_variation[a]),r=JSON.stringify(this.goodsDetails.itemmodels),c=[],l=[],_=this["skuDetail"+this.skuUpdateSpec+"Check"];_.forEach((function(e,i){if(e){var s=t.goodsDetails.tier_variation["spec"+t.skuUpdateSpec],a=t.goodsDetails.tier_variation[s];c.push(a[i])}}));var u=Object(_util_util__WEBPACK_IMPORTED_MODULE_28__["m"])(c);0===this.skuUpdateRadio?u.forEach((function(e){var t=c[e];i.forEach((function(e){t=t.replaceAll(e,"")})),l.push({before:c[e],after:t})})):1===this.skuUpdateRadio||2===this.skuUpdateRadio?u.forEach((function(e){var s=c[e];s=1===t.skuUpdateRadio?i.toString()+" "+s:s+" "+i.toString(),l.push({before:c[e],after:s})})):3===this.skuUpdateRadio&&u.forEach((function(e){var t=c[e];i.forEach((function(e){var i=e.split(";");i=i.length>1&&i||e.split("；");var s=i[0]||"",a=i[1]||"";t=t.replaceAll(s,a)})),l.push({before:c[e],after:t})})),l.forEach((function(e){1===t.skuUpdateSpec||"1"===t.skuUpdateSpec?(r=r.replaceAll('"sku_spec1":"'+e.before+'"','"sku_spec1":"'+e.after+'"'),r=r.replaceAll('"sku":"'+e.before+"=|=",'"sku":"'+e.after+"=|="),o=o.replaceAll('"'+e.before+'"','"'+e.after+'"')):(r=r.replaceAll("@","MD&&ZZ&&MD"),r=r.replaceAll("=|=","@"),r=r.replaceAll('"sku_spec2":"'+e.before+'"','"sku_spec2":"'+e.after+'"'),r=r.replaceAll("@"+e.before+'"',"@"+e.after+'"'),r=r.replaceAll("@","=|="),r=r.replaceAll("MD&&ZZ&&MD","@"),n=n.replaceAll('"'+e.before+'"','"'+e.after+'"'))})),this.goodsDetails.itemmodels=JSON.parse(r),this.goodsDetails.tier_variation[s]=JSON.parse(o),this.goodsDetails.tier_variation[a]=JSON.parse(n),console.log(this.goodsDetails)}},picturesChooseVisible:function(e){if(e){var t=[].concat(Object(G_shopeeman_new_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__["a"])(this.goodsDetails.spec_image),Object(G_shopeeman_new_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__["a"])(this.goodsDetails.images),Object(G_shopeeman_new_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__["a"])(this.goodsDetails.descImages.map((function(e){return e.img}))));this.imageList=Object(G_shopeeman_new_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__["a"])(new Set(t))}}},mounted:function(){var e=this;return Object(G_shopeeman_new_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function t(){var i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$commodityService.getSpuDetailByIdV2(e.goodsEditor.id);case 2:if(i=t.sent,s=JSON.parse(i)&&JSON.parse(i).data,console.log("getSpuDetailByIdV2 - data",s),s){t.next=9;break}return e.$message.error("不存在该商品信息，请确认后重试"),e.$emit("goodsEditorCancel",""),t.abrupt("return");case 9:e.goodsDetails=s,e.tier_variation=JSON.parse(JSON.stringify(s.tier_variation)),e.lodSpecImage=e.goodsDetails.spec_image;case 12:case"end":return t.stop()}}),t)})))()},methods:{onStart:function(){this.drag=!0},onEnd:function(){this.drag=!1},replaceImage:function(e,t){var i=this;return Object(G_shopeeman_new_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function s(){var a,o,n,r,c,l;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,i.selectImage();case 2:a=s.sent,console.log(t,a),a&&(1===e?(o=JSON.stringify(i.goodsDetails.itemmodels),n=i.goodsDetails.spec_image[t],r=i.goodsDetails.tier_variation[i.goodsDetails.tier_variation.spec1][t],c=new RegExp('"sku_image":"'+n+'",(((?!sku_image).)*)"sku_spec1":"'+r+'","',"gi"),l='"sku_image":"'+a+'",$1"sku_spec1":"'+r+'","',o=o.replaceAll(c,l),i.goodsDetails.itemmodels=JSON.parse(o),i.$set(i.goodsDetails.tier_variation.images,t,a),i.$set(i.goodsDetails.spec_image,t,a)):2===e?(i.goodsDetails.images[t]=a,i.$set(i.goodsDetails.images1[t],"img",a)):3===e?i.$set(i.goodsDetails.descImages[t],"img",a):4===e&&i.$set(i.goodsDetails.sizeImages[t],"img",a));case 5:case"end":return s.stop()}}),s)})))()},addImage:function(e){var t=this;return Object(G_shopeeman_new_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function i(){var s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,t.selectImage();case 2:s=i.sent,s&&(2===e?(t.goodsDetails.images.push(s),t.goodsDetails.images1.push({id:"0",img:s})):3===e?t.goodsDetails.descImages.push({id:"0",img:s}):4===e&&(t.goodsDetails.sizeImages=[{id:"0",img:s}]));case 4:case"end":return i.stop()}}),i)})))()},newSpecNumber:function(e){var t=this;return Object(G_shopeeman_new_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function i(){var s,a,o,n,r,c,l,_,u;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(s=t.goodsDetails.tier_variation["spec1"],a=t.goodsDetails.tier_variation["spec2"],o=t.goodsDetails.price,1!==e){i.next=22;break}if(t.spec_name1){i.next=7;break}return t.$message.error("请输入规格一"),i.abrupt("return");case 7:return i.next=9,t.selectImage();case 9:if(n=i.sent,!n){i.next=18;break}t.goodsDetails.tier_variation[s].push(t.spec_name1),t.goodsDetails.tier_variation["images"].push(n),t.goodsDetails.spec_image.push(n),r=t.goodsDetails.tier_variation[a],JSON.stringify(t.goodsDetails.itemmodels).includes('"sku_spec1":""')?(c=[],t.goodsDetails.itemmodels.forEach((function(e){c.push(Object.assign(e,{sku:t.sku_spec1+"=|="+e.spec_name2,sku_spec1:t.spec_name1}))})),console.log(c),t.goodsDetails.itemmodels=c):r.forEach((function(e){var i={sku:t.spec_name1+"=|="+e,sku_image:n,sku_spec1:t.spec_name1,sku_spec2:e,sku_stock:e.sku_stock||1e3,stock:e.stock||1e3,sku_price:o,price:o};t.goodsDetails.itemmodels.push(i)})),i.next=20;break;case 18:return t.$message.error("请选择规格图"),i.abrupt("return",!1);case 20:i.next=29;break;case 22:if(t.spec_name2){i.next=25;break}return t.$message.error("请输入规格二"),i.abrupt("return");case 25:t.goodsDetails.tier_variation[a].push(t.spec_name2),l=t.goodsDetails.tier_variation["images"],_=t.goodsDetails.tier_variation[s],JSON.stringify(t.goodsDetails.itemmodels).includes('"sku_spec2":""')?(u=[],t.goodsDetails.itemmodels.forEach((function(e){u.push(Object.assign(e,{sku:e.sku_spec1+"=|="+t.spec_name2,sku_spec2:t.spec_name2}))})),console.log(u),t.goodsDetails.itemmodels=u):_.forEach((function(e,i){var s={sku:e+"=|="+t.spec_name2,sku_image:l[i],sku_spec1:e,sku_spec2:t.spec_name2,sku_stock:e.sku_stock||1e3,stock:e.stock||1e3,sku_price:o,price:o};t.goodsDetails.itemmodels.push(s)}));case 29:case"end":return i.stop()}}),i)})))()},cancelBackground:function(){var e=this;return Object(G_shopeeman_new_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function t(){var i,s,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.goodsDetails.images1[0]&&e.goodsDetails.images1[0].img,t.next=3,e.$MattingService.getDrawbotMattingByUrl(i,(new Date).getTime()+".png");case 3:s=t.sent,200===s.Code?(a=s.Data,o=a.Data&&a.Data.ImageURL,e.$set(e.goodsDetails.images1,0,{id:"0",img:o}),e.$set(e.goodsDetails.images,0,o)):e.$message.error("去背景失败，请稍后重试！");case 5:case"end":return t.stop()}}),t)})))()},updateImage:function(e,t){var i=this;return Object(G_shopeeman_new_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function s(){var a,o,n,r,c,l;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return i.GdEditorSdkVisible=!0,a="",i.editorImg="",1===e?a=i.goodsDetails.spec_image[t]:2===e?a=i.goodsDetails.images1[t].img:3===e&&(a=i.goodsDetails.descImages[t].img),i.editor=Object(_gaoding_editor_sdk__WEBPACK_IMPORTED_MODULE_27__["a"])({appId:"YMEQYU442168",container:"#editorApp"}),i.editor.importImage([a]),s.next=8,i.getEditorImage();case 8:o=s.sent,o&&(1===e?(n=JSON.stringify(i.goodsDetails.itemmodels),r=i.goodsDetails.tier_variation[i.goodsDetails.tier_variation.spec1][t],c=new RegExp('"sku_image":"'+a+'",(((?!sku_image).)*)"sku_spec1":"'+r+'","',"gi"),l='"sku_image":"'+o+'",$1"sku_spec1":"'+r+'","',n=n.replaceAll(c,l),i.goodsDetails.itemmodels=JSON.parse(n),i.$set(i.goodsDetails.tier_variation.images,t,o),i.$set(i.goodsDetails.spec_image,t,o)):2===e?(i.goodsDetails.images[t]=o,i.$set(i.goodsDetails.images1[t],"img",o)):3===e&&i.$set(i.goodsDetails.descImages[t],"img",o));case 10:case"end":return s.stop()}}),s)})))()},getEditorImage:function(){var e=this;return this.saveEditor(),new Promise((function(t){var i=setInterval((function(){e.GdEditorSdkVisible||(clearInterval(i),t(e.editorImg))}),300)}))},saveEditor:function(){var e=this;this.editor.onSave((function(t){var i=t.files,s=(t.workId,t.type,t.title,i[0]),a=URL.createObjectURL(s),o=new Image;o.src=a,o.onload=Object(G_shopeeman_new_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function t(){var i,s,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=document.createElement("canvas"),s=i.getContext("2d"),i.width=o.width,i.height=o.height,s.drawImage(o,0,0,o.width,o.height),a=i.toDataURL("image/png"),console.log("dataURL",o),n=Object(_util_util__WEBPACK_IMPORTED_MODULE_28__["x"])(!1,32)+"_"+(new Date).getTime(),t.next=10,e.$ossService.uploadFile(a,n+".png");case 10:e.editorImg=t.sent,e.GdEditorSdkVisible=!1,e.editor.close();case 13:case"end":return t.stop()}}),t)})))}))},closeEditor:function(){this.GdEditorSdkVisible=!1,this.editor.close()},updateSpec:function(e,t,i){var s=JSON.stringify(this.goodsDetails.itemmodels),a=this.tier_variation["spec"+t],o=this.tier_variation[a],n=o[i],r='"sku_spec'+t+'":"'+n+'"',c='"sku_spec'+t+'":"'+e+'"';s=s.replaceAll(r,c),1===t?(r='"sku":"'+n+"=|=",c='"sku":"'+e+"=|="):(r="=|="+n+'",',c="=|="+e+'",'),s=s.replaceAll(r,c),this.goodsDetails.itemmodels=JSON.parse(s),this.tier_variation[a][i]=e},priceStock:function priceStock(){var _this10=this,itemmodels=[];if(this.presetInventory||this.presetPrice){var inventory=parseInt(this.presetInventory)||0,price=parseFloat(parseFloat(this.presetPrice).toFixed(2)||0);this.goodsDetails.itemmodels.forEach((function(e){var t=parseFloat(parseFloat(e.sku_price).toFixed(2)),i=parseInt(e.sku_stock);0===_this10.presetTypeRadio?(i+=inventory,t+=price):1===_this10.presetTypeRadio?(i-=inventory,t-=price,i=i>0&&i||0,t=t>0&&t||0):2===_this10.presetTypeRadio&&(i=inventory,t=price,i=i>0&&i||0,t=t>0&&t||0);var s=JSON.parse(JSON.stringify(e));inventory&&(s.sku_stock=i,s.stock=i),price&&(s.sku_price=t,s.price=t),itemmodels.push(s)}));var stockList=Object(G_shopeeman_new_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__["a"])(itemmodels.map((function(e){return e.sku_stock})));this.goodsDetails.stock=eval(stockList.join("+")),this.goodsDetails.price=price,this.goodsDetails.itemmodels=itemmodels}else this.$message.error("库存与价格至少有一个数据不为空")},imageUpload:function(e){this.picturesChooseFile=e,this.picturesChooseFileUrl=""},selectImage:function(){var e=this;return new Promise((function(t){e.picturesChooseRadio="",e.picturesChooseTypeRadio=0,e.picturesChooseVisible=!0,e.picturesChooseSuccess=!1;var i=setInterval(Object(G_shopeeman_new_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function s(){var a,o,n,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(a=!0,!e.picturesChooseSuccess){s.next=29;break}if(o="",!e.picturesChooseStart){s.next=26;break}if(e.picturesChooseStart=!1,!e.picturesChooseTypeRadio){s.next=9;break}o=e.picturesChooseRadio,s.next=26;break;case 9:if(e.picturesChooseFile){s.next=16;break}e.$message.error("请选择本地图片"),o="",e.picturesChooseSuccess=!1,a=!1,s.next=26;break;case 16:if(!e.picturesChooseFileUrl){s.next=20;break}o=e.picturesChooseFileUrl,s.next=26;break;case 20:return n=e.picturesChooseFile.raw,r=new FileReader,r.readAsDataURL(n),r.onload=Object(G_shopeeman_new_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function t(){var i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=r.result,s=Object(_util_util__WEBPACK_IMPORTED_MODULE_28__["x"])(!1,32)+"_"+(new Date).getTime(),t.next=4,e.$ossService.uploadFile(i,s+".png");case 4:o=t.sent,e.picturesChooseFileUrl=o;case 6:case"end":return t.stop()}}),t)}))),s.next=26,Object(_util_util__WEBPACK_IMPORTED_MODULE_28__["B"])((function(){return o}),50);case 26:e.picturesChooseVisible=!a,a&&clearInterval(i),a&&t(o);case 29:case"end":return s.stop()}}),s)}))),300)}))},setMasterMap:function(e){console.log("setMasterMap",e);var t=e&&e.img||e,i=this.goodsDetails.images1.findIndex((function(e){return e.img===t})),s={img:t,id:(new Date).getTime()};i>-1&&(s=this.goodsDetails.images1[i],this.goodsDetails.images1.splice(i,1),this.goodsDetails.images.splice(i,1),this.carouselImageCheck.splice(i,1)),this.goodsDetails.images1.unshift(s),this.goodsDetails.images.unshift(s),this.carouselImageCheck.unshift(!1),this.carouselImageAllCheck=!1},deleteImages:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,s=[],a=[],o=this.goodsDetails.price;if(1===e){if(i>-1){var n=this.goodsDetails.tier_variation["spec1"],r=this.goodsDetails.tier_variation[n][i];this.goodsDetails.itemmodels.forEach((function(e){e.sku_spec1!==r&&a.push(e)})),this.goodsDetails.tier_variation[n].splice(i,1),this.goodsDetails.tier_variation["images"].splice(i,1),this.goodsDetails.spec_image.splice(i,1),this.goodsDetails.itemmodels=a}else{for(var c=this.goodsDetails.tier_variation["spec1"],l=[],_=this.skuDetail1Check.length-1;_>-1;_--)this.skuDetail1Check[_]&&(l.push(this.goodsDetails.tier_variation[c][_]),this.goodsDetails.tier_variation[c].splice(_,1),this.goodsDetails.tier_variation["images"].splice(_,1),this.goodsDetails.spec_image.splice(_,1));this.goodsDetails.itemmodels.forEach((function(e){l.indexOf(e.sku_spec1)<0&&a.push(e)})),this.skuDetail1Check=[]}if(0===a.length){var u=this.goodsDetails.tier_variation["spec2"],d=this.goodsDetails.tier_variation[u];d.forEach((function(e,t){var i={sku:e,sku_image:"",sku_spec1:"",sku_spec2:e,sku_stock:1e3,stock:1e3,sku_price:o,price:o};a.push(i)}))}this.goodsDetails.itemmodels=a,this.skuDetail1AllCheck=!1}else if(2===e)i>-1?(this.carouselImageCheck.splice(i,1),this.goodsDetails.images1.splice(i,1),this.goodsDetails.images.splice(i,1)):(this.goodsDetails.images1.forEach((function(e,i){t.carouselImageCheck[i]||s.push(e)})),this.carouselImageCheck=[],this.goodsDetails.images1=s,this.goodsDetails.images=Object(G_shopeeman_new_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__["a"])(s.map((function(e){return e.img}))));else if(3===e)i>-1?(this.descImageCheck.splice(i,1),this.goodsDetails.descImages.splice(i,1)):(this.goodsDetails.descImages.forEach((function(e,a){t.descImageCheck[i]||s.push(a)})),this.descImageCheck=[],this.goodsDetails.descImages=s);else if(4===e)this.$set(this.goodsDetails.sizeImages,0,{id:0,img:""});else if(5===e){if(i>-1){var p=this.goodsDetails.tier_variation["spec2"],g=this.goodsDetails.tier_variation[p][i];this.goodsDetails.itemmodels.forEach((function(e){e.sku_spec2!==g&&a.push(e)})),this.goodsDetails.tier_variation[p].splice(i,1)}else{for(var m=this.goodsDetails.tier_variation["spec2"],h=[],f=this.skuDetail2Check.length-1;f>-1;f--)this.skuDetail2Check[f]&&(h.push(this.goodsDetails.tier_variation[m][f]),this.goodsDetails.tier_variation[m].splice(f,1));this.goodsDetails.itemmodels.forEach((function(e){h.indexOf(e.sku_spec2)<0&&a.push(e)})),this.skuDetail2Check=[]}if(0===a.length){var v=this.goodsDetails.tier_variation["spec1"],b=this.goodsDetails.tier_variation[v];b.forEach((function(e,i){var s={sku:e,sku_image:t.goodsDetails.tier_variation.images[i],sku_spec1:e,sku_spec2:"",sku_stock:1e3,stock:1e3,sku_price:o,price:o};a.push(s)}))}this.goodsDetails.itemmodels=a}},downloadImage:function(e,t){console.log(e);var i=new Image;i.setAttribute("crossOrigin","anonymous"),i.src=e,i.onload=function(){var e=document.createElement("canvas");e.width=i.width,e.height=i.height;var s=e.getContext("2d");s.drawImage(i,0,0,i.width,i.height);var a=e.toDataURL("image/png"),o=document.createElement("a"),n=new MouseEvent("click");o.download=t||Math.round(1e8*Math.random())+".png",o.href=a,o.dispatchEvent(n)}},downloadImages:function(e){var t=this,i=[],s="";1===e?(this.goodsDetails.spec_image.forEach((function(e,s){t.specImageCheck[s]&&i.push(e)})),s="规格图片包"):2===e?(this.goodsDetails.images1.forEach((function(e,s){t.carouselImageCheck[s]&&i.push(e.img)})),s="轮播图片包"):3===e&&(this.goodsDetails.descImages.forEach((function(e,s){t.descImageCheck[s]&&i.push(e.img)})),s="详情图片包"),console.log(i,"imageUrls");var a=new jszip__WEBPACK_IMPORTED_MODULE_25___default.a,o=a.folder(s),n=[],r=i,c=[];c=r.map((function(e){return Math.round(1e8*Math.random())})),console.log(c);for(var l=function(){var e=new Image;e.setAttribute("crossOrigin","anonymous"),e.onload=function(){var t=document.createElement("canvas");t.width=e.width,t.height=e.height;var i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);var l=t.toDataURL();if(t.toDataURL("image/png"),n.push(l.substring(22)),n.length===r.length&&n.length>0){for(var _=0;_<n.length;_++)o.file(c[_]+".png",n[_],{base64:!0});a.generateAsync({type:"blob"}).then((function(e){file_saver__WEBPACK_IMPORTED_MODULE_26___default.a.saveAs(e,s+".zip")}))}},e.src=r[_]},_=0;_<r.length;_++)l()},multipleCheckClick:function(e,t){1===t?this.$set(this.specImageCheck,e,!this.specImageCheck[e]):2===t?this.$set(this.carouselImageCheck,e,!this.carouselImageCheck[e]):3===t?this.$set(this.descImageCheck,e,!this.descImageCheck[e]):4===t?this.$set(this.skuDetail1Check,e,!this.skuDetail1Check[e]):5===t&&this.$set(this.skuDetail2Check,e,!this.skuDetail2Check[e])},goodsChange:function(){var e=this;return Object(G_shopeeman_new_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function t(){var i,s,a,o,n,r,c,l,_,u,d,p,g,m,h,f,v,b,k,y,C;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=JSON.stringify(e.goodsDetails),console.log(i,e.goodsDetails),s=e.goodsDetails.id,a=e.goodsDetails.description||"",o=e.goodsDetails.title||"",n=e.goodsDetails.width||"0",r=e.goodsDetails.height||"0",c=e.goodsDetails.long||"0",l=e.goodsDetails.weight||"0",_=JSON.stringify(e.goodsDetails.itemmodels),_=_.replaceAll(/"id":[0-9]*,/gi,""),_=_.replaceAll(/"sku":"(((?!",).)*)",/gi,""),_=_.replaceAll('"sku_spec1":','"skuSpec1":'),_=_.replaceAll('"sku_spec2":','"skuSpec2":'),_=_.replaceAll('"sku_image":','"skuImage":'),_=_.replaceAll('"sku_sn":','"skuSn":'),_=_.replaceAll(/"sku_price":"(((?!",).)*)",/gi,'"skuPrice":$1,'),_=_.replaceAll('"sku_price":','"skuPrice":'),_=_.replaceAll(/"sku_stock":([0-9]*),/gi,'"skuStock":"$1",'),_=_.replaceAll('"sku_stock":','"skuStock":'),t.next=22,e.$commodityService.updateGoods({sysGoodsId:s,description:a,title:o,width:n,height:r,long:c,weight:l});case 22:if(u=t.sent,d=JSON.parse(u),200!==d.code){t.next=46;break}return t.next=27,e.$commodityService.saveAndUpdateSkuDatas(s,_);case 27:if(p=t.sent,g=JSON.parse(p),200!==g.code){t.next=43;break}for(m=Object(G_shopeeman_new_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__["a"])(e.goodsDetails.descImages.map((function(e){return{id:e.id+"",imageUrl:e.img}}))),h=Object(G_shopeeman_new_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__["a"])(e.goodsDetails.images1.map((function(e){return{id:e.id+"",imageUrl:e.img}}))),f=e.goodsDetails.sizeImages[0]&&e.goodsDetails.sizeImages[0].img||"",v=[],b=e.goodsDetails.spec_image.length>=e.lodSpecImage.length&&e.goodsDetails.spec_image.length||e.lodSpecImage.length,k=0;k<b;k++)y=e.lodSpecImage[k]||"",C=e.goodsDetails.spec_image[k]||"",v.push({oldImageUrl:y,imageUrl:C});return t.next=38,e.$commodityService.updateGoodsAllImage({sysGoodsId:s,descImages:m,images:h,sizeImageUrl:f});case 38:t.sent,e.$message.success("保存成功"),e.$emit("goodsEditorCancel",{sysGoodsId:s,title:o,description:a,width:n,height:r,long:c,weight:l}),t.next=44;break;case 43:e.$message.error("保存失败");case 44:t.next=47;break;case 46:e.$message.error("保存失败");case 47:case"end":return t.stop()}}),t)})))()},handleClick:function(e){}}}},faf2:function(e,t,i){}}]);