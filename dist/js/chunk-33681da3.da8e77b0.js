(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-33681da3"],{"463e":function(e,t,a){},6872:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"contaniner"},[a("el-row",{staticClass:"header"},[a("ul",{staticStyle:{"margin-bottom":"10px"}},[a("li",[a("span",[e._v("退件状态：")]),a("el-select",{attrs:{placeholder:"",size:"mini",filterable:""},model:{value:e.form.returnStatus,callback:function(t){e.$set(e.form,"returnStatus",t)},expression:"form.returnStatus"}},[a("el-option",{attrs:{label:"全部",value:0}}),e._l(e.returnStatusList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})}))],2)],1),a("li",[a("span",[e._v("申请退件时间：")]),a("el-date-picker",{attrs:{"unlink-panels":"",size:"mini",type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.form.applyReturnTime,callback:function(t){e.$set(e.form,"applyReturnTime",t)},expression:"form.applyReturnTime"}})],1),a("li",[a("span",[e._v("退件时间：")]),a("el-date-picker",{attrs:{"unlink-panels":"",size:"mini",type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.form.returnTime,callback:function(t){e.$set(e.form,"returnTime",t)},expression:"form.returnTime"}})],1)]),a("ul",[a("li",[a("span",[e._v("订单编号：")]),a("el-input",{attrs:{clearable:"",size:"mini",oninput:"value=value.replace(/\\s+/g,'')"},model:{value:e.form.orderNum,callback:function(t){e.$set(e.form,"orderNum",t)},expression:"form.orderNum"}})],1),a("li",[a("span",[e._v("包裹物流编号：")]),a("el-input",{attrs:{clearable:"",size:"mini",oninput:"value=value.replace(/\\s+/g,'')"},model:{value:e.form.logisticsNum,callback:function(t){e.$set(e.form,"logisticsNum",t)},expression:"form.logisticsNum"}})],1),a("li",[a("span",[e._v("退件物流单号：")]),a("el-input",{attrs:{clearable:"",size:"mini",oninput:"value=value.replace(/\\s+/g,'')"},model:{value:e.form.returnLogisticsNum,callback:function(t){e.$set(e.form,"returnLogisticsNum",t)},expression:"form.returnLogisticsNum"}})],1),a("li",[a("span",[e._v("退件人手机号：")]),a("el-input",{attrs:{clearable:"",size:"mini",oninput:"value=value.replace(/\\s+/g,'')"},model:{value:e.form.returnPhone,callback:function(t){e.$set(e.form,"returnPhone",t)},expression:"form.returnPhone"}})],1),a("li",[a("el-button",{attrs:{type:"primary",disabled:e.cancelLoading,size:"mini"},on:{click:function(t){e.page=1,e.getReturnManage()}}},[e._v("查询")]),a("el-button",{attrs:{type:"primary",size:"mini",loading:e.cancelLoading},on:{click:function(t){return e.batchCancelReturn()}}},[e._v("批量取消退件")])],1)])]),a("el-row",{attrs:{id:"article"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.isShowLoading,expression:"isShowLoading"}],ref:"plTable",attrs:{height:"calc(100vh - 205px)",data:e.tableData,"header-cell-style":{backgroundColor:"#f5f7fa"}},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{align:"center",type:"selection",width:"50"}}),a("el-table-column",{attrs:{align:"center",type:"index",label:"序号",width:"50",fixed:""}}),a("el-table-column",{attrs:{prop:"need_return_package_code",label:"包裹物流单号",width:"150",fixed:""},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("span",[e._v(" "+e._s(n.need_return_package_code)+" "),n.need_return_package_code?a("span",{staticClass:"copyIcon",on:{click:function(t){return e.copy(n.need_return_package_code)}}},[a("i",{staticClass:"el-icon-document-copy"})]):e._e()])]}}])}),a("el-table-column",{attrs:{prop:"order_sn",label:"订单编号",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("span",[e._v(" "+e._s(n.order_sn)+" "),n.order_sn?a("span",{staticClass:"copyIcon",on:{click:function(t){return e.copy(n.order_sn)}}},[a("i",{staticClass:"el-icon-document-copy"})]):e._e()])]}}])}),a("el-table-column",{attrs:{prop:"warehouse_name",label:"签收仓库",width:"130"}}),a("el-table-column",{attrs:{prop:"status",label:"状态",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[1===n.status?a("span",[e._v("退件中")]):2===n.status?a("span",[e._v("已退件")]):3===n.status?a("span",[e._v("退件失败")]):4===n.status?a("span",[e._v("取消退件")]):5===n.status?a("span",[e._v("仓库驳回")]):a("span")]}}])}),a("el-table-column",{attrs:{prop:"appli_return_time",label:"申请退件时间",width:"110"}}),a("el-table-column",{attrs:{prop:"return_contact",label:"退件人",width:"80"}}),a("el-table-column",{attrs:{prop:"return_phone_number",label:"退件电话",width:"120"}}),a("el-table-column",{attrs:{prop:"return_address",label:"退件地址",width:"150"}}),a("el-table-column",{attrs:{prop:"return_remarks",label:"退件备注",width:"100"}}),a("el-table-column",{attrs:{prop:"return_shipping_number",label:"退件物流单号",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("span",[e._v(" "+e._s(n.return_shipping_number)+" "),n.return_shipping_number?a("span",{staticClass:"copyIcon",on:{click:function(t){return e.copy(n.return_shipping_number)}}},[a("i",{staticClass:"el-icon-document-copy"})]):e._e()])]}}])}),a("el-table-column",{attrs:{prop:"return_shipping_name",label:"退件物流公司",width:"110"}}),a("el-table-column",{attrs:{prop:"return_time",label:"退件时间",width:"110"}}),a("el-table-column",{attrs:{prop:"warehouse_remarks",label:"仓库备注",width:"100"}}),a("el-table-column",{attrs:{width:"120",label:"操作",fixed:"right",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[4!=n.status&&2!=n.status?a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.cancelReturn(n)}}},[e._v("取消退件")]):e._e()]}}])})],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"","current-page":e.page,"page-sizes":[30,50,100],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1)},r=[],l=a("1da1"),o=(a("96cf"),a("d81d"),a("99af"),a("a9e3"),{data:function(){return{cancelLoading:!1,form:{returnTime:"",applyReturnTime:[(new Date).getTime()-2592e6,new Date],returnStatus:0,orderNum:"",logisticsNum:"",returnLogisticsNum:"",returnPhone:""},total:0,pageSize:30,page:1,tableData:[],packageCodes:[],returnStatusList:[{value:"1",label:"退件中"},{value:"2",label:"已退件"},{value:"3",label:"退件失败"},{value:"4",label:"取消退件"},{value:"5",label:"仓库驳回"}],returnMsg:!1,multipleSelection:[],isShowLoading:!1}},mounted:function(){this.getReturnManage()},methods:{batchCancelReturn:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.multipleSelection.length){t.next=2;break}return t.abrupt("return",e.$message("请选择需要取消退件的包裹"));case 2:return e.packageCodes=[],e.multipleSelection.map((function(t){e.packageCodes.push(t.need_return_package_code)})),e.cancelLoading=!0,t.next=7,e.cancel();case 7:e.cancelLoading=!1;case 8:case"end":return t.stop()}}),t)})))()},cancelReturn:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.packageCodes=[],t.packageCodes.push(e.need_return_package_code),a.next=4,t.cancel();case 4:case"end":return a.stop()}}),a)})))()},cancel:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$api.cancelReturn({packageCodes:e.packageCodes});case 2:a=t.sent,200===a.data.code?(e.getReturnManage(),e.$message.success("取消退件成功")):e.$message.error(a.data.message);case 4:case"end":return t.stop()}}),t)})))()},getReturnManage:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a,n,r,l,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isShowLoading=!0,a=e.form.signingTime?"".concat(e.$dayjs(e.form.returnTime[0]).format("YYYY-MM-DD HH:mm:ss"),"/").concat(e.$dayjs(e.form.returnTime[1]).format("YYYY-MM-DD HH:mm:ss")):"",n=e.form.applyReturnTime?"".concat(e.$dayjs(e.form.applyReturnTime[0]).format("YYYY-MM-DD HH:mm:ss"),"/").concat(e.$dayjs(e.form.applyReturnTime[1]).format("YYYY-MM-DD HH:mm:ss")):"",r={packageCode:e.form.logisticsNum,orderSn:e.form.orderNum,status:Number(e.form.returnStatus),returnShippingNumber:e.form.returnLogisticsNum,returnPhoneNumber:e.form.returnPhone,returnTime:a,appliReturnTime:n,page:e.page,pageSize:e.pageSize},t.prev=4,t.next=7,e.$api.getReturnManage(r);case 7:l=t.sent,o=l.data,200===o.code?(e.tableData=o.data.data,e.total=o.data.total):e.$message.error("数据获取失败",o.message),t.next=14;break;case 12:t.prev=12,t.t0=t["catch"](4);case 14:e.isShowLoading=!1;case 15:case"end":return t.stop()}}),t,null,[[4,12]])})))()},copy:function(e){var t=document.createElement("div");t.id="tempTarget",t.style.opacity="0",t.innerText=e,document.body.appendChild(t);try{var a=document.createRange();a.selectNode(t),window.getSelection().removeAllRanges(),window.getSelection().addRange(a),document.execCommand("copy"),window.getSelection().removeAllRanges(),this.$message.success("复制成功")}catch(n){}t.parentElement.removeChild(t)},handleSizeChange:function(e){this.page=1,this.pageSize=e,this.getReturnManage()},handleCurrentChange:function(e){this.page=e,this.getReturnManage()},handleSelectionChange:function(e){this.multipleSelection=e}}}),i=o,s=(a("b807"),a("2877")),c=Object(s["a"])(i,n,r,!1,null,"f3cecfc2",null);t["default"]=c.exports},b807:function(e,t,a){"use strict";a("463e")}}]);