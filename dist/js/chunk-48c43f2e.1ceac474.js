(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-48c43f2e"],{4705:function(e,t,i){"use strict";i("ba09")},"4c28":function(e,t,i){},"6c4c":function(e,t,i){},"78cd":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-row",{staticClass:"contaniner"},[i("el-row",{staticClass:"header"},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.isNoFoldShow,expression:"isNoFoldShow"}],staticClass:"nowrapBox"},[i("div",{staticClass:"basisInstall"},[i("div",{staticClass:"basisInstall-title"},[e._v("店铺设置")]),i("storeChoose",{staticStyle:{"margin-bottom":"5px"},attrs:{spanWidth:"60px",source:"true","is-reset":!0},on:{changeMallList:e.changeMallList}}),i("div",{staticClass:"basisInstall-box",staticStyle:{"flex-wrap":"nowrap"}},[i("div",[e._v("物流设置：")]),i("div",[i("el-checkbox-group",{attrs:{size:"mini"},model:{value:e.logistics,callback:function(t){e.logistics=t},expression:"logistics"}},e._l(e.logisticsList,(function(t){return i("el-checkbox",{key:t.ShipId,attrs:{label:t.ShipName,value:t,disabled:e.isBanPerform}})})),1),e.customLogistics[0]?i("div",[i("p",{staticStyle:{color:"var(--themeColor)"}},[e._v("确保此物流方式已在商家后台开启 "),i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"请填写相应站点币种价格，此价格不可转换",placement:"top"}},[i("el-button",{attrs:{size:"mini",type:"text"}},[i("i",{staticClass:"el-icon-question"})])],1)],1),e._l(e.customLogistics,(function(t){return i("div",{key:t.ShipId,staticStyle:{"margin-bottom":"5px"}},[i("span",[e._v(e._s(t.ShipName))]),i("el-input",{staticStyle:{width:"100px","margin-left":"5px"},attrs:{size:"mini"},model:{value:t.price,callback:function(i){e.$set(t,"price",i)},expression:"item.price"}})],1)}))],2):e._e()],1)]),i("div",{staticClass:"basisInstall-box"},[i("div",[e._v("水印设置：")]),i("div",[i("el-checkbox",{attrs:{size:"mini",disabled:e.isBanPerform},model:{value:e.storeConfig.watermarkChecked,callback:function(t){e.$set(e.storeConfig,"watermarkChecked",t)},expression:"storeConfig.watermarkChecked"}},[e._v("批量添加水印 ")]),i("el-button",{staticStyle:{"margin-left":"15px"},attrs:{disabled:e.isBanPerform,size:"mini",type:"primary"},on:{click:function(t){return e.setWatermark(1)}}},[e._v("水印配置 ")])],1)]),i("div",{staticClass:"basisInstall-box"},[i("div",[e._v("SKU价格：")]),i("div",[i("el-radio",{attrs:{label:0,disabled:e.isBanPerform},model:{value:e.storeConfig.priceRadio,callback:function(t){e.$set(e.storeConfig,"priceRadio",t)},expression:"storeConfig.priceRadio"}},[e._v("保留全部")]),i("el-radio",{attrs:{label:1,disabled:e.isBanPerform},model:{value:e.storeConfig.priceRadio,callback:function(t){e.$set(e.storeConfig,"priceRadio",t)},expression:"storeConfig.priceRadio"}},[e._v("删除最低价")]),i("el-radio",{attrs:{label:2,disabled:e.isBanPerform},model:{value:e.storeConfig.priceRadio,callback:function(t){e.$set(e.storeConfig,"priceRadio",t)},expression:"storeConfig.priceRadio"}},[e._v("删除最高价")])],1)]),i("div",{staticClass:"basisInstall-box"},[i("div",[e._v("商品设置：")]),i("div",[i("el-checkbox",{attrs:{size:"mini",disabled:e.isBanPerform},model:{value:e.storeConfig.activityChecked,callback:function(t){e.$set(e.storeConfig,"activityChecked",t)},expression:"storeConfig.activityChecked"}},[e._v("添加到折扣活动或商品分类 ")]),i("el-button",{staticStyle:{"margin-left":"15px"},attrs:{size:"mini",type:"primary",disabled:e.isBanPerform},on:{click:function(t){return e.setSellActive()}}},[e._v("行销活动配置 ")])],1)]),i("div",{staticClass:"basisInstall-box"},[i("el-checkbox-group",{attrs:{size:"mini"},model:{value:e.storeConfig.chineseChecked,callback:function(t){e.$set(e.storeConfig,"chineseChecked",t)},expression:"storeConfig.chineseChecked"}},[i("el-checkbox",{staticStyle:{margin:"0"},attrs:{label:"允许上新中文",disabled:e.isBanPerform}}),i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"勾选后，将不再检测商品信息中是否含有中文",placement:"top"}},[i("el-button",{attrs:{size:"mini",type:"text"}},[i("i",{staticClass:"el-icon-question",staticStyle:{padding:"0 2px"}})])],1),i("el-checkbox",{staticStyle:{"margin-left":"15px"},attrs:{label:"允许上新简体数据",disabled:e.isBanPerform||e.storeConfig.chineseChecked.length<1}}),i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"勾选后，将不再检测商品语种是否为简体",placement:"top"}},[i("el-button",{attrs:{size:"mini",type:"text"}},[i("i",{staticClass:"el-icon-question",staticStyle:{padding:"0 2px"}})])],1)],1)],1),i("div",{staticClass:"basisInstall-box"},[i("div",[e._v("图片上传线程数量： "),i("el-input",{staticStyle:{width:"60px"},attrs:{size:"mini"},on:{change:function(t){return e.changeStockUpNumber(e.storeConfig.pictureThread,4)}},model:{value:e.storeConfig.pictureThread,callback:function(t){e.$set(e.storeConfig,"pictureThread",t)},expression:"storeConfig.pictureThread"}}),i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"0<线程数量<6，建议数量为3",placement:"top"}},[i("el-button",{attrs:{size:"mini",type:"text"}},[i("i",{staticClass:"el-icon-question",staticStyle:{padding:"0 2px"}})])],1)],1),i("div",{staticStyle:{"margin-left":"15px"}},[i("el-checkbox",{attrs:{size:"mini",disabled:e.isBanPerform},model:{value:e.storeConfig.wordsHeavy,callback:function(t){e.$set(e.storeConfig,"wordsHeavy",t)},expression:"storeConfig.wordsHeavy"}},[e._v("标题内单词去重")])],1)]),"MY"===e.country||"ID"===e.country?i("div",{staticClass:"basisInstall-box"},[i("div",[e._v("危险物品：")]),i("el-radio",{attrs:{label:0,disabled:e.isBanPerform},model:{value:e.storeConfig.dangerousRadio,callback:function(t){e.$set(e.storeConfig,"dangerousRadio",t)},expression:"storeConfig.dangerousRadio"}},[e._v("不是")]),i("el-radio",{attrs:{label:1,disabled:e.isBanPerform},model:{value:e.storeConfig.dangerousRadio,callback:function(t){e.$set(e.storeConfig,"dangerousRadio",t)},expression:"storeConfig.dangerousRadio"}},[e._v("包含电池/磁铁/易燃材料")])],1):e._e(),i("div",{staticClass:"basisInstall-box"},[i("el-button",{attrs:{size:"mini",disabled:e.isBanPerform,type:"primary"},on:{click:e.enterGoodsTag}},[e._v("标记商品标签")]),i("el-button",{attrs:{size:"mini",disabled:e.isBanPerform},on:{click:function(t){return e.enterCategory({})}}},[e._v("同步类目属性")]),i("el-button",{attrs:{size:"mini",disabled:e.isBanPerform,type:"primary"},on:{click:function(e){}}},[e._v("保存配置")])],1)],1),i("div",{staticClass:"basisInstall"},[i("div",{staticClass:"basisInstall-title"},[e._v("基础设置")]),i("div",{staticClass:"basisInstall-box"},[i("el-radio",{attrs:{disabled:e.isBanPerform,label:1},model:{value:e.basicConfig.valuationRadio,callback:function(t){e.$set(e.basicConfig,"valuationRadio",t)},expression:"basicConfig.valuationRadio"}},[e._v("计价方式一")]),i("el-radio",{attrs:{disabled:e.isBanPerform,label:2},model:{value:e.basicConfig.valuationRadio,callback:function(t){e.$set(e.basicConfig,"valuationRadio",t)},expression:"basicConfig.valuationRadio"}},[e._v("计价方式二")]),i("el-radio",{attrs:{disabled:e.isBanPerform,label:3},model:{value:e.basicConfig.valuationRadio,callback:function(t){e.$set(e.basicConfig,"valuationRadio",t)},expression:"basicConfig.valuationRadio"}},[e._v("计价方式三")])],1),1===e.basicConfig.valuationRadio?i("div",[i("div",{staticClass:"basisInstall-box"},[i("div",[e._v("基础加价：")]),i("el-input",{staticStyle:{width:"60px","margin-right":"5px"},attrs:{size:"mini"},model:{value:e.basicConfig.formula.percentage,callback:function(t){e.$set(e.basicConfig.formula,"percentage",t)},expression:"basicConfig.formula.percentage"}}),e._v(" %　+　基础价 "),i("el-input",{staticStyle:{width:"60px","margin-right":"5px"},attrs:{size:"mini"},model:{value:e.basicConfig.formula.basis,callback:function(t){e.$set(e.basicConfig.formula,"basis",t)},expression:"basicConfig.formula.basis"}}),e._v(" 　+　藏价 "),i("el-input",{staticStyle:{width:"60px"},attrs:{size:"mini"},model:{value:e.basicConfig.formula.hidden,callback:function(t){e.$set(e.basicConfig.formula,"hidden",t)},expression:"basicConfig.formula.hidden"}}),i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"加价方式：原价+原价*百分百+基础价+藏价",placement:"top"}},[i("el-button",{attrs:{size:"mini",type:"text"}},[i("i",{staticClass:"el-icon-question",staticStyle:{padding:"0 2px"}})])],1)],1),i("div",{staticClass:"basisInstall-box"},[i("div",[e._v("商品折扣：")]),i("div",[i("el-input",{staticStyle:{width:"60px","margin-right":"5px"},attrs:{size:"mini"},model:{value:e.basicConfig.discount,callback:function(t){e.$set(e.basicConfig,"discount",t)},expression:"basicConfig.discount"}}),e._v(" % "),i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"例：25（加价完成后价格） / 0.5（商品折扣为50%）",placement:"top"}},[i("el-button",{attrs:{size:"mini",type:"text"}},[i("i",{staticClass:"el-icon-question",staticStyle:{padding:"0 2px"}})])],1)],1),i("div",{staticStyle:{"margin-left":"10px"}},[e._v("计价方式：")]),i("el-radio",{staticStyle:{"margin-right":"10px"},attrs:{disabled:e.isBanPerform,label:0},model:{value:e.basicConfig.valuationMethodsRadio,callback:function(t){e.$set(e.basicConfig,"valuationMethodsRadio",t)},expression:"basicConfig.valuationMethodsRadio"}},[e._v("以折扣价为准 ")]),i("el-radio",{attrs:{disabled:e.isBanPerform,label:1},model:{value:e.basicConfig.valuationMethodsRadio,callback:function(t){e.$set(e.basicConfig,"valuationMethodsRadio",t)},expression:"basicConfig.valuationMethodsRadio"}},[e._v("以零售价为准 ")])],1)]):e._e(),2===e.basicConfig.valuationRadio?i("div",[i("div",{staticClass:"basisInstall-box"},[i("div",[e._v("计价方式：")]),i("el-radio",{staticStyle:{"margin-right":"10px"},attrs:{disabled:e.isBanPerform,label:0},model:{value:e.basicConfig.valuationMethodsRadio,callback:function(t){e.$set(e.basicConfig,"valuationMethodsRadio",t)},expression:"basicConfig.valuationMethodsRadio"}},[e._v("以折扣价为准 ")]),i("el-radio",{attrs:{disabled:e.isBanPerform,label:1},model:{value:e.basicConfig.valuationMethodsRadio,callback:function(t){e.$set(e.basicConfig,"valuationMethodsRadio",t)},expression:"basicConfig.valuationMethodsRadio"}},[e._v("以零售价为准 ")]),i("el-button",{attrs:{disabled:e.isBanPerform,size:"mini",type:"primary"},on:{click:function(e){}}},[e._v("计价配置")])],1)]):e._e(),3===e.basicConfig.valuationRadio?i("div",[i("div",{staticClass:"basisInstall-box"},[i("div",[e._v("商品价格：")]),i("el-input",{staticStyle:{width:"120px"},attrs:{size:"mini"},model:{value:e.basicConfig.fixedPrice,callback:function(t){e.$set(e.basicConfig,"fixedPrice",t)},expression:"basicConfig.fixedPrice"}}),i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"每个热搜词之间以逗号隔开，不进行翻译",placement:"top"}},[i("el-button",{attrs:{size:"mini",type:"text"}},[i("i",{staticClass:"el-icon-question",staticStyle:{padding:"0 2px"}})])],1)],1)]):e._e(),i("div",{staticClass:"basisInstall-box"},[i("div",{staticStyle:{display:"flex","align-items":"center"}},[i("div",[e._v("添加热搜词：")]),i("el-radio",{staticStyle:{"margin-right":"15px","line-height":"28px"},attrs:{disabled:e.isBanPerform,label:0},model:{value:e.basicConfig.headlineRadio,callback:function(t){e.$set(e.basicConfig,"headlineRadio",t)},expression:"basicConfig.headlineRadio"}},[e._v(" 标题前加 ")]),i("el-radio",{staticStyle:{"margin-right":"20px","line-height":"28px"},attrs:{disabled:e.isBanPerform,label:1},model:{value:e.basicConfig.headlineRadio,callback:function(t){e.$set(e.basicConfig,"headlineRadio",t)},expression:"basicConfig.headlineRadio"}},[e._v(" 标题后加 ")]),i("div",[e._v("热搜词随机个数 "),i("el-input",{staticStyle:{width:"60px","margin-left":"5px"},attrs:{size:"mini"},model:{value:e.basicConfig.hotSearch,callback:function(t){e.$set(e.basicConfig,"hotSearch",t)},expression:"basicConfig.hotSearch"}})],1),i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"每个热搜词之间以逗号隔开，不进行翻译",placement:"top"}},[i("el-button",{attrs:{size:"mini",type:"text"}},[i("i",{staticClass:"el-icon-question",staticStyle:{padding:"0 2px"}})])],1)],1),i("div",{staticStyle:{width:"95%","margin-top":"5px"}},[i("el-input",{staticStyle:{width:"100%"},attrs:{type:"textarea",rows:2,resize:"none",placeholder:"请输入热搜词,以逗号隔开"},model:{value:e.basicConfig.hotList,callback:function(t){e.$set(e.basicConfig,"hotList",t)},expression:"basicConfig.hotList"}})],1)]),i("div",{staticClass:"basisInstall-box"},[i("div",[e._v("禁运设置：")]),i("div",[i("el-checkbox",{attrs:{disabled:e.isBanPerform,size:"mini"},model:{value:e.basicConfig.embargoChecked1,callback:function(t){e.$set(e.basicConfig,"embargoChecked1",t)},expression:"basicConfig.embargoChecked1"}},[e._v("启动禁运类目拦截 ")]),i("el-checkbox",{attrs:{disabled:e.isBanPerform,size:"mini"},model:{value:e.basicConfig.embargoChecked2,callback:function(t){e.$set(e.basicConfig,"embargoChecked2",t)},expression:"basicConfig.embargoChecked2"}},[e._v("启动禁运词拦截 ")])],1)]),i("div",{staticClass:"basisInstall-box"},[i("div",[e._v("商品重量：")]),i("div",[i("el-input",{staticStyle:{width:"60px"},attrs:{size:"mini"},model:{value:e.basicConfig.minHeavy,callback:function(t){e.$set(e.basicConfig,"minHeavy",t)},expression:"basicConfig.minHeavy"}}),e._v(" - "),i("el-input",{staticStyle:{width:"60px","margin-right":"5px"},attrs:{size:"mini"},model:{value:e.basicConfig.maxHeavy,callback:function(t){e.$set(e.basicConfig,"maxHeavy",t)},expression:"basicConfig.maxHeavy"}}),e._v(" kg "),i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"商品重量默认随机0.1 - 1kg",placement:"top"}},[i("el-button",{attrs:{size:"mini",type:"text"}},[i("i",{staticClass:"el-icon-question",staticStyle:{padding:"0 2px"}})])],1)],1),i("div",{staticStyle:{"margin-left":"15px"}},[e._v("类目映射：")]),i("el-select",{staticStyle:{width:"120px"},attrs:{size:"mini"},model:{value:e.basicConfig.categoryMapping,callback:function(t){e.$set(e.basicConfig,"categoryMapping",t)},expression:"basicConfig.categoryMapping"}},e._l(e.categoryMappingList,(function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),i("div",{staticClass:"basisInstall-box"},[i("div",[e._v("Shopee商品类目：")]),i("div",[i("el-checkbox",{attrs:{size:"mini",disabled:e.isBanPerform},model:{value:e.basicConfig.sourceCategoryChecked,callback:function(t){e.$set(e.basicConfig,"sourceCategoryChecked",t)},expression:"basicConfig.sourceCategoryChecked"}},[e._v(" 使用Shopee采集商品源类目 ")]),i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Shopee商品只有类目能使用商品源类目，属性只能选择默认！",placement:"top"}},[i("el-button",{attrs:{size:"mini",type:"text"}},[i("i",{staticClass:"el-icon-question",staticStyle:{padding:"0 2px"}})])],1)],1)]),i("div",{staticClass:"basisInstall-box"},[i("div",[e._v("预购：")]),i("div",[i("el-checkbox",{attrs:{size:"mini",disabled:e.isBanPerform},model:{value:e.basicConfig.stockUpChecked,callback:function(t){e.$set(e.basicConfig,"stockUpChecked",t)},expression:"basicConfig.stockUpChecked"}},[e._v("是否较长时间备货 ")]),i("el-input",{staticStyle:{width:"60px",margin:"0 5px"},attrs:{size:"mini",min:7,max:30},on:{change:function(t){return e.changeStockUpNumber(e.basicConfig.stockUpNumber,1)}},model:{value:e.basicConfig.stockUpNumber,callback:function(t){e.$set(e.basicConfig,"stockUpNumber",t)},expression:"basicConfig.stockUpNumber"}}),e._v(" 天 "),i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"如果备货最短7天，最长30天",placement:"top"}},[i("el-button",{attrs:{size:"mini",type:"text"}},[i("i",{staticClass:"el-icon-question",staticStyle:{padding:"0 2px"}})])],1)],1)]),i("div",{staticClass:"basisInstall-box"},[i("div",[e._v("上新线程：")]),i("el-input",{staticStyle:{width:"60px",margin:"0 5px"},attrs:{size:"mini"},on:{change:function(t){return e.changeStockUpNumber(e.basicConfig.onNewThread,2)}},model:{value:e.basicConfig.onNewThread,callback:function(t){e.$set(e.basicConfig,"onNewThread",t)},expression:"basicConfig.onNewThread"}}),i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"请根据电脑配置合理设置上新线程数，最大为5",min:1,max:5,placement:"top"}},[i("el-button",{attrs:{size:"mini",type:"text"}},[i("i",{staticClass:"el-icon-question",staticStyle:{padding:"0 2px"}})])],1),i("div",{staticStyle:{"margin-left":"25px"}},[i("el-checkbox",{attrs:{size:"mini",disabled:e.isBanPerform},model:{value:e.basicConfig.numberCeilingChecked,callback:function(t){e.$set(e.basicConfig,"numberCeilingChecked",t)},expression:"basicConfig.numberCeilingChecked"}},[e._v("单店店铺上货数量上限 ")]),i("el-input",{staticStyle:{width:"60px",margin:"0 5px"},attrs:{size:"mini"},model:{value:e.basicConfig.numberCeiling,callback:function(t){e.$set(e.basicConfig,"numberCeiling",t)},expression:"basicConfig.numberCeiling"}})],1)],1),i("div",{staticClass:"basisInstall-box"},[i("el-checkbox",{attrs:{size:"mini",disabled:e.isBanPerform},model:{value:e.basicConfig.usedChecked,callback:function(t){e.$set(e.basicConfig,"usedChecked",t)},expression:"basicConfig.usedChecked"}},[e._v("是否二手商品")]),i("div",{staticStyle:{"margin-left":"15px"}},[i("el-checkbox",{attrs:{size:"mini",disabled:e.isBanPerform},model:{value:e.basicConfig.deleteCollectChecked,callback:function(t){e.$set(e.basicConfig,"deleteCollectChecked",t)},expression:"basicConfig.deleteCollectChecked"}},[e._v("上新后删除收藏商品 ")]),i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"删除商品库中的原商品（不适用于一商品多店铺模式）",placement:"top"}},[i("el-button",{attrs:{size:"mini",type:"text"}},[i("i",{staticClass:"el-icon-question",staticStyle:{padding:"0 2px"}})])],1)],1),i("div",{staticStyle:{"margin-left":"15px"}},[i("el-checkbox",{attrs:{size:"mini",disabled:e.isBanPerform},model:{value:e.basicConfig.autoCompleteChecked,callback:function(t){e.$set(e.basicConfig,"autoCompleteChecked",t)},expression:"basicConfig.autoCompleteChecked"}},[e._v("自动补齐9张轮播主图 ")])],1)],1)]),i("div",{staticClass:"basisInstall"},[i("div",{staticClass:"basisInstall-title"},[e._v("防关联设置")]),i("div",{staticClass:"basisInstall-box"},[i("div",{staticClass:"keepRight"},[e._v("商品标题：")]),i("el-checkbox",{attrs:{size:"mini",disabled:e.isBanPerform},model:{value:e.associatedConfig.specialCharChecked,callback:function(t){e.$set(e.associatedConfig,"specialCharChecked",t)},expression:"associatedConfig.specialCharChecked"}},[e._v("随机加入特殊字符 ")]),i("el-checkbox",{attrs:{size:"mini",disabled:e.isBanPerform},model:{value:e.associatedConfig.realNameChecked,callback:function(t){e.$set(e.associatedConfig,"realNameChecked",t)},expression:"associatedConfig.realNameChecked"}},[e._v("开头加上店铺真实名 ")])],1),i("div",{staticClass:"basisInstall-box"},[i("div",{staticClass:"keepRight"},[e._v("上新时间间隔：")]),i("el-input",{staticStyle:{width:"120px","margin-right":"5px"},attrs:{size:"mini"},model:{value:e.associatedConfig.onNewInterval,callback:function(t){e.$set(e.associatedConfig,"onNewInterval",t)},expression:"associatedConfig.onNewInterval"}}),e._v(" S "),i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"默认印尼站点上新时间间隔为50S，其他站点为40S",placement:"top"}},[i("el-button",{attrs:{size:"mini",type:"text"}},[i("i",{staticClass:"el-icon-question",staticStyle:{padding:"0 2px"}})])],1)],1),i("div",{staticClass:"basisInstall-box"},[i("div",{staticClass:"keepRight"},[e._v("重复上新维度：")]),i("el-radio",{attrs:{label:0,disabled:e.isBanPerform},model:{value:e.associatedConfig.dimensionRadio,callback:function(t){e.$set(e.associatedConfig,"dimensionRadio",t)},expression:"associatedConfig.dimensionRadio"}},[e._v("站点")]),i("el-radio",{attrs:{label:1,disabled:e.isBanPerform},model:{value:e.associatedConfig.dimensionRadio,callback:function(t){e.$set(e.associatedConfig,"dimensionRadio",t)},expression:"associatedConfig.dimensionRadio"}},[e._v("店铺")]),i("el-radio",{staticStyle:{"margin-right":"0"},attrs:{label:2,disabled:e.isBanPerform},model:{value:e.associatedConfig.dimensionRadio,callback:function(t){e.$set(e.associatedConfig,"dimensionRadio",t)},expression:"associatedConfig.dimensionRadio"}},[e._v("一商品多店铺 ")]),i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"同一商品上新到不同店铺中，为避免重复铺货，请配合热搜词使用",placement:"top"}},[i("el-button",{attrs:{size:"mini",type:"text"}},[i("i",{staticClass:"el-icon-question",staticStyle:{padding:"0 2px"}})])],1)],1),2===e.associatedConfig.dimensionRadio?i("div",{staticClass:"basisInstall-box"},[i("div",{staticClass:"keepRight"},[e._v("商品价格幅度：")]),e._v(" 一商品多店铺上新价格幅度± "),i("el-input",{staticStyle:{width:"60px",margin:"0 5px"},attrs:{size:"mini"},on:{change:function(t){return e.changeStockUpNumber(e.associatedConfig.priceRange,3)}},model:{value:e.associatedConfig.priceRange,callback:function(t){e.$set(e.associatedConfig,"priceRange",t)},expression:"associatedConfig.priceRange"}}),e._v(" % "),i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"避免同一商品在多个店铺中价格相同，最大幅度10%，不设置请填入0",placement:"top"}},[i("el-button",{attrs:{size:"mini",type:"text"}},[i("i",{staticClass:"el-icon-question",staticStyle:{padding:"0 2px"}})])],1)],1):e._e(),i("div",{staticClass:"basisInstall-box",staticStyle:{"flex-wrap":"nowrap"}},[i("div",{staticClass:"keepRight"},[e._v("图片设置：")]),i("div",{staticStyle:{display:"flex","flex-wrap":"wrap","align-items":"center",flex:"1"}},[i("div",{staticStyle:{width:"100%"}},[2===e.associatedConfig.dimensionRadio?i("el-checkbox",{attrs:{size:"mini",disabled:e.isBanPerform},model:{value:e.associatedConfig.pictureSetting.mainRandomChecked,callback:function(t){e.$set(e.associatedConfig.pictureSetting,"mainRandomChecked",t)},expression:"associatedConfig.pictureSetting.mainRandomChecked"}},[e._v("随机主图 ")]):e._e(),i("el-checkbox",{attrs:{size:"mini",disabled:e.isBanPerform},model:{value:e.associatedConfig.pictureSetting.firstChecked,callback:function(t){e.$set(e.associatedConfig.pictureSetting,"firstChecked",t)},expression:"associatedConfig.pictureSetting.firstChecked"}},[e._v("删除首图 ")]),i("el-checkbox",{attrs:{size:"mini",disabled:e.isBanPerform},model:{value:e.associatedConfig.pictureSetting.cutChecked,callback:function(t){e.$set(e.associatedConfig.pictureSetting,"cutChecked",t)},expression:"associatedConfig.pictureSetting.cutChecked"}},[e._v(" 图片删减 ")])],1),i("div",{staticStyle:{width:"100%"}},[i("el-checkbox",{attrs:{size:"mini",disabled:e.isBanPerform},model:{value:e.associatedConfig.pictureSetting.randomChecked,callback:function(t){e.$set(e.associatedConfig.pictureSetting,"randomChecked",t)},expression:"associatedConfig.pictureSetting.randomChecked"}},[e._v("图片顺序随机 ")]),i("el-checkbox",{attrs:{size:"mini",disabled:e.isBanPerform},model:{value:e.associatedConfig.pictureSetting.whiteChecked,callback:function(t){e.$set(e.associatedConfig.pictureSetting,"whiteChecked",t)},expression:"associatedConfig.pictureSetting.whiteChecked"}},[e._v("首图白底 ")])],1),i("div",{staticStyle:{width:"100%"}},[e._v(" 将 "),i("el-input",{staticStyle:{width:"60px",margin:"0 5px"},attrs:{size:"mini"},model:{value:e.associatedConfig.pictureSetting.index,callback:function(t){e.$set(e.associatedConfig.pictureSetting,"index",t)},expression:"associatedConfig.pictureSetting.index"}}),e._v(" 张设为封面 ")],1),i("el-checkbox",{attrs:{size:"mini"},model:{value:e.associatedConfig.pictureSetting.compressionChecked,callback:function(t){e.$set(e.associatedConfig.pictureSetting,"compressionChecked",t)},expression:"associatedConfig.pictureSetting.compressionChecked"}},[e._v("自动压缩图片")]),i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"商品图片超过1MB时，将压缩图片",placement:"top"}},[i("el-button",{attrs:{size:"mini",type:"text"}},[i("i",{staticClass:"el-icon-question",staticStyle:{padding:"0 2px"}})])],1)],1)]),i("div",{staticClass:"basisInstall-box"},[i("div",{staticClass:"keepRight"},[e._v("图片缺失上传：")]),i("el-checkbox",{attrs:{size:"mini",disabled:e.isBanPerform},model:{value:e.associatedConfig.missingUploadChecked,callback:function(t){e.$set(e.associatedConfig,"missingUploadChecked",t)},expression:"associatedConfig.missingUploadChecked"}},[e._v(" 是否允许图片缺失上传 ")])],1),i("div",{staticClass:"basisInstall-box"},[i("div",{staticClass:"keepRight"},[e._v("关键词过滤：")]),i("div",[i("el-select",{staticStyle:{width:"120px"},attrs:{size:"mini"},model:{value:e.associatedConfig.keyFilter,callback:function(t){e.$set(e.associatedConfig,"keyFilter",t)},expression:"associatedConfig.keyFilter"}},e._l(e.keyFilterList,(function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"每个关键词之间以逗号隔开，不进行翻译",placement:"top"}},[i("el-button",{attrs:{size:"mini",type:"text"}},[i("i",{staticClass:"el-icon-question",staticStyle:{padding:"0 2px"}})])],1)],1),i("div",{staticClass:"separation"},[i("el-input",{staticStyle:{width:"80%"},attrs:{type:"textarea",rows:3,resize:"none",placeholder:"请输入关键词,以逗号隔开"},model:{value:e.associatedConfig.keyList,callback:function(t){e.$set(e.associatedConfig,"keyList",t)},expression:"associatedConfig.keyList"}})],1)])]),i("div",{staticClass:"basisInstall"},[i("div",{staticClass:"basisInstall-title"},[e._v("数据统计")]),i("div",{staticClass:"basisInstall-box loose"},[i("div",[e._v("商品总数：")]),i("span",{staticStyle:{"margin-left":"5px"}},[e._v(e._s(e.statistics.count))])]),i("div",{staticClass:"basisInstall-box loose"},[i("div",[e._v("成功总数：")]),i("span",{staticStyle:{"margin-left":"5px"}},[e._v(e._s(e.statistics.success))])]),i("div",{staticClass:"basisInstall-box loose"},[i("div",[e._v("失败总数：")]),i("span",{staticStyle:{"margin-left":"5px"}},[e._v(e._s(e.statistics.failure))])]),i("div",{staticClass:"basisInstall-box loose"},[i("div",[e._v("重复总数：")]),i("span",{staticStyle:{"margin-left":"5px"}},[e._v(e._s(e.statistics.repeat))])]),i("div",{staticClass:"basisInstall-box loose"},[i("div",[e._v("过滤总数：")]),i("span",{staticStyle:{"margin-left":"5px"}},[e._v(e._s(e.statistics.filter))])])])]),i("div",{staticClass:"nowrapBox"},[i("el-button",{attrs:{size:"mini",type:"primary",disabled:e.isBanPerform},on:{click:e.startRelease}},[e._v("开始发布")]),i("el-button",{attrs:{size:"mini",type:"primary",disabled:e.isBanPerform}},[e._v("导入数据")]),i("el-button",{attrs:{size:"mini"}},[e._v("取消发布")]),i("el-button",{attrs:{size:"mini",type:"primary",disabled:e.isBanPerform}},[e._v("清理全部")]),i("el-button",{attrs:{size:"mini",type:"primary",disabled:e.isBanPerform}},[e._v("设置定时任务")]),i("el-button",{attrs:{size:"mini",type:"primary",disabled:e.isBanPerform},on:{click:function(t){return e.enterCategory(2,1)}}},[e._v("批量映射虾皮类目 ")]),i("el-button",{attrs:{size:"mini",type:e.isNoFoldShow?"primary":""},on:{click:function(t){e.isNoFoldShow=!e.isNoFoldShow}}},[e._v(" "+e._s(e.isNoFoldShow?"折叠":"展开")+" ")]),i("el-button",{attrs:{size:"mini",type:"primary"}},[e._v("清理类目缓存")]),i("div",{staticStyle:{"margin-left":"10px"}},[e._v("源商品类目： "),i("el-select",{staticStyle:{width:"120px"},attrs:{size:"mini"},model:{value:e.sourceCategory,callback:function(t){e.sourceCategory=t},expression:"sourceCategory"}},e._l(e.sourceCategoryList,(function(e,t){return i("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1),i("div",{staticStyle:{"margin-left":"10px"}},[e._v("发布结果过滤： "),i("el-select",{staticStyle:{width:"120px"},attrs:{size:"mini"},model:{value:e.resultsFilter,callback:function(t){e.resultsFilter=t},expression:"resultsFilter"}},e._l(e.resultsFilterList,(function(e,t){return i("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1),i("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"mini",type:"primary"}},[e._v("查询")]),i("el-button",{attrs:{size:"mini",type:"primary"}},[e._v("删除")]),i("div",{staticStyle:{"margin-left":"10px",display:"flex","align-items":"center"}},[i("span",[e._v("上新进度：")]),i("el-progress",{staticStyle:{width:"180px"},attrs:{"text-inside":!0,"stroke-width":18,percentage:e.mewOnProgress}})],1)],1)]),i("u-table",{attrs:{data:e.goodsTable,"use-virtual":"","data-changes-scroll-top":!1,"header-cell-style":{backgroundColor:"#f5f7fa"},"row-key":"id",border:!1,"big-data-checkbox":!0,height:e.isNoFoldShow?320:729},on:{"selection-change":e.handleSelectionChange}},[i("u-table-column",{attrs:{align:"left",type:"selection",width:"50"}}),i("u-table-column",{attrs:{align:"left",type:"index",label:"序列号",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.$index+1)+" ")]}}])}),i("u-table-column",{attrs:{align:"center",label:"商品主图",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[i("el-tooltip",{staticStyle:{width:"56px",height:"56px",display:"inline-block"},attrs:{effect:"light",placement:"right-end","visible-arrow":!1,enterable:!1}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-image",{staticStyle:{width:"400px",height:"400px"},attrs:{src:a.image}})],1),i("el-image",{staticStyle:{width:"56px",height:"56px"},attrs:{src:e._f("changeImgSizeFilter")({url:a.image,source:a.source})}})],1)]}}])}),i("u-table-column",{attrs:{align:"center",label:"上家商品Id",width:"110"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[i("p",{staticClass:"goToGoods",on:{click:function(t){return t.stopPropagation(),e.goToGoods(a)}}},[e._v(e._s(a.goods_id))])]}}])}),i("u-table-column",{attrs:{align:"left",label:"shopee-Id",width:"120"},scopedSlots:e._u([{key:"default",fn:function(e){e.row}}])}),i("u-table-column",{attrs:{align:"left",label:"标题","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[i("div",{staticClass:"goodsTableLine"},[e._v(" "+e._s(a.title)+" ")])]}}])}),i("u-table-column",{attrs:{align:"left",label:"店铺",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[e._v(e._s(i.mallName||"")+" ")]}}])}),i("u-table-column",{attrs:{align:"left",label:"状态","min-width":"80"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[i("div",{staticClass:"goodsTableLine"},[e._v(" "+e._s(a.statusName)+" ")])]}}])}),i("u-table-column",{attrs:{align:"center",label:"源平台类目",prop:"category_name","show-overflow-tooltip":""}}),i("u-table-column",{attrs:{align:"left","show-overflow-tooltip":!0,label:"shopee类目",prop:"categoryName",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{type:"text"},on:{click:function(i){return e.enterCategory(0,t.row)}}},[e._v(" "+e._s(t.row.categoryName||"请选择类目")+" ")])]}}])}),i("u-table-column",{attrs:{align:"left",label:"价格",prop:"price",width:"80"}}),i("u-table-column",{attrs:{align:"left",label:"上新价格(RMB)",prop:"CalAfterPriceRMB",width:"110"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[e._v(" "+e._s(e.getValuationPrice(i.price))+" ")]}}])}),i("u-table-column",{attrs:{align:"left",label:"上新价格",prop:"CalAfterPrice",width:"80"}}),i("u-table-column",{attrs:{align:"left",label:"销量",prop:"sales",width:"80"}}),i("u-table-column",{attrs:{align:"left",label:"标签",prop:"sys_label_name",width:"80","show-overflow-tooltip":""}}),i("u-table-column",{attrs:{align:"left",label:"来源",prop:"sourceName",width:"80"}})],1),i("div",{staticClass:"on_new_dialog"},[i("el-dialog",{attrs:{title:"水印配置",width:"500px","close-on-click-modal":!1,top:"10vh",visible:e.watermarkVisible},on:{"update:visible":function(t){e.watermarkVisible=t}}},[i("div",{staticClass:"watermark_dialog"},[i("div",{staticClass:"on_new_dialog_box"},[i("div",{staticClass:"keepRight"},[e._v("水印类型：")]),i("div",[i("el-radio",{attrs:{label:1},model:{value:e.watermarkConfig.type,callback:function(t){e.$set(e.watermarkConfig,"type",t)},expression:"watermarkConfig.type"}},[e._v("文字水印")]),i("el-radio",{attrs:{label:2},model:{value:e.watermarkConfig.type,callback:function(t){e.$set(e.watermarkConfig,"type",t)},expression:"watermarkConfig.type"}},[e._v("图片水印")]),i("el-radio",{attrs:{label:3},model:{value:e.watermarkConfig.type,callback:function(t){e.$set(e.watermarkConfig,"type",t)},expression:"watermarkConfig.type"}},[e._v("商品背景图")])],1)]),i("div",{staticClass:"on_new_dialog_box"},[i("div",{staticClass:"keepRight"},[e._v("图片类型配置：")]),i("div",[i("el-radio",{attrs:{label:0},model:{value:e.watermarkConfig.addType,callback:function(t){e.$set(e.watermarkConfig,"addType",t)},expression:"watermarkConfig.addType"}},[e._v("首图")]),i("el-radio",{attrs:{label:1},model:{value:e.watermarkConfig.addType,callback:function(t){e.$set(e.watermarkConfig,"addType",t)},expression:"watermarkConfig.addType"}},[e._v("全部")])],1)]),i("div",{directives:[{name:"show",rawName:"v-show",value:1===e.watermarkConfig.type,expression:"watermarkConfig.type === 1"}],staticClass:"on_new_dialog_box"},[i("div",{staticClass:"keepRight"},[e._v("水印文字：")]),i("div",[i("el-radio",{staticStyle:{margin:"0"},attrs:{label:1},model:{value:e.watermarkConfig.textType,callback:function(t){e.$set(e.watermarkConfig,"textType",t)},expression:"watermarkConfig.textType"}},[e._v("店铺别名")]),i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"选择店铺别名时，若无别名则使用店铺真实名",placement:"top"}},[i("el-button",{attrs:{size:"mini",type:"text"}},[i("i",{staticClass:"el-icon-question",staticStyle:{padding:"0 2px","margin-right":"15px"}})])],1),i("el-radio",{staticStyle:{margin:"0 15px 0 0"},attrs:{label:2},model:{value:e.watermarkConfig.textType,callback:function(t){e.$set(e.watermarkConfig,"textType",t)},expression:"watermarkConfig.textType"}},[e._v("店铺真实名")]),i("el-radio",{staticStyle:{margin:"0"},attrs:{label:3},model:{value:e.watermarkConfig.textType,callback:function(t){e.$set(e.watermarkConfig,"textType",t)},expression:"watermarkConfig.textType"}},[e._v("店铺设置的水印文字")]),i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"选择店铺设置的水印文字时，未设置则默认使用店铺名称",placement:"top"}},[i("el-button",{attrs:{size:"mini",type:"text"}},[i("i",{staticClass:"el-icon-question",staticStyle:{padding:"0 2px","margin-right":"15px"}})])],1)],1)]),i("div",{directives:[{name:"show",rawName:"v-show",value:1!==e.watermarkConfig.type,expression:"watermarkConfig.type !== 1"}],staticClass:"on_new_dialog_box"},[i("div",{staticClass:"keepRight"},[e._v("示例图选择：")]),i("div",{staticStyle:{display:"flex"}},[i("div",{staticStyle:{"margin-right":"25px",display:"flex","flex-flow":"row","justify-content":"center","align-items":"center"}},[i("div",{staticStyle:{"text-align":"justify","text-align-last":"justify",display:"inline-block",width:"20px"}},[e._v("商品图")]),i("el-upload",{staticStyle:{display:"flex","align-items":"center"},attrs:{action:"#","list-type":"picture",drag:!0,"show-file-list":!1,limit:1,"auto-upload":!1,"on-change":e.watermarkPreview1}},[e.watermarkConfig.goodsImageUrl?i("img",{staticClass:"avatar",attrs:{src:e.watermarkConfig.goodsImageUrl}}):i("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),i("div",{staticStyle:{display:"flex","flex-flow":"row","justify-content":"center","align-items":"center"}},[i("div",{staticStyle:{"text-align":"justify","text-align-last":"justify",width:"20px"}},[e._v("水印图")]),i("el-upload",{staticStyle:{display:"flex","align-items":"center"},attrs:{action:"#","list-type":"picture",drag:!0,"show-file-list":!1,limit:1,"auto-upload":!1,"on-change":e.watermarkPreview2}},[e.watermarkConfig.watermarkImageUrl?i("img",{staticClass:"avatar",attrs:{src:e.watermarkConfig.watermarkImageUrl}}):i("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)])]),i("div",{directives:[{name:"show",rawName:"v-show",value:2===e.watermarkConfig.type,expression:"watermarkConfig.type === 2"}],staticClass:"on_new_dialog_box"},[i("div",{staticClass:"keepRight"},[e._v("图片透明度：")]),i("el-slider",{staticStyle:{width:"65%"},attrs:{"show-input":"","input-size":"mini",min:0,max:1,step:.1},model:{value:e.watermarkConfig.clarity,callback:function(t){e.$set(e.watermarkConfig,"clarity",t)},expression:"watermarkConfig.clarity"}})],1),i("div",{directives:[{name:"show",rawName:"v-show",value:3!==e.watermarkConfig.type,expression:"watermarkConfig.type !== 3"}],staticClass:"on_new_dialog_box"},[i("div",{staticStyle:{display:"flex","align-items":"center"}},[i("div",{staticClass:"keepRight"},[e._v("水印位置：")]),i("el-select",{staticStyle:{width:"100px"},attrs:{size:"mini"},model:{value:e.watermarkConfig.locate,callback:function(t){e.$set(e.watermarkConfig,"locate",t)},expression:"watermarkConfig.locate"}},e._l(e.locateList,(function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),i("div",{directives:[{name:"show",rawName:"v-show",value:1===e.watermarkConfig.type,expression:"watermarkConfig.type === 1"}],staticStyle:{display:"flex","align-items":"center","margin-left":"15px"}},[i("div",{staticClass:"keepRight"},[e._v("水印文字大小：")]),i("el-input",{staticStyle:{width:"60px"},attrs:{size:"mini"},model:{value:e.watermarkConfig.textSize,callback:function(t){e.$set(e.watermarkConfig,"textSize",t)},expression:"watermarkConfig.textSize"}}),i("el-color-picker",{staticStyle:{"margin-left":"5px"},attrs:{size:"mini"},model:{value:e.watermarkConfig.textColor,callback:function(t){e.$set(e.watermarkConfig,"textColor",t)},expression:"watermarkConfig.textColor"}}),i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"水印文字大小最小为12，水印文字颜色默认为灰白色（#D5D4DA）",placement:"top"}},[i("el-button",{attrs:{size:"mini",type:"text"}},[i("i",{staticClass:"el-icon-question",staticStyle:{padding:"0 2px","margin-right":"15px"}})])],1)],1),i("div",{directives:[{name:"show",rawName:"v-show",value:2===e.watermarkConfig.type,expression:"watermarkConfig.type === 2"}],staticStyle:{display:"flex","align-items":"center"}},[i("div",{staticClass:"keepRight"},[e._v("图片大小：")]),i("el-select",{staticStyle:{width:"140px"},attrs:{size:"mini"},model:{value:e.watermarkConfig.imgSize,callback:function(t){e.$set(e.watermarkConfig,"imgSize",t)},expression:"watermarkConfig.imgSize"}},e._l(e.imgSizeList,(function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)]),i("div",{staticClass:"on_new_dialog_box",staticStyle:{"justify-content":"center","margin-top":"5px"}},[i("div",{staticClass:"watermark_palette"},[i("div",{staticClass:"goods_image"},[i("img",{attrs:{src:e.watermarkConfig.goodsImageUrl||"",alt:""}})]),i("div",{staticClass:"watermark_image",class:e.watermarkConfig.type<3&&e.locateClass||"watermark_image_background"},[i("span",{directives:[{name:"show",rawName:"v-show",value:1===e.watermarkConfig.type,expression:"watermarkConfig.type === 1"}],style:"font-size:"+e.watermarkConfig.textSize+"px!important;color:"+e.watermarkConfig.textColor},[e._v(" "+e._s(e.watermarkConfig.text)+" ")]),i("img",{directives:[{name:"show",rawName:"v-show",value:1!==e.watermarkConfig.type,expression:"watermarkConfig.type !== 1"}],style:2===e.watermarkConfig.type&&"opacity: "+e.watermarkConfig.clarity||"",attrs:{src:e.watermarkConfig.watermarkImageUrl||"",alt:""}})])])]),i("div",{staticStyle:{display:"flex","justify-content":"space-evenly"}},[i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.setWatermark()}}},[e._v("提交")]),i("el-button",{attrs:{size:"mini"},on:{click:function(t){e.watermarkVisible=!1}}},[e._v("退出")])],1)])]),i("el-dialog",{attrs:{title:"行销活动设置",width:"700px","close-on-click-modal":!1,top:"10vh",visible:e.sellActiveVisible},on:{"update:visible":function(t){e.sellActiveVisible=t}}},[i("div",{staticClass:"sell_active_dialog"},[i("div",{staticClass:"on_new_dialog_box"},[e._v(" 添加活动商品，请配置折扣活动信息或商店分类信息 ")]),i("div",{staticClass:"on_new_dialog_box"},[i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){}}},[e._v("下载模板")]),i("el-button",{attrs:{size:"mini"},on:{click:function(e){}}},[e._v("导入模板")])],1),i("div",{staticClass:"on_new_dialog_box"},[i("u-table",{attrs:{data:e.sellActiveTable,"tooltip-effect":"dark",height:"450"}},[i("u-table-column",{attrs:{label:"店铺名称",align:"left","show-overflow-tooltip":!0,"min-width":"120px"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[e._v(" "+e._s(i.mall_alias_name||i.platform_mall_name)+" ")]}}])}),i("u-table-column",{attrs:{label:"活动折扣配置",align:"left",width:"350px"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("div",{staticStyle:{display:"flex","align-items":"center"}},[i("el-checkbox",{attrs:{size:"mini"},model:{value:t.row.isExisting,callback:function(i){e.$set(t.row,"isExisting",i)},expression:"scope.row.isExisting"}},[e._v("使用已有活动ID")]),i("el-input",{staticStyle:{width:"120px",margin:"0 5px"},attrs:{size:"mini"},model:{value:t.row.discountId,callback:function(i){e.$set(t.row,"discountId",i)},expression:"scope.row.discountId"}}),i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(i){return e.setSellActive(t.row)}}},[e._v(e._s(t.row.isExisting?"配置折扣":"创建活动")+" ")])],1)]}}])}),i("u-table-column",{attrs:{align:"left",width:"130px"},scopedSlots:e._u([{key:"header",fn:function(t){return[e._v(" 商品分类ID "),i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"分类ID请至【商品管理】 - 【商店分类】中查看",placement:"top-end"}},[i("el-button",{attrs:{size:"mini",type:"text"}},[i("i",{staticClass:"el-icon-question",staticStyle:{padding:"0 2px"}})])],1)]}},{key:"default",fn:function(t){return[i("el-input",{staticStyle:{width:"120px"},attrs:{size:"mini"},model:{value:t.row.goodsId,callback:function(i){e.$set(t.row,"goodsId",i)},expression:"scope.row.goodsId"}})]}}])})],1)],1),i("div",{staticClass:"on_new_dialog_box",staticStyle:{"justify-content":"space-evenly"}},[i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.updateSellActive(1)}}},[e._v("确定")]),i("el-button",{attrs:{size:"mini"},on:{click:function(t){e.sellActiveVisible=!1}}},[e._v("取消")])],1)])]),i("el-dialog",{attrs:{title:e.sellActiveCurrent.isExisting?"配置折扣":"创建活动",width:"350px",top:"25vh",visible:e.setSellActiveVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.setSellActiveVisible=t}}},[i("div",{staticClass:"sell_active_dialog"},[i("div",{directives:[{name:"show",rawName:"v-show",value:!e.sellActiveCurrent.isExisting,expression:"!sellActiveCurrent.isExisting"}],staticClass:"on_new_dialog_box"},[i("div",{staticClass:"keepRight"},[e._v("活动名称：")]),i("el-input",{staticStyle:{width:"180px"},attrs:{size:"mini"},model:{value:e.sellActiveCurrent.name,callback:function(t){e.$set(e.sellActiveCurrent,"name",t)},expression:"sellActiveCurrent.name"}})],1),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.sellActiveCurrent.isExisting,expression:"!sellActiveCurrent.isExisting"}],staticClass:"on_new_dialog_box"},[i("div",{staticClass:"keepRight"},[e._v("活动开始时间：")]),i("el-date-picker",{staticStyle:{width:"180px"},attrs:{type:"datetime",size:"mini",placeholder:"选择开始时间"},model:{value:e.sellActiveCurrent.startTime,callback:function(t){e.$set(e.sellActiveCurrent,"startTime",t)},expression:"sellActiveCurrent.startTime"}})],1),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.sellActiveCurrent.isExisting,expression:"!sellActiveCurrent.isExisting"}],staticClass:"on_new_dialog_box"},[i("div",{staticClass:"keepRight"},[e._v("活动结束时间：")]),i("el-date-picker",{staticStyle:{width:"180px"},attrs:{type:"datetime",size:"mini",placeholder:"选择结束时间"},model:{value:e.sellActiveCurrent.endTime,callback:function(t){e.$set(e.sellActiveCurrent,"endTime",t)},expression:"sellActiveCurrent.endTime"}})],1),i("div",{staticClass:"on_new_dialog_box"},[i("div",{staticClass:"keepRight"},[e._v("活动折扣：")]),i("el-input",{staticStyle:{width:"180px","margin-right":"5px"},attrs:{size:"mini"},model:{value:e.sellActiveCurrent.discount,callback:function(t){e.$set(e.sellActiveCurrent,"discount",t)},expression:"sellActiveCurrent.discount"}}),e._v(" % "),i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"折扣价格 = 商品原价 * 折扣%，如原价1000的商品，输入80折扣的折扣价格为800",placement:"top-end"}},[i("el-button",{attrs:{size:"mini",type:"text"}},[i("i",{staticClass:"el-icon-question",staticStyle:{padding:"0 2px"}})])],1)],1),i("div",{staticClass:"on_new_dialog_box"},[i("div",{staticClass:"keepRight"},[e._v("限购数量：")]),i("el-input",{staticStyle:{width:"180px"},attrs:{size:"mini"},model:{value:e.sellActiveCurrent.number,callback:function(t){e.$set(e.sellActiveCurrent,"number",t)},expression:"sellActiveCurrent.number"}})],1),i("div",{staticClass:"on_new_dialog_box",staticStyle:{"justify-content":"space-evenly"}},[i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.updateSellActive()}}},[e._v("确定")]),i("el-button",{attrs:{size:"mini"},on:{click:function(t){e.setSellActiveVisible=!1}}},[e._v("取消")])],1)])]),i("el-dialog",{attrs:{title:"商品标签",width:"300px",top:"25vh","close-on-click-modal":!1,visible:e.goodsTagVisible},on:{"update:visible":function(t){e.goodsTagVisible=t}}},[e.goodsTagVisible?i("goodsLabel",{attrs:{"goods-table-select":e.goodsTableSelect},on:{goodsTagChange:e.goodsTagChange}}):e._e()],1),i("el-dialog",{attrs:{title:"类目映射",width:"700px",top:"25vh","close-on-click-modal":!1,visible:e.categoryVisible},on:{"update:visible":function(t){e.categoryVisible=t}}},[e.categoryVisible?i("categoryMapping",{attrs:{country:e.country,"goods-current":e.goodsCurrent,"mall-list":e.mallList},on:{categoryChange:e.categoryChange}}):e._e()],1)],1)],1)},s=[],n=i("2909"),o=i("b85c"),l=i("1da1"),r=(i("96cf"),i("159b"),i("4de4"),i("c740"),i("99af"),i("a4d3"),i("e01a"),i("5b81"),i("ac1f"),i("1276"),i("b0c0"),i("d3b7"),i("6062"),i("3ca3"),i("ddb0"),i("a15b"),i("a434"),i("b680"),i("7db0"),i("feb6")),c=i("eb09"),d=i("2b22"),u=i("0e0b");i("25f0"),i("a9e3"),i("fb6a");function g(){this.date=new Date,"function"!==typeof this.newGUID&&(g.prototype.newGUID=function(){this.date=new Date;for(var e="",t=this.hexadecimal(this.getGUIDDate(),16),i=this.hexadecimal(this.getGUIDTime(),16),a=0;a<9;a++)e+=Math.floor(16*Math.random()).toString(16);e+=t,e+=i;while(e.length<32)e+=Math.floor(16*Math.random()).toString(16);return this.formatGUID(e)},g.prototype.getGUIDDate=function(){return this.date.getFullYear()+this.addZero(this.date.getMonth()+1)+this.addZero(this.date.getDay())},g.prototype.getGUIDTime=function(){return this.addZero(this.date.getHours())+this.addZero(this.date.getMinutes())+this.addZero(this.date.getSeconds())+this.addZero(parseInt(this.date.getMilliseconds()/10))},g.prototype.addZero=function(e){return"NaN"!=Number(e).toString()&&e>=0&&e<10?"0"+Math.floor(e):e.toString()},g.prototype.hexadecimal=function(e,t,i){return void 0!=i?parseInt(e.toString(),i).toString(t):parseInt(e.toString()).toString(t)},g.prototype.formatGUID=function(e){var t=e.slice(0,8)+"-",i=e.slice(8,12)+"-",a=e.slice(12,16)+"-",s=e.slice(16,20)+"-",n=e.slice(20);return t+i+a+s+n})}var m={data:function(){return{goodsTable:[],goodsTableSelect:[],goodsCurrent:"",mallList:[],country:"",sourceCategoryList:[],sourceCategory:[],resultsFilterList:[],resultsFilter:"",mewOnProgress:0,isNoFoldShow:!0,categoryVisible:!1,attributesList:[],attributesCurrent:[],goodsTagVisible:!1,goodsTagAction:"",goodsTagCurrent:"",sellActiveVisible:!1,setSellActiveVisible:!1,sellActiveTable:[],sellActiveSetting:[],sellActiveCurrent:{},watermarkVisible:!1,watermarkConfig:{type:1,addType:1,textType:1,textSize:"30",textColor:"#D5D4DA",locate:1,clarity:.3,imgSize:1,goodsImg:"",goodsImageUrl:"",watermarkImg:"",watermarkImageUrl:"",text:"水印"},watermarkSetting:{},locateList:[{label:"左上角",value:1},{label:"左下角",value:2},{label:"右上角",value:3},{label:"右下角",value:4},{label:"中间",value:5}],imgSizeList:[{label:"按比例缩放",value:1},{label:"与商品图宽一致",value:2},{label:"与商品图高一致",value:3}],locateClass:"watermark_image_left watermark_image_top",logistics:[],logisticsList:[],customLogistics:[],storeConfig:{watermarkChecked:!1,priceRadio:1,activityChecked:!1,chineseChecked:[],pictureThread:"3",dangerousRadio:0,wordsHeavy:!1},basicConfig:{valuationRadio:1,formula:{percentage:"50",basis:"5",hidden:"5"},discount:"100",valuationMethodsRadio:0,fixedPrice:"150",headlineRadio:0,hotSearch:"1",hotList:"",embargoChecked1:!0,embargoChecked2:!0,minHeavy:"0.1",maxHeavy:"1",categoryMapping:1,sourceCategoryChecked:!1,stockUpChecked:!0,stockUpNumber:"15",onNewThread:"5",numberCeilingChecked:!1,numberCeiling:"1000",usedChecked:!1,deleteCollectChecked:!1,autoCompleteChecked:!1},valuationConfig:{},categoryMappingList:[{label:"个人类目映射",value:1},{label:"共有类目映射",value:2}],associatedConfig:{specialCharChecked:!0,realNameChecked:!1,onNewInterval:"40",dimensionRadio:0,pictureSetting:{mainRandomChecked:!0,firstChecked:!0,cutChecked:!0,randomChecked:!0,whiteChecked:!1,index:"1",compressionChecked:!0},missingUploadChecked:!1,keyFilter:0,keyList:"",priceRange:"0"},keyFilterList:[{label:"全部",value:0},{label:"标题",value:1},{label:"描述",value:2},{label:"SKU",value:3}],statistics:{count:0,success:0,failure:0,repeat:0,filter:0},sourceObj:null,source:null,labelList:[],isBanPerform:!1}},computed:{},components:{storeChoose:r["a"],categoryMapping:c["a"],goodsLabel:d["a"]},watch:{country:function(e){this.associatedConfig.onNewInterval="ID"!==e?"40":"50",this.sellActiveSetting=[],this.changeLogistics()},watermarkConfig:{handler:function(e){if(e.type<3){var t=e.locate%2?"watermark_image_top ":"watermark_image_bottom ";t+=e.locate>2?"watermark_image_right ":"watermark_image_left ",t=e.locate<5&&t||"watermark_image_center ",2===e.type&&(t+=1===e.imgSize?"watermark_image_reduce ":"watermark_image_fixed ",2===e.imgSize||e.imgSize,t+=(1===e.imgSize?"watermark_image_reduce ":2===e.imgSize&&"watermark_image_width ")||"watermark_image_height "),this.locateClass=t}},deep:!0},logistics:function(e){var t=this;this.customLogistics=[],e.forEach((function(e){var i=t.logisticsList.filter((function(t){return t.ShipName===e}))[0];i&&i.IsCustomShipFee&&t.customLogistics.push(i)}))},goodsTagAction:function(e){this.goodsTagCurrent=e},goodsTable:{handler:function(e){},deep:!0}},mounted:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var i,a,s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:try{for(i=[{category_id:8483,category_name:"牛仔裤",created_at:"2021-12-31 15:50:11",deleted_at:"0001-01-01T00:00:00Z",description:"กางเกงยีนส์สีดำสำหรับผู้หญิง 2021 ใหม่ เอวสูง ทรงสลิม ทรงหลวม แฟชั่น กางเกงขายาว ทรงตรง ครอป แบรนด์: Senda\r\nสไตล์: กางเกงทรงตรง\r\nประเภทเอว: เอวสูง\r\nความยาวกางเกง: เก้ากางเกง\r\nสไตล์: เดินทางง่าย/เวอร์ชั่นเกาหลี\r\nองค์ประกอบยอดนิยม: ซิป\r\nผ้า/วัสดุ: เดนิม/ผ้าฝ้าย\r\nเนื้อหาส่วนผสม: 81% (รวม) -90% (รวม)\r\nไม่ว่าจะเพิ่มกำมะหยี่: ไม่มีกำมะหยี่\r\nเวลาออกสู่ตลาด: ฤดูใบไม้ร่วง 2021",goods_id:292647902010,height:10,id:166292339,image:"https://img.pddpic.com/mms-material-img/2021-09-08/6d3b4996-c4ee-4832-a4e1-530b642957ad.jpeg.a.jpeg",is_badword:"",is_blacklist:"",is_edit_description:1,is_edit_title:1,is_featured:"-1",language:"th",long:10,pid:166289836,price:51.97,sales:1e5,shopee_category:null,short_title:null,size_image_id:0,source:1,spec1:"Variation",spec2:"Size",stock:2100,synchronized_at:"0001-01-01T00:00:00Z",title:"กางเกงยีนส์ผู้หญิงสีดำ 2021 ใหม่เอวสูงบางหลวมอินเทรนด์ตรงยืดกางเกงตัด",uid:974,updated_at:"2022-01-04 17:57:45",uuid:0,weight:1,width:10,zhTitle:"",extra_info:'{"videoUrl": "[]"}',sys_label_id:"22648",sys_label_name:"123",sourceName:"拼多多"}],a=function(){var t=n[s],i=e.goodsTable.findIndex((function(e){return e.id===t.id}));i>=0&&e.$set(e.goodsTable,i,t)||e.goodsTable.push(t)},s=0,n=i;s<n.length;s++)a();e.statistics.count=e.goodsTable.length}catch(o){}case 1:case"end":return t.stop()}}),t)})))()},methods:{startRelease:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.goodsTableSelect.length<1)){t.next=3;break}return e.$message.error("请选择商品"),t.abrupt("return");case 3:if(!(e.mallList.length<1)){t.next=6;break}return e.$message.error("请选择店铺"),t.abrupt("return");case 6:return e.isBanPerform=!0,t.next=9,Object(u["c"])(e.goodsTableSelect,e.prepareWork,e.basicConfig.onNewThread);case 9:e.isBanPerform=!1;case 10:case"end":return t.stop()}}),t)})))()},cancelRelease:function(){return Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:Object(u["x"])();case 1:case"end":return e.stop()}}),e)})))()},prepareWork:function(e){var t=arguments,i=this;return Object(l["a"])(regeneratorRuntime.mark((function a(){var s,l,r,c,d,m,p,f,b,h,v,C,k,_,x,y,w,S,I,z,R,A,T,$,N,L,M,P,B,O,j,U,V,D,G,E,F,q,J,H,W,Z,K,Y,Q;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=t.length>1&&void 0!==t[1]?t[1]:{count:1},a.prev=1,i.updateAttributeName(e,"正在准备发布"),c={attributes:[],stock:e.stock,model_list:[],weight:e.weight+"",dimension:{width:e.width,height:e.height,long:e.long},condition:1,dangerous_goods:0,min_purchase_limit:1,input_normal_price:null,input_promotion_price:null,id:0,images:[],tier_variation:[],category_recommend:[],price_before_discount:"",wholesale_list:[],installment_tenures:[],pre_order:i.basicConfig.stockUpChecked,days_to_ship:Math.floor(i.basicConfig.stockUpNumber)||15,unlisted:i.basicConfig.usedChecked,add_on_deal:[]},d=e.originCategoryId||e.category_id,m=e.platform||e.source,a.next=8,i.$commodityService.getCategoryRelation(d,i.country,m);case 8:if(p=a.sent,f=JSON.parse(p),b=(null===f||void 0===f||null===(l=f.data)||void 0===l||null===(r=l.category)||void 0===r?void 0:r.platform_category_id)||"",!b){a.next=26;break}return a.next=14,i.getCategoryPath(b);case 14:if(a.t0=a.sent,a.t0){a.next=17;break}a.t0=[];case 17:c["category_path"]=a.t0,h=f.data&&f.data.attributes||[],v=f.data.category,C="".concat(v.platform_category_name,"(").concat(v.platform_category_cn_name,")"),k=i.goodsTable.findIndex((function(t){return t.id===e.id})),i.$set(i.goodsTable[k],"categoryName",C),h.forEach((function(e){e.attribute_id?c["attributes"].push({attribute_id:e.attribute_id,attribute_value_id:Math.floor(e.value_id)}):c["brand_id"]=Math.floor(e.value_id)||0})),a.next=28;break;case 26:return i.updateAttributeName(e,"无类目映射，请选择类目"),a.abrupt("return");case 28:return a.next=30,i.$commodityService.getSpuDetailByIdV2(e.id);case 30:_=a.sent,x=[],i.associatedConfig.dimensionRadio<2?(y=i.mallList.length,w=i.goodsTable.findIndex((function(t){return t.id===e.id})),S=w%y,x=[i.mallList[S]]):x=i.mallList,I=Object(o["a"])(x),a.prev=34,I.s();case 36:if((z=I.n()).done){a.next=102;break}return R=z.value,A=JSON.parse(_)&&JSON.parse(_).data,T=JSON.parse(JSON.stringify(c)),$=R.mall_alias_name||R.platform_mall_name,i.updateAttributeName(e,$,"mallName"),N=e.extra_info&&JSON.parse(e.extra_info),L=N&&N.tmall_cross_border_user_id||"",a.next=46,i.$BaseUtilService.buildGoodCode(m,e.goods_id,i.country,R.platform_mall_id,L);case 46:if(T["parent_sku"]=a.sent,M=new g,T["ds_cat_rcmd_id"]=M.newGUID(),T["ds_attr_rcmd_id"]=M.newGUID(),T["description"]=A.description||"",P=i.basicConfig.hotList||"",P=P.replaceAll("，",","),P=P.split(",")||[],B="",O=e.title,i.basicConfig.hotSearch>0)for(j=P.length,U=0;U<i.basicConfig.hotSearch;U++)V=P[Math.floor(Math.random()*j)],B+=P[V]+" ";if(O=i.basicConfig.headlineRadio?O+" "+B:B+""+O,i.associatedConfig.specialCharChecked&&(D=i.$filters.special_characters,G=D[Math.floor(Math.random()*D.length)],O=G+" "+O),i.associatedConfig.realNameChecked&&(O=R.platform_mall_name+" "+O),T["name"]=O,i.storeConfig.wordsHeavy&&function(){var e=T["name"].split(" "),t=new Set;e.forEach((function(e){t.add(e)})),T["name"]=Object(n["a"])(t).join("")}(),E=A.images,i.associatedConfig.pictureSetting.firstChecked&&E.splice(0,1),i.associatedConfig.pictureSetting.cutChecked){F=Math.floor(E.length/3),q=Math.ceil(Math.random()*F)||0;while(q--)J=Math.floor(Math.random()*E.length),E.splice(J,1)}return 2===i.associatedConfig.dimensionRadio?i.associatedConfig.pictureSetting.mainRandomChecked&&(H=Math.floor(Math.random()*E.length),W=E.splice(H,1),E=[].concat(Object(n["a"])(W),Object(n["a"])(E))):(Z=E.splice(i.associatedConfig.pictureSetting.index,1),E=[].concat(Object(n["a"])(Z),Object(n["a"])(E))),T["images"]=E,A.sizeImages&&A.sizeImages[0]&&(T["size_chart"]=A.sizeImages[0].img||""),K=A.tier_variation,K[K.spec1].length>0&&T["tier_variation"].push({name:K.spec1,options:K[K.spec1],images:K.images}),K[K.spec2].length>0&&T["tier_variation"].push({name:K.spec2,options:K[K.spec2],images:[]}),Y=JSON.stringify(A.itemmodels),Y=Y.replaceAll(/"id":[0-9]*,/g,'"id":0,'),Y=Y.replaceAll(/"selection_id":[0-9]*,/g,'"name":"",'),Y=Y.replaceAll(/"skuId":"(((?!",).)*)",/g,'"is_default":false,'),Y=Y.replaceAll(/"sku_image":"(((?!",).)*)",/g,'"item_price":"",'),Y=Y.replaceAll(/"sku_sn":"(((?!",).)*)",/g,'"input_normal_price":null,'),Y=Y.replaceAll(/"sku_spec1":"(((?!",).)*)",/g,'"input_promotion_price":null,'),Y=Y.replaceAll(/"price":([0-9.]*),/g,""),Y=Y.replaceAll(/"sku_spec2":"(((?!",).)*)",/g,""),Y=Y.replaceAll(/"sku_price":[0-9.]*,/g,""),Y=Y.replaceAll(/"sku_stock":[0-9.]*,/g,""),T["model_list"]=JSON.parse(Y),T["price"]=i.getValuationPrice(A.price),i.updateAttributeName(e,"正在上传轮播图"),a.next=87,Object(u["s"])(R,T["images"],i,i.storeConfig.pictureThread);case 87:return a.sent,i.updateAttributeName(e,"正在上传规格图"),a.next=91,Object(u["s"])(R,A.spec_image,i,i.storeConfig.pictureThread);case 91:if(a.sent,!T["size_chart"]){a.next=98;break}return i.updateAttributeName(e,"正在上传尺寸图"),a.next=96,Object(u["s"])(R,[T["size_chart"]],i,i.storeConfig.pictureThread);case 96:Q=a.sent,T["size_chart"]=Q[T["size_chart"]];case 98:"0"===T["weight"]&&(T["weight"]=Object(u["getSectionRandom"])(i.basicConfig.minHeavy,i.basicConfig.maxHeavy,2)+""),i.updateAttributeName(e,"发布完成");case 100:a.next=36;break;case 102:a.next=107;break;case 104:a.prev=104,a.t1=a["catch"](34),I.e(a.t1);case 107:return a.prev=107,I.f(),a.finish(107);case 110:a.next=115;break;case 112:a.prev=112,a.t2=a["catch"](1),i.updateAttributeName(e,"发布失败，数据或请求异常");case 115:return a.prev=115,--s.count,a.finish(115);case 118:case"end":return a.stop()}}),a,null,[[1,112,115,118],[34,104,107,110]])})))()},additionalWatermarking:function(e,t){var i=this.watermarkSetting;1===i.type||2===i.type||i.type},getValuationPrice:function(e){if(1===this.basicConfig.valuationRadio){var t=(e*this.basicConfig.formula.percentage/100).toFixed(2),i=1*t+1*this.basicConfig.formula.hidden+1*this.basicConfig.formula.basis;return i=(1*e+i*this.basicConfig.discount/100).toFixed(2),this.basicConfig.valuationMethodsRadio&&(i=Math.floor(i)),i}if(2===this.basicConfig.valuationRadio);else if(3===this.basicConfig.valuationRadio)return this.basicConfig.fixedPrice},updateAttributeName:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"statusName",a=this.goodsTable.findIndex((function(t){return t.id===e.id}));a>=0&&this.$set(this.goodsTable[a],i,t)},getCategoryPath:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function i(){var a,s,o,l;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,t.$commodityService.getCategoryTbInfo(t.country,e,"0");case 3:if(a=i.sent,s=JSON.parse(a),o=s.data,l=(null===o||void 0===o?void 0:o.categories[0].parent_id)||0,i.t1=l,!i.t1){i.next=17;break}return i.t2=[],i.t3=n["a"],i.next=13,t.getCategoryPath(l);case 13:i.t4=i.sent,i.t5=(0,i.t3)(i.t4),i.t6=[e],i.t1=i.t2.concat.call(i.t2,i.t5,i.t6);case 17:if(i.t0=i.t1,i.t0){i.next=20;break}i.t0=[e];case 20:return i.abrupt("return",i.t0);case 23:return i.prev=23,i.t7=i["catch"](0),i.abrupt("return",[e]);case 26:case"end":return i.stop()}}),i,null,[[0,23]])})))()},changeStockUpNumber:function(e,t){1===t?(e=e<7?7:e,e=e>30?30:e,this.basicConfig.stockUpNumber=e):2===t?(e=e<1?1:e,e=e>5?5:e,this.basicConfig.onNewThread=e):3===t?(e=e,e=e>10?10:e,this.associatedConfig.priceRange=e):4===t&&(e=e<1?1:e,e=e>5?5:e,this.storeConfig.pictureThread=e)},synchronousCategory:function(){return Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},goToGoods:function(e){var t=e.extra_info&&JSON.parse(e.extra_info)||{},i=Object.assign({productId:e.goods_id},t),a=Object(u["n"])(e.source,i);this.$BaseUtilService.openUrl(a.url)},enterCategory:function(){var e=arguments,t=this;return Object(l["a"])(regeneratorRuntime.mark((function i(){var a,s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(a=e.length>0&&void 0!==e[0]?e[0]:0,s=e.length>1&&void 0!==e[1]?e[1]:null,!(1===a&&t.mallList.length<1)){i.next=5;break}return t.$message.error("请选择一个店铺"),i.abrupt("return",!1);case 5:if(!(2===a&&t.goodsTableSelect.length<1)){i.next=8;break}return t.$message.error("请选择一个商品信息"),i.abrupt("return",!1);case 8:t.goodsCurrent=s,t.categoryVisible=!0;case 10:case"end":return i.stop()}}),i)})))()},categoryChange:function(e){var t=this;if(e){var i=e.categoryList,a=i[i.length-1],s=a&&"".concat(a.category_name,"(").concat(a.category_cn_name,")");if(this.goodsCurrent){var n=this.goodsTable.findIndex((function(e){return e.id===t.goodsCurrent.id}));this.$set(this.goodsTable[n],"categoryName",s)}else{var o=[];e.attributesList.forEach((function(e){var t=e.new_options_obj.find((function(t){return t.value_id===e.options}));o.push({attributeId:e.attribute_id,attributeName:e.attribute_name,valueId:t.value_id,value:t.value})})),this.goodsTableSelect.forEach(function(){var i=Object(l["a"])(regeneratorRuntime.mark((function i(a){var n,l;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return n={relationCategoryId:a.category_id,country:e.country,platformId:a.source,platformCategoryId:e.categoryList[e.categoryList.length-1].category_id,categoryAttributes:o},i.next=3,t.$commodityService.saveCategoryRelation(n);case 3:i.sent,l=t.goodsTable.findIndex((function(e){return e.id===a.id})),t.$set(t.goodsTable[l],"categoryName",s);case 6:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}())}}this.categoryVisible=!1},enterGoodsTag:function(){this.goodsTableSelect.length<1?this.$message.error("请至少选择一个商品"):this.goodsTagVisible=!0},goodsTagChange:function(e){this.goodsTagVisible=!1},updateSellActive:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function i(){var a,s,n,o,l,r,c,d,u,g;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(!e){i.next=5;break}t.sellActiveTable.forEach((function(e){var i=t.sellActiveSetting.findIndex((function(t){return t.platform_mall_id===e.platform_mall_id}));e.discount&&e.number||e.goodsId?i>-1?t.sellActiveSetting[i]=e:t.sellActiveSetting.push(e):i>-1&&t.sellActiveSetting.splice(i,1)})),t.sellActiveVisible=!1,i.next=29;break;case 5:if(a=parseInt(t.sellActiveCurrent.discount),s=parseInt(t.sellActiveCurrent.number),!(a<0||a>100||s<1)){i.next=10;break}return t.$message.error("折扣比例或限购数量输入数值有误"),i.abrupt("return");case 10:if(n=t.sellActiveTable.findIndex((function(e){return e.platform_mall_id===t.sellActiveCurrent.platform_mall_id})),!t.sellActiveCurrent.isExisting){i.next=16;break}t.sellActiveTable[n].discount=a,t.sellActiveTable[n].number=s,i.next=28;break;case 16:if(o=Math.floor(new Date(t.sellActiveCurrent.startTime).getTime()/1e3),l=Math.floor(new Date(t.sellActiveCurrent.endTime).getTime()/1e3),!(l-o<3600)){i.next=21;break}return t.$message.error("活动时间不能小于1小时"),i.abrupt("return");case 21:return r={mallId:t.sellActiveCurrent.platform_mall_id,fe_status:"upcoming",highlight:"",title:t.sellActiveCurrent.name,start_time:o,end_time:l,status:1},c={headers:{"Content-Type":"application/json;charset=UTF-8"}},i.next=25,t.$shopeemanService.discount(t.country,r,c);case 25:d=i.sent,u=JSON.parse(d),u.status>=200&&u.status<300?(g=JSON.parse(u.data),0===g.code&&(t.sellActiveTable[n].discountId=g.data.discount_id,t.sellActiveTable[n].discount=a,t.sellActiveTable[n].number=s)):403===u.status?t.$message.error("店铺【".concat(t.sellActiveCurrent.mall_alias_name||t.sellActiveCurrent.platform_mall_name,"】的未登录")):t.$message.error("店铺【".concat(t.sellActiveCurrent.mall_alias_name||t.sellActiveCurrent.platform_mall_name,"】的添加活动折扣失败"));case 28:t.setSellActiveVisible=!1;case 29:case"end":return i.stop()}}),i)})))()},setSellActive:function(e){var t=this;e?(this.sellActiveCurrent=Object.assign(JSON.parse(JSON.stringify(e)),{name:"",startTime:"",endTime:""}),this.setSellActiveVisible=!0):(this.sellActiveTable=[],this.mallList.forEach((function(e){var i=t.sellActiveSetting.filter((function(t){return t.platform_mall_id===e.platform_mall_id}))[0];i=i||Object.assign(JSON.parse(JSON.stringify(e)),{isExisting:!0,discountId:"",goodsId:"",discount:"",number:""}),t.sellActiveTable.push(i)})),this.sellActiveVisible=!0)},setWatermark:function(e){e?(this.watermarkConfig=Object.assign(this.watermarkConfig,JSON.parse(JSON.stringify(this.watermarkSetting))),this.watermarkVisible=!0):(this.watermarkSetting=JSON.parse(JSON.stringify(this.watermarkConfig)),this.watermarkVisible=!1)},watermarkPreview1:function(e){this.watermarkPreview(e,1)},watermarkPreview2:function(e){this.watermarkPreview(e,2)},watermarkPreview:function(e,t){1===t?(this.watermarkConfig.goodsImg=e,this.watermarkConfig.goodsImageUrl=e.url):(this.watermarkConfig.watermarkImg=e,this.watermarkConfig.watermarkImageUrl=e.url)},changeLogistics:function(){var e=this,t=this.$shopeeManConfig.getLogisticsList();t=t[this.country]||[],this.logisticsList=[],this.logistics=[],t.forEach((function(t){e.logisticsList.push(t),t.IsSelected&&e.logistics.push(t.ShipName)}))},changeMallList:function(e){this.mallList=e.mallList||[],this.country=e.country},handleSelectionChange:function(e){this.goodsTableSelect=e||[]}}},p=m,f=(i("c8d7"),i("4705"),i("2877")),b=Object(f["a"])(p,a,s,!1,null,"5deecf01",null);t["default"]=b.exports},8992:function(e,t,i){"use strict";i("4c28")},ba09:function(e,t,i){},c8d7:function(e,t,i){"use strict";i("6c4c")},feb6:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("ul",{staticClass:"storeChooseUL"},[e.isMall?i("li",[e._v(e._s(e._f("chineseSite")(e.countryVal)))]):i("li",{style:e.isReset&&"margin-bottom: 5px"},[i("span",{style:{width:e.spanWidth}},[e._v("所属站点：")]),i("el-select",{staticClass:"siteSelectBox",attrs:{size:"mini",filterable:""},model:{value:e.countryVal,callback:function(t){e.countryVal=t},expression:"countryVal"}},[e.isAll?i("el-option",{attrs:{label:"全部",value:""}}):e._e(),e._l(e.countries,(function(e,t){return i("el-option",{key:t,attrs:{label:e.label,value:e.value}})}))],2)],1),i("li",{style:e.isReset&&"margin-bottom: 5px"},[i("span",{style:{width:e.spanWidth}},[e._v("店铺分组：")]),i("el-select",{staticClass:"selectBox",attrs:{placeholder:"",multiple:"","collapse-tags":"",size:"mini",filterable:""},model:{value:e.groupId,callback:function(t){e.groupId=t},expression:"groupId"}},[i("el-option",{attrs:{label:"全部",value:""}}),e._l(e.groupIdList,(function(e,t){return i("el-option",{key:t,attrs:{label:e.group_name,value:e.id}})}))],2)],1),i("li",{style:e.isReset&&"margin-bottom: 5px"},[i("span",{style:{width:e.spanWidth}},[e._v("店铺名称：")]),i("el-select",{directives:[{name:"loadmore",rawName:"v-loadmore",value:e.loadmoreMall,expression:"loadmoreMall"}],staticClass:"selectBox",attrs:{placeholder:"",multiple:"","collapse-tags":"","filter-method":e.filterMall,size:"mini",filterable:""},model:{value:e.site,callback:function(t){e.site=t},expression:"site"}},[e.isShowName?e._e():i("el-option",{attrs:{label:"全部",value:""}}),e._l(e.siteShowList,(function(t,a){return e.showMall(t,a)?i("el-option",{key:a,attrs:{label:t.mall_alias_name||t.platform_mall_name,value:t.platform_mall_id}}):e._e()}))],2)],1),e.isReset?i("li",{staticStyle:{"margin-bottom":"5px","margin-left":"25px"}},[i("el-button",{staticStyle:{"justify-self":"self-end"},attrs:{size:"mini",type:"primary"},on:{click:e.reset}},[e._v("　刷　　新　")])],1):e._e()])])},s=[],n=i("1da1"),o=i("2909"),l=(i("96cf"),i("99af"),i("d81d"),i("fb6a"),i("d3b7"),i("25f0"),i("159b"),i("c740"),i("7db0"),i("4de4"),i("caad"),i("2532"),i("7646")),r=i("2b0e");r["default"].directive("loadmore",{bind:function(e,t){var i=e.querySelector(".el-select-dropdown .el-select-dropdown__wrap");i.addEventListener("scroll",(function(){this.scrollHeight-this.scrollTop<=this.clientHeight+50?t.value(!0,this):this.scrollTop<30&&t.value(!1,this)}))}});var c={name:"StoreChoose",props:{spanWidth:{type:String,default:"80px"},parentCountry:{type:String,default:"TH"},isMall:{type:Boolean,default:function(){return!1}},isAll:{type:Boolean,default:function(){return!1}},isReset:{type:Boolean,default:function(){return!1}},source:{type:String,default:function(){return""}}},data:function(){return{isAllowSet1:!0,isAllowSet2:!0,countryVal:null,groupId:[],groupIdList:[],site:[],siteList:[],siteShowList:[],countries:this.$filters.countries_option,mallListAPIInstance:new l["a"](this),isShowName:"",showMallNumber:100,mallShowIndex:0}},watch:{siteList:function(e){this.siteShowList=e},countryVal:{handler:function(e,t){this.isAllowSet2=!1,this.groupId=[],this.groupIdList=[],this.ddMallGoodsGetMallList(1)},deep:!0},groupId:{handler:function(e,t){var i=this;if(this.isAllowSet2){this.isAllowSet2=!1;var a=t.indexOf("")>-1,s=e.indexOf("")>-1;a!==s?this.groupId=s?[""].concat(Object(o["a"])(this.groupIdList.map((function(e){return e.id})))):[]:s?this.groupId=e.slice(1):this.groupIdList.length>0&&this.groupId.length===this.groupIdList.length&&this.groupId.unshift(""),setTimeout((function(){i.isAllowSet2=!0,i.ddMallGoodsGetMallList(2)}),10)}},deep:!0},site:{handler:function(e,t){var i=this;if(this.isAllowSet1){this.isAllowSet1=!1;var a=t.indexOf("")>-1,s=e.indexOf("")>-1;a!==s?this.site=s?[""].concat(Object(o["a"])(this.siteList.map((function(e){return e.platform_mall_id})))):[]:s?this.site=e.slice(1):this.siteList.length>0&&this.siteList.length===this.site.length&&this.site.unshift(""),setTimeout((function(){i.changeMallList(),i.isAllowSet1=!0}),10)}},deep:!0}},mounted:function(){this.countryVal=this.isMall?this.parentCountry:this.isAll?"":"TH"},methods:{reset:function(){this.isAllowSet2=!1,this.groupId=[],this.groupIdList=[],this.ddMallGoodsGetMallList(1)},ddMallGoodsGetMallList:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var i,a,s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.site=[],i=t.countryVal,a=t.groupId.indexOf("")>-1&&t.groupId.slice(1).toString()||t.groupId.toString(),s={country:i,mallGroupIds:a},e.next=6,t.mallListAPIInstance.ddMallGoodsGetMallList(s);case 6:n=e.sent,200===n.code?(t.siteList=n.data||[],0===t.groupIdList.length&&(t.groupId=[""],t.siteList.forEach((function(e){var i=t.groupIdList.findIndex((function(t){return t.id===e.group_id}));e.group_name&&i<0&&(t.groupIdList.push({group_name:e.group_name,id:e.group_id}),t.groupId.push(e.group_id))}))),setTimeout((function(){t.isAllowSet2=!0,t.isAllowSet1=!0,t.site=[""]}),10)):t.$message.error("获取分组、店铺列表失败");case 8:case"end":return e.stop()}}),e)})))()},changeMallList:function(){var e=this,t=[],i="";this.site.forEach((function(a){if(a){var s=e.siteList.find((function(e){return e.platform_mall_id===a}));t.push(s),i+=a+","}})),!this.countryVal&&this.groupId.indexOf("")>-1&&(i=t.length!==this.siteList.length&&i||""),this.source?this.$emit("changeMallList",{mallList:t,source:this.source,searchAll:i,country:this.countryVal.toLocaleUpperCase()}):(t["country"]=this.countryVal,this.$emit("changeMallList",t))},filterMall:function(e){this.isShowName=e||"";var t=this.siteList.filter((function(t){var i=t.mall_alias_name||t.platform_mall_name;return i.includes(e)}));this.showMallNumber=t.length-this.showMallNumber;var i=this.siteList.filter((function(t){var i=t.mall_alias_name||t.platform_mall_name;return!i.includes(e)}));this.siteShowList=[].concat(Object(o["a"])(t),Object(o["a"])(i))},showMall:function(e,t){var i=e.mall_alias_name||e.platform_mall_name,a=this.site[0]===e.platform_mall_id;return a||this.mallShowIndex<=t&&t<=this.mallShowIndex+this.showMallNumber&&(!this.isShowName||i.includes(this.isShowName))},loadmoreMall:function(e,t){if(this.siteShowList.length>this.showMallNumber){var i=0;e?(i=this.mallShowIndex+10,i=i<this.siteShowList.length&&i||this.mallShowIndex):(i=this.mallShowIndex-10,i=i>0&&i||0),i!==this.mallShowIndex&&(t.scrollTop=e?t.scrollTop-100:30),this.mallShowIndex=i}}}},d=c,u=(i("8992"),i("2877")),g=Object(u["a"])(d,a,s,!1,null,null,null);t["a"]=g.exports}}]);