(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-a6db209e"],{"2f03":function(e,t,a){"use strict";a.r(t);var s=a("1da1"),i=(a("96cf"),{data:function(){return{serchDataLoading:!1,packageCode:"",tableData:[],isLoading:!1,synchVisible:!1,listId:"",orderSn:""}},mounted:function(){},methods:{copy:function(e){var t=document.createElement("div");t.id="tempTarget",t.style.opacity="0",t.innerText=e,document.body.appendChild(t);try{var a=document.createRange();a.selectNode(t),window.getSelection().removeAllRanges(),window.getSelection().addRange(a),document.execCommand("copy"),window.getSelection().removeAllRanges(),this.$message.success("复制成功")}catch(e){}t.parentElement.removeChild(t)},serchData:function(){var e=this;return Object(s.a)(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.serchDataLoading=!0,e.packageCode){t.next=4;break}return e.serchDataLoading=!1,t.abrupt("return",e.$message("请输入要搜索的物流单号"));case 4:return e.tableData=[],e.isLoading=!0,a=e.packageCode,t.prev=7,t.next=10,e.$api.getUnclaimedPackage({packageCode:a});case 10:a=t.sent,200===(a=a.data).code&&a.data&&a.data.length?e.tableData=a.data:200===a.code?e.$message({type:"success",message:a.message}):e.$message({type:"error",message:a.message}),e.serchDataLoading=!1,e.isLoading=!1,t.next=21;break;case 17:t.prev=17,t.t0=t.catch(7),e.isLoading=!1,e.serchDataLoading=!1;case 21:case"end":return t.stop()}}),t,null,[[7,17]])})))()},markPackageToMyFun:function(e){this.listId=e,this.synchVisible=!0},markPackageToMy:function(){var e=this;return Object(s.a)(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.orderSn){t.next=3;break}return e.$message.warning("请输入订单号"),t.abrupt("return");case 3:return e.isLoading=!0,a={id:e.listId,orderSn:e.orderSn},t.next=7,e.$api.markPackageToMy(a);case 7:a=t.sent,200===(a=a.data).code?(e.$message({type:"success",message:"标记成功"}),e.closeDialog()):e.$message({type:"error",message:a.message}),e.isLoading=!1;case 11:case"end":return t.stop()}}),t)})))()},closeDialog:function(){this.listId="",this.orderSn="",this.synchVisible=!1}}});a("b1a5"),a=a("2877"),i=Object(a.a)(i,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],staticClass:"unclaimed-package"},[a("div",{staticClass:"operating-box"},[a("div",{staticClass:"form-item"},[a("span",{staticClass:"title"},[e._v("上家物流单号：")]),a("el-input",{attrs:{size:"mini",clearable:"",oninput:"value=value.replace(/\\s+/g,'')"},model:{value:e.packageCode,callback:function(t){e.packageCode=t},expression:"packageCode"}}),a("el-button",{staticStyle:{width:"80px",height:"30px"},attrs:{type:"primary",size:"mini",loading:e.serchDataLoading},on:{click:e.serchData}},[e._v("搜索")])],1)]),a("div",{staticClass:"table-box"},[a("el-table",{staticStyle:{width:"100%"},attrs:{"max-height":"540px",data:e.tableData,"tooltip-effect":"dark","header-cell-style":{textAlign:"center",backgroundColor:"#f5f7fa"},"cell-style":{textAlign:"center"}}},[a("el-table-column",{attrs:{label:"包裹图片"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.package_image?a("el-tooltip",{staticStyle:{width:"56px",height:"56px"},attrs:{effect:"light",placement:"right-end","visible-arrow":!1,enterable:!1}},[a("div",{attrs:{slot:"content"},slot:"content"},[a("el-image",{staticStyle:{width:"400px",height:"400px"},attrs:{src:t.row.package_image}},[a("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"})])],1),a("el-image",{staticStyle:{"border-radius":"4px"},attrs:{src:t.row.package_image,alt:"",width:"56px",height:"56px"}},[a("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"})])],1):e._e()]}}])}),a("el-table-column",{attrs:{prop:"package_time",label:"签收时间"}}),a("el-table-column",{attrs:{prop:"package_code",label:"包裹物流单号"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[a("span",[e._v(" "+e._s(s.package_code)+" "),s.package_code?a("span",{staticClass:"copyIcon",on:{click:function(t){return e.copy(s.package_code)}}},[a("i",{staticClass:"el-icon-document-copy"})]):e._e()])]}}])}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.markPackageToMyFun(t.row.id)}}},[e._v("标记为我的")])]}}])})],1)],1),a("el-dialog",{staticClass:"dialog1",attrs:{title:"输入订单号",width:"350px",top:"16vh","close-on-press-escape":!1,"close-on-click-modal":!1,visible:e.synchVisible},on:{"update:visible":function(t){e.synchVisible=t},closed:e.closeDialog}},[a("div",{staticClass:"form-items"},[a("span",{staticClass:"title"},[e._v("订单号：")]),a("el-input",{attrs:{size:"mini",clearable:"",oninput:"value=value.replace(/\\s+/g,'')"},model:{value:e.orderSn,callback:function(t){e.orderSn=t},expression:"orderSn"}}),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.markPackageToMy}},[e._v("确认")])],1)])],1)}),[],!1,null,"f9695f7c",null);t.default=i.exports},b1a5:function(e,t,a){"use strict";a("cb03")},cb03:function(e,t,a){}}]);