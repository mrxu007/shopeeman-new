(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-46074f4b"],{4683:function(t,e,a){"use strict";a("a103")},"4cf2":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-row"},[a("header",{staticClass:"operation-header"},[a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"关键词采集",name:"keyPage"}},[a("div",{staticClass:"keyword-container"},[a("div",{staticClass:"keyword-banner-bar"},t._l(t.keyworBar,(function(e){return a("div",{key:e.value,staticClass:"barChilren",class:{active:t.currentKeywordPlatform===e.value},on:{click:function(a){return t.switchPlatform(e)}}},[t._v(" "+t._s(e.label)+" ")])})),0),a("div",{staticClass:"keyword-banner-content"},[a("ul",{staticClass:"item con-sub-1"},[a("li",{directives:[{name:"show",rawName:"v-show",value:t.isShowPdd,expression:"isShowPdd"}]},[a("el-radio",{attrs:{label:1},model:{value:t.commonAttr.pddRadio,callback:function(e){t.$set(t.commonAttr,"pddRadio",e)},expression:"commonAttr.pddRadio"}},[t._v("云端采集(无需账号)")])],1),a("li",{directives:[{name:"show",rawName:"v-show",value:t.isShowPage,expression:"isShowPage"}]},[a("p",[t._v("开始页码：")]),a("el-input",{attrs:{disabled:t.buttonStatus.start,size:"mini"},model:{value:t.commonAttr.StartPage,callback:function(e){t.$set(t.commonAttr,"StartPage",e)},expression:"commonAttr.StartPage"}}),a("p",[t._v("总页码：")]),a("el-input",{staticStyle:{width:"85px"},attrs:{disabled:t.buttonStatus.start,size:"mini"},model:{value:t.commonAttr.EndPage,callback:function(e){t.$set(t.commonAttr,"EndPage",e)},expression:"commonAttr.EndPage"}}),a("el-tooltip",{directives:[{name:"show",rawName:"v-show",value:t.isShowPageSize20||t.isShowPageSize50,expression:"isShowPageSize20 || isShowPageSize50"}],attrs:{placement:"top"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowPageSize20,expression:"isShowPageSize20"}],staticClass:"tip",attrs:{slot:"content"},slot:"content"},[t._v("20条/页")]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowPageSize50,expression:"isShowPageSize50"}],staticClass:"tip",attrs:{slot:"content"},slot:"content"},[t._v("50条/页,最多50页")]),a("div",{staticClass:"size-icon"},[a("i",{staticClass:"el-icon-question"})])])],1),a("li",{directives:[{name:"show",rawName:"v-show",value:t.isShowTaobao,expression:"isShowTaobao"}]},[a("p",[t._v("排序方式：")]),a("el-select",{attrs:{disabled:t.buttonStatus.start,placeholder:"",size:"mini"},model:{value:t.commonAttr.shopeeSortTypeVal,callback:function(e){t.$set(t.commonAttr,"shopeeSortTypeVal",e)},expression:"commonAttr.shopeeSortTypeVal"}},t._l(t.commonAttr.shopeeSortType,(function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),1)],1),a("li",{directives:[{name:"show",rawName:"v-show",value:t.isShowTaobao,expression:"isShowTaobao"}]},[a("p",[t._v("单词最大：")]),a("el-input",{attrs:{disabled:t.buttonStatus.start,placeholder:"",size:"mini"},model:{value:t.commonAttr.wordLimit,callback:function(e){t.$set(t.commonAttr,"wordLimit",e)},expression:"commonAttr.wordLimit"}})],1),a("li",{directives:[{name:"show",rawName:"v-show",value:t.isShowSales,expression:"isShowSales"}]},[a("p",[t._v("销量区间：")]),a("el-input",{attrs:{disabled:t.buttonStatus.start,size:"mini"},model:{value:t.commonAttr.StartSales,callback:function(e){t.$set(t.commonAttr,"StartSales",e)},expression:"commonAttr.StartSales"}}),a("span",{staticClass:"slot"},[t._v("-")]),a("el-input",{attrs:{disabled:t.buttonStatus.start,size:"mini"},model:{value:t.commonAttr.EndSales,callback:function(e){t.$set(t.commonAttr,"EndSales",e)},expression:"commonAttr.EndSales"}})],1),a("li",{directives:[{name:"show",rawName:"v-show",value:t.isShowPrice,expression:"isShowPrice"}]},[a("p",[t._v("价格区间：")]),a("el-input",{attrs:{disabled:t.buttonStatus.start,size:"mini"},model:{value:t.commonAttr.StartPrice,callback:function(e){t.$set(t.commonAttr,"StartPrice",e)},expression:"commonAttr.StartPrice"}}),a("span",{staticClass:"slot"},[t._v("-")]),a("el-input",{attrs:{disabled:t.buttonStatus.start,size:"mini"},model:{value:t.commonAttr.EndPrice,callback:function(e){t.$set(t.commonAttr,"EndPrice",e)},expression:"commonAttr.EndPrice"}})],1),a("li",{directives:[{name:"show",rawName:"v-show",value:t.isShowShopeeSite,expression:"isShowShopeeSite"}],staticClass:"li-shopee"},[a("p",[t._v("站点：")]),a("el-select",{attrs:{disabled:t.buttonStatus.start,placeholder:"",size:"mini"},on:{change:t.getShopeeGoodsPlace},model:{value:t.commonAttr.shopeeSiteCode,callback:function(e){t.$set(t.commonAttr,"shopeeSiteCode",e)},expression:"commonAttr.shopeeSiteCode"}},t._l(t.commonAttr.shopeeSite,(function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),1),a("p",{staticClass:"li-shopee-spec"},[t._v("排序方式：")]),a("el-select",{attrs:{disabled:t.buttonStatus.start,placeholder:"",size:"mini"},model:{value:t.commonAttr.shopeeSortTypeVal,callback:function(e){t.$set(t.commonAttr,"shopeeSortTypeVal",e)},expression:"commonAttr.shopeeSortTypeVal"}},t._l(t.commonAttr.shopeeSortType,(function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),1)],1),a("li",{directives:[{name:"show",rawName:"v-show",value:t.isShowShopeeSite,expression:"isShowShopeeSite"}],staticClass:"li-shopee"},[a("p",[t._v("出货地点：")]),a("el-select",{attrs:{disabled:t.buttonStatus.start,placeholder:"",size:"mini"},model:{value:t.commonAttr.shopeePlaceVal,callback:function(e){t.$set(t.commonAttr,"shopeePlaceVal",e)},expression:"commonAttr.shopeePlaceVal"}},[a("el-option",{attrs:{label:"全部",value:"-1,-2"}}),t._l(t.commonAttr.shopeePlaceOrigin,(function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})}))],2),a("el-checkbox",{staticClass:"li-shopee-spec",attrs:{disabled:t.buttonStatus.start,label:"全部"},model:{value:t.commonAttr.isShopeeOffice,callback:function(e){t.$set(t.commonAttr,"isShopeeOffice",e)},expression:"commonAttr.isShopeeOffice"}},[t._v("过滤虾皮官方店铺商品 ")])],1),a("li",{directives:[{name:"show",rawName:"v-show",value:t.isShowLazadaSite,expression:"isShowLazadaSite"}]},[a("p",{staticStyle:{"min-width":"128px"}},[t._v("站点：")]),a("el-select",{staticStyle:{width:"140px"},attrs:{disabled:t.buttonStatus.start,placeholder:"",size:"mini"},on:{change:t.getLazadaGoodsPlace},model:{value:t.commonAttr.lazadaSiteCode,callback:function(e){t.$set(t.commonAttr,"lazadaSiteCode",e)},expression:"commonAttr.lazadaSiteCode"}},t._l(t.commonAttr.lazadaSite,(function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),1)],1),a("li",{directives:[{name:"show",rawName:"v-show",value:t.isShowLazadaSite,expression:"isShowLazadaSite"}],staticClass:"li-lazada"},t._l(t.commonAttr.lazadaPlaceOrigin,(function(e,i,n){return a("div",{key:n},[a("p",{staticStyle:{"min-width":"128px"}},[t._v(t._s(i))]),a("el-select",{staticStyle:{width:"140px"},attrs:{disabled:t.buttonStatus.start,placeholder:"",size:"mini",multiple:"","collapse-tags":""},on:{change:function(e){return t.changeSelect(e,""+t.commonAttr["lazadaPlaceVal"+n],2)}},model:{value:t.commonAttr["lazadaPlaceVal"+n],callback:function(e){t.$set(t.commonAttr,"lazadaPlaceVal"+n,e)},expression:"commonAttr[`lazadaPlaceVal${index}`]"}},[a("el-option",{attrs:{value:0,label:"全部"},nativeOn:{click:function(a){return t.selectAll("lazadaPlaceVal"+n,e,2)}}}),t._l(e,(function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})}))],2)],1)})),0),a("li",{directives:[{name:"show",rawName:"v-show",value:t.isShowSort,expression:"isShowSort"}]},[a("p",[t._v("排序方式：")]),a("el-select",{attrs:{disabled:t.buttonStatus.start,placeholder:"",size:"mini"},model:{value:t.commonAttr.alibabaSortTypeVal,callback:function(e){t.$set(t.commonAttr,"alibabaSortTypeVal",e)},expression:"commonAttr.alibabaSortTypeVal"}},t._l(t.commonAttr.alibabaSortType,(function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),1)],1),a("li",{directives:[{name:"show",rawName:"v-show",value:t.isShowCreateAt,expression:"isShowCreateAt"}]},[a("p",[t._v("创建时间：")]),a("el-date-picker",{attrs:{disabled:t.buttonStatus.start,type:"daterange",align:"right","unlink-panels":"","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":t.commonAttr.pickerOptions,size:"mini"},model:{value:t.commonAttr.value2,callback:function(e){t.$set(t.commonAttr,"value2",e)},expression:"commonAttr.value2"}})],1)]),a("div",{staticClass:"item con-sub-3"},[a("div",{staticClass:"size-icon",style:t.isShowKeyTip?"margin-top: 3px;":"margin-top: 5px;"},[t._v("关键词(一行一个) "),a("el-tooltip",{directives:[{name:"show",rawName:"v-show",value:t.isShowKeyTip,expression:"isShowKeyTip"}],attrs:{placement:"top"}},[a("div",{staticClass:"tip",attrs:{slot:"content"},slot:"content"},[t._v("采集请使用对应的站点语言搜索")]),a("i",{staticClass:"el-icon-question"})])],1),a("el-input",{attrs:{size:"mini",type:"textarea",rows:8,resize:"none"},model:{value:t.key,callback:function(e){t.key=e},expression:"key"}})],1),a("div",{staticClass:"item con-sub-3"},[a("p",{staticClass:"text"},[t._v("过滤关键词(一行一个)")]),a("el-input",{attrs:{size:"mini",type:"textarea",rows:8,resize:"none"},model:{value:t.commonAttr.keyFilter,callback:function(e){t.$set(t.commonAttr,"keyFilter",e)},expression:"commonAttr.keyFilter"}})],1),a("ul",{staticClass:"item con-sub-2"},[a("li",[a("el-button",{attrs:{type:"primary",size:"mini",disabled:t.buttonStatus.start},on:{click:t.isCollection}},[t._v("开始采集 ")]),a("el-button",{attrs:{type:"primary",size:"mini",disabled:!t.buttonStatus.start,loading:t.flag},on:{click:function(e){t.flag=!0}}},[t._v("取消采集 ")])],1),a("li",{staticClass:"li-item-2"},[a("p",[t._v("起：")]),a("el-input",{attrs:{size:"mini",placeholder:""},model:{value:t.start,callback:function(e){t.start=e},expression:"start"}}),a("p",[t._v("止：")]),a("el-input",{attrs:{size:"mini",placeholder:""},model:{value:t.end,callback:function(e){t.end=e},expression:"end"}})],1),a("li",[a("el-button",{attrs:{type:"primary",size:"mini",disabled:t.buttonStatus.start},on:{click:t.saveGoodsInfo}},[t._v("收藏商品 ")]),a("el-button",{attrs:{type:"primary",size:"mini",disabled:t.buttonStatus.start},on:{click:t.editorUp}},[t._v("编辑上新 ")])],1),a("li",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.plugVisible=!0}}},[t._v("插件采集")]),a("el-button",{attrs:{type:"primary",size:"mini",disabled:t.buttonStatus.start},on:{click:t.deleteAll}},[t._v("清理全部 ")])],1),a("li",[a("el-button",{attrs:{type:"primary",size:"mini",disabled:t.buttonStatus.start},on:{click:t.exportTableData}},[t._v("导出数据 ")]),a("el-button",{attrs:{type:"primary",size:"mini",disabled:t.buttonStatus.start},on:{click:function(e){return t.batchTableDelete(t.goodsList,t.multipleSelection)}}},[t._v("批量删除 ")])],1)]),a("div",{staticClass:"item"},[a("p",{staticClass:"text"},[t._v("收藏操作")]),a("div",{staticClass:"con-sub-6"},[a("div",{staticClass:"con-sub-6-log"},[a("ul",[a("li",[a("p",[t._v("收藏总产品数量：")]),t._v(t._s(t.goodsCollectionNum))]),a("li",[a("p",[t._v("成功数量：")]),t._v(t._s(t.successNum))]),a("li",[a("p",[t._v("失败数量：")]),t._v(t._s(t.failNum))])])])])]),a("div",{staticClass:"item"},[a("p",{staticClass:"text"},[t._v("执行日志")]),a("div",{staticClass:"con-sub-5"},[a("div",{staticClass:"con-sub-5-log",domProps:{innerHTML:t._s(t.consoleMsg)}})])])])])]),a("el-tab-pane",{attrs:{label:"商品链接采集",name:"linkPage"}},[a("div",{staticClass:"link-container"},[a("div",{staticClass:"item linkcon-sub-1"},[a("p",{staticClass:"text"},[t._v("商品链接: 一行一个")]),a("el-input",{attrs:{size:"mini",type:"textarea",rows:8,resize:"none"},model:{value:t.linkKey,callback:function(e){t.linkKey=e},expression:"linkKey"}})],1),a("ul",{staticClass:"item linkcon-sub-2"},[a("li",[a("el-button",{attrs:{type:"primary",size:"mini",disabled:t.buttonStatus.start},on:{click:t.isCollection}},[t._v("开始采集 ")]),a("el-button",{attrs:{type:"primary",size:"mini",disabled:!t.buttonStatus.start},on:{click:function(e){t.flag=!0}}},[t._v("取消采集 ")])],1),a("li",{staticClass:"li-item-2"},[a("p",[t._v("起：")]),a("el-input",{attrs:{size:"mini",placeholder:""},model:{value:t.start,callback:function(e){t.start=e},expression:"start"}}),a("p",[t._v("止：")]),a("el-input",{attrs:{size:"mini",placeholder:""},model:{value:t.end,callback:function(e){t.end=e},expression:"end"}})],1),a("li",[a("el-button",{attrs:{type:"primary",size:"mini",disabled:t.buttonStatus.start},on:{click:t.saveGoodsInfo}},[t._v("收藏商品 ")]),a("el-button",{attrs:{disabled:t.buttonStatus.start,type:"primary",size:"mini"},on:{click:t.editorUp}},[t._v("编辑上新")])],1),a("li",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.plugVisible=!0}}},[t._v("插件采集")]),a("el-button",{attrs:{type:"primary",disabled:t.buttonStatus.start,size:"mini"},on:{click:t.deleteAll}},[t._v("清理全部")])],1),a("li",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.downloadTemplate}},[t._v(" 下载模板")]),a("el-upload",{ref:"importRef",staticStyle:{"margin-left":"10px"},attrs:{disabled:t.buttonStatus.start,accept:".xls,.xlsx",action:"https://jsonplaceholder.typicode.com/posts/","on-change":t.importTemplate,"show-file-list":!1,"auto-upload":!1}},[a("el-button",{staticStyle:{width:"96px"},attrs:{disabled:t.buttonStatus.start,size:"mini",type:"primary"}},[t._v("链接导入 ")])],1)],1),a("li",[a("el-button",{attrs:{type:"primary",size:"mini",disabled:t.buttonStatus.start},on:{click:t.exportTableData}},[t._v("导出数据 ")]),a("el-button",{attrs:{type:"primary",size:"mini",disabled:t.buttonStatus.start},on:{click:function(e){return t.batchTableDelete(t.goodsList,t.multipleSelection)}}},[t._v("批量删除 ")])],1)]),a("div",{staticClass:"item"},[a("p",{staticClass:"text"},[t._v("收藏操作")]),a("div",{staticClass:"con-sub-6"},[a("div",{staticClass:"con-sub-6-log"},[a("ul",[a("li",[a("p",[t._v("收藏总产品数量：")]),t._v(t._s(t.goodsCollectionNum))]),a("li",[a("p",[t._v("成功数量：")]),t._v(t._s(t.successNum))]),a("li",[a("p",[t._v("失败数量：")]),t._v(t._s(t.failNum))])])])])]),a("div",{staticClass:"item"},[a("p",{staticClass:"text"},[t._v("执行日志")]),a("div",{staticClass:"linkcon-sub-4"},[a("div",{staticClass:"linkcon-sub-4-log",domProps:{innerHTML:t._s(t.consoleMsg)}})])])])]),a("el-tab-pane",{attrs:{label:"整店采集",name:"entriresShopPage"}},[a("div",{staticClass:"entires-container"},[a("ul",{staticClass:"item con-sub-1"},[a("li",{directives:[{name:"show",rawName:"v-show",value:t.isShowSales,expression:"isShowSales"}]},[a("p",[t._v("销量区间：")]),a("el-input",{attrs:{disabled:t.buttonStatus.start,size:"mini"},model:{value:t.commonAttr.StartSales,callback:function(e){t.$set(t.commonAttr,"StartSales",e)},expression:"commonAttr.StartSales"}}),a("span",{staticClass:"slot"},[t._v("-")]),a("el-input",{attrs:{disabled:t.buttonStatus.start,size:"mini"},model:{value:t.commonAttr.EndSales,callback:function(e){t.$set(t.commonAttr,"EndSales",e)},expression:"commonAttr.EndSales"}})],1),a("li",{directives:[{name:"show",rawName:"v-show",value:t.isShowPrice,expression:"isShowPrice"}]},[a("p",[t._v("价格区间：")]),a("el-input",{attrs:{disabled:t.buttonStatus.start,size:"mini"},model:{value:t.commonAttr.StartPrice,callback:function(e){t.$set(t.commonAttr,"StartPrice",e)},expression:"commonAttr.StartPrice"}}),a("span",{staticClass:"slot"},[t._v("-")]),a("el-input",{attrs:{disabled:t.buttonStatus.start,size:"mini"},model:{value:t.commonAttr.EndPrice,callback:function(e){t.$set(t.commonAttr,"EndPrice",e)},expression:"commonAttr.EndPrice"}})],1)]),a("div",{staticClass:"item con-sub-3"},[a("div",{staticClass:"size-icon",staticStyle:{"margin-top":"3px"}},[t._v("店铺链接(一行一个) "),a("el-tooltip",{attrs:{placement:"top"}},[a("div",{attrs:{slot:"content"},slot:"content"},[t._v("目前仅支持淘宝/Shopee/Lazada/1688/拼多多整店采集"),a("br"),a("br"),t._v("1688店铺链接：进入1688店铺->点击首页->复制链接"),a("br"),a("br"),t._v("店铺链接：进入shopee店铺->点击所有商品(AllProduct) ")]),a("i",{staticClass:"el-icon-question"})])],1),a("el-input",{attrs:{size:"mini",type:"textarea",rows:8,resize:"none"},model:{value:t.mallLinkKey,callback:function(e){t.mallLinkKey=e},expression:"mallLinkKey"}})],1),a("div",{staticClass:"item con-sub-3"},[a("p",{staticClass:"text"},[t._v("过滤违规词：一行一个")]),a("el-input",{attrs:{size:"mini",type:"textarea",rows:8,resize:"none"},model:{value:t.commonAttr.keyFilter,callback:function(e){t.$set(t.commonAttr,"keyFilter",e)},expression:"commonAttr.keyFilter"}})],1),a("ul",{staticClass:"item con-sub-2"},[a("li",[a("el-button",{attrs:{type:"primary",size:"mini",disabled:t.buttonStatus.start},on:{click:t.isCollection}},[t._v("开始采集 ")]),a("el-button",{attrs:{type:"primary",size:"mini",disabled:!t.buttonStatus.start},on:{click:function(e){t.flag=!0}}},[t._v("取消采集 ")])],1),a("li",{staticClass:"li-item-2"},[a("p",[t._v("起：")]),a("el-input",{attrs:{size:"mini",placeholder:""},model:{value:t.start,callback:function(e){t.start=e},expression:"start"}}),a("p",[t._v("止：")]),a("el-input",{attrs:{size:"mini",placeholder:""},model:{value:t.end,callback:function(e){t.end=e},expression:"end"}})],1),a("li",[a("el-button",{attrs:{type:"primary",size:"mini",disabled:t.buttonStatus.start},on:{click:t.saveGoodsInfo}},[t._v("收藏商品 ")]),a("el-button",{attrs:{type:"primary",size:"mini",disabled:t.buttonStatus.start},on:{click:t.editorUp}},[t._v("编辑上新")])],1),a("li",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.plugVisible=!0}}},[t._v("插件采集")]),a("el-button",{attrs:{type:"primary",size:"mini",disabled:t.buttonStatus.start},on:{click:t.deleteAll}},[t._v("清理全部")])],1),a("li",[a("el-button",{attrs:{type:"primary",size:"mini",disabled:t.buttonStatus.start},on:{click:t.exportTableData}},[t._v("导出数据 ")]),a("el-button",{attrs:{type:"primary",size:"mini",disabled:t.buttonStatus.start},on:{click:function(e){return t.batchTableDelete(t.goodsList,t.multipleSelection)}}},[t._v("批量删除 ")])],1)]),a("div",{staticClass:"item"},[a("p",{staticClass:"text"},[t._v("收藏操作")]),a("div",{staticClass:"con-sub-6"},[a("div",{staticClass:"con-sub-6-log"},[a("ul",[a("li",[a("p",[t._v("收藏总产品数量：")]),t._v(t._s(t.goodsCollectionNum))]),a("li",[a("p",[t._v("成功数量：")]),t._v(t._s(t.successNum))]),a("li",[a("p",[t._v("失败数量：")]),t._v(t._s(t.failNum))])])])])]),a("div",{staticClass:"item"},[a("p",{staticClass:"text"},[t._v("执行日志")]),a("div",{staticClass:"con-sub-5"},[a("div",{staticClass:"con-sub-5-log",domProps:{innerHTML:t._s(t.consoleMsg)}})])])])]),a("el-tab-pane",{attrs:{label:"图搜同款",name:"picToPicPage"}},[a("div",{staticClass:"picture-container"},[a("ul",{staticClass:"item con-sub-1"},[a("li",[a("p",[t._v("价格：")]),a("el-input",{attrs:{disabled:t.buttonStatus.start,size:"mini"},model:{value:t.commonAttr.StartPrice,callback:function(e){t.$set(t.commonAttr,"StartPrice",e)},expression:"commonAttr.StartPrice"}}),a("span",{staticClass:"slot"},[t._v("-")]),a("el-input",{attrs:{disabled:t.buttonStatus.start,size:"mini"},model:{value:t.commonAttr.EndPrice,callback:function(e){t.$set(t.commonAttr,"EndPrice",e)},expression:"commonAttr.EndPrice"}})],1),a("li",[a("p",[t._v("平台：")]),a("el-select",{attrs:{disabled:t.buttonStatus.start,placeholder:"",size:"mini"},model:{value:t.commonAttr.pictureSearchPlatformId,callback:function(e){t.$set(t.commonAttr,"pictureSearchPlatformId",e)},expression:"commonAttr.pictureSearchPlatformId"}},t._l(t.pictureSearchOrigin,(function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),1),a("el-upload",{staticClass:"avatar-uploader",attrs:{disabled:t.buttonStatus.start,action:"#","show-file-list":!1,"on-error":t.imgSaveToUrl}},[a("el-button",{staticStyle:{"margin-left":"25px"},attrs:{disabled:t.buttonStatus.start,type:"primary",size:"mini"}},[t._v("选择图片 ")])],1)],1)]),a("div",{staticClass:"item con-sub-3"},[t.base64Str?a("img",{staticClass:"avatar",staticStyle:{width:"200px",height:"156px"},attrs:{src:t.base64Str}}):t._e()]),a("ul",{staticClass:"item con-sub-2"},[a("li",[a("el-button",{attrs:{type:"primary",size:"mini",disabled:t.buttonStatus.start},on:{click:t.isCollection}},[t._v("开始采集 ")]),a("el-button",{attrs:{type:"primary",size:"mini",disabled:!t.buttonStatus.start},on:{click:function(e){t.flag=!0}}},[t._v("取消采集 ")])],1),a("li",{staticClass:"li-item-2"},[a("p",[t._v("起：")]),a("el-input",{attrs:{size:"mini",placeholder:""},model:{value:t.start,callback:function(e){t.start=e},expression:"start"}}),a("p",[t._v("止：")]),a("el-input",{attrs:{size:"mini",placeholder:""},model:{value:t.end,callback:function(e){t.end=e},expression:"end"}})],1),a("li",[a("el-button",{attrs:{type:"primary",size:"mini",disabled:t.buttonStatus.start},on:{click:t.saveGoodsInfo}},[t._v("收藏商品 ")]),a("el-button",{attrs:{type:"primary",size:"mini",disabled:t.buttonStatus.start},on:{click:t.editorUp}},[t._v("编辑上新")])],1),a("li",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.plugVisible=!0}}},[t._v("插件采集")]),a("el-button",{attrs:{type:"primary",size:"mini",disabled:t.buttonStatus.start},on:{click:t.deleteAll}},[t._v("清理全部")])],1),a("li",[a("el-button",{attrs:{type:"primary",size:"mini",disabled:t.buttonStatus.start},on:{click:t.exportTableData}},[t._v("导出数据 ")]),a("el-button",{attrs:{type:"primary",size:"mini",disabled:t.buttonStatus.start},on:{click:function(e){return t.batchTableDelete(t.goodsList,t.multipleSelection)}}},[t._v("批量删除 ")])],1)]),a("div",{staticClass:"item"},[a("p",{staticClass:"text"},[t._v("收藏操作")]),a("div",{staticClass:"con-sub-6"},[a("div",{staticClass:"con-sub-6-log"},[a("ul",[a("li",[a("p",[t._v("收藏总产品数量：")]),t._v(t._s(t.goodsCollectionNum))]),a("li",[a("p",[t._v("成功数量：")]),t._v(t._s(t.successNum))]),a("li",[a("p",[t._v("失败数量：")]),t._v(t._s(t.failNum))])])])])]),a("div",{staticClass:"item"},[a("p",{staticClass:"text"},[t._v("执行日志")]),a("div",{staticClass:"con-sub-5"},[a("div",{staticClass:"con-sub-5-log",domProps:{innerHTML:t._s(t.consoleMsg)}})])])])]),a("el-tab-pane",{attrs:{label:"天猫淘宝海外平台采集",name:"taobaoAbroadPage"}},[a("div",{staticClass:"TMTB-container"},[a("ul",{staticClass:"item con-sub-1"},[a("li",[a("p",[t._v("选择账号：")]),a("el-select",{staticStyle:{width:"140px"},attrs:{disabled:t.buttonStatus.start,placeholder:"",size:"mini",multiple:"","collapse-tags":""},on:{change:function(e){return t.changeSelect(e,"TaobaoAbroadAccountId",1)}},model:{value:t.TaobaoAbroadAccountId,callback:function(e){t.TaobaoAbroadAccountId=e},expression:"TaobaoAbroadAccountId"}},[a("el-option",{attrs:{value:0,label:"全部"},nativeOn:{click:function(e){return t.selectAll("TaobaoAbroadAccountId",t.TaobaoAbroadAccount,1)}}}),t._l(t.TaobaoAbroadAccount,(function(t,e){return a("el-option",{key:e,attrs:{label:t.account_alias_name,value:t.id}})}))],2)],1),a("li",[a("p",[t._v("起始时间：")]),a("el-date-picker",{attrs:{disabled:t.buttonStatus.start,type:"daterange",align:"right","unlink-panels":"","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"timestamp",size:"mini"},model:{value:t.taobaoTimeAt,callback:function(e){t.taobaoTimeAt=e},expression:"taobaoTimeAt"}})],1),a("li",[a("a",{attrs:{href:"#"},on:{click:function(e){return t.$BaseUtilService.openUrl("https:distributor.taobao.global/")}}},[t._v("淘宝天猫海外商品铺货")])])]),a("ul",{staticClass:"item con-sub-2"},[a("li",[a("el-button",{attrs:{type:"primary",size:"mini",disabled:t.buttonStatus.start},on:{click:t.isCollection}},[t._v("开始采集 ")]),a("el-button",{attrs:{type:"primary",size:"mini",disabled:!t.buttonStatus.start},on:{click:function(e){t.flag=!0}}},[t._v("取消采集 ")])],1),a("li",{staticClass:"li-item-2"},[a("p",[t._v("起：")]),a("el-input",{attrs:{size:"mini",placeholder:""},model:{value:t.start,callback:function(e){t.start=e},expression:"start"}}),a("p",[t._v("止：")]),a("el-input",{attrs:{size:"mini",placeholder:""},model:{value:t.end,callback:function(e){t.end=e},expression:"end"}})],1),a("li",[a("el-button",{attrs:{type:"primary",size:"mini",disabled:t.buttonStatus.start},on:{click:t.saveGoodsInfo}},[t._v("收藏商品 ")]),a("el-button",{attrs:{type:"primary",disabled:t.buttonStatus.start,size:"mini"},on:{click:t.editorUp}},[t._v("编辑上新")])],1),a("li",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.plugVisible=!0}}},[t._v("插件采集")]),a("el-button",{attrs:{type:"primary",disabled:t.buttonStatus.start,size:"mini"},on:{click:t.deleteAll}},[t._v("清理全部")])],1),a("li",[a("el-button",{attrs:{type:"primary",size:"mini",disabled:t.buttonStatus.start},on:{click:t.exportTableData}},[t._v("导出数据 ")]),a("el-button",{attrs:{type:"primary",size:"mini",disabled:t.buttonStatus.start},on:{click:function(e){return t.batchTableDelete(t.goodsList,t.multipleSelection)}}},[t._v("批量删除 ")])],1)]),a("div",{staticClass:"item"},[a("p",{staticClass:"text"},[t._v("收藏操作")]),a("div",{staticClass:"con-sub-6"},[a("div",{staticClass:"con-sub-6-log"},[a("ul",[a("li",[a("p",[t._v("收藏总产品数量：")]),t._v(t._s(t.goodsCollectionNum))]),a("li",[a("p",[t._v("成功数量：")]),t._v(t._s(t.successNum))]),a("li",[a("p",[t._v("失败数量：")]),t._v(t._s(t.failNum))])])])])]),a("div",{staticClass:"item"},[a("p",{staticClass:"text"},[t._v("执行日志")]),a("div",{staticClass:"con-sub-5"},[a("div",{staticClass:"con-sub-5-log",domProps:{innerHTML:t._s(t.consoleMsg)}})])])])]),a("el-tab-pane",{attrs:{label:"采集设置",name:"sixth"}},[a("div",{staticClass:"collection-settings"},[a("ul",{staticClass:"item left"},[a("li",{staticClass:"text"},[t._v("采集设置")]),a("li",[a("el-checkbox",{attrs:{label:"过滤多余的SKU"},model:{value:t.IsDefaultFilterSkuCount,callback:function(e){t.IsDefaultFilterSkuCount=e},expression:"IsDefaultFilterSkuCount"}}),a("p",{staticClass:"tip"},[t._v("（勾选多余的SKU，删除所有sku图）")])],1),a("li",[a("el-checkbox",{attrs:{label:"规格图重复时，删除所有sku图"},model:{value:t.IsDeleteRepeatSkuImg,callback:function(e){t.IsDeleteRepeatSkuImg=e},expression:"IsDeleteRepeatSkuImg"}})],1),a("li",[a("el-checkbox",{attrs:{label:"启动lazada发货天数过滤商品"},model:{value:t.IsFilterLazadaDeliveryDay,callback:function(e){t.IsFilterLazadaDeliveryDay=e},expression:"IsFilterLazadaDeliveryDay"}}),a("p",{staticClass:"tip2"},[t._v("lazada发货天数：")]),a("el-input",{attrs:{placeholder:"",size:"mini"},model:{value:t.MinLazadaDeliveryDay,callback:function(e){t.MinLazadaDeliveryDay=e},expression:"MinLazadaDeliveryDay"}}),a("span",[t._v("--")]),a("el-input",{attrs:{placeholder:"",size:"mini"},model:{value:t.MaxLazadaDeliveryDay,callback:function(e){t.MaxLazadaDeliveryDay=e},expression:"MaxLazadaDeliveryDay"}})],1),a("li",[a("el-checkbox",{attrs:{label:"启动虾皮发货天数过滤商品"},model:{value:t.IsFilterShopeeDeliveryDay,callback:function(e){t.IsFilterShopeeDeliveryDay=e},expression:"IsFilterShopeeDeliveryDay"}}),a("p",{staticClass:"tip2"},[t._v("虾皮发货天数：")]),a("el-input",{attrs:{placeholder:"",size:"mini"},model:{value:t.MinShoppeDeliveryDay,callback:function(e){t.MinShoppeDeliveryDay=e},expression:"MinShoppeDeliveryDay"}}),a("span",[t._v("--")]),a("el-input",{attrs:{placeholder:"",size:"mini"},model:{value:t.MaxShoppeDeliveryDay,callback:function(e){t.MaxShoppeDeliveryDay=e},expression:"MaxShoppeDeliveryDay"}})],1),a("li",[a("p",{staticClass:"tip"},[t._v("收藏时过滤掉不在此发货天数区间的商品")])]),a("li",[a("el-checkbox",{attrs:{label:"采集描述为空的数据"},model:{value:t.IsCollectDescriptionIsNull,callback:function(e){t.IsCollectDescriptionIsNull=e},expression:"IsCollectDescriptionIsNull "}})],1),a("li",[a("p",[t._v("收藏时过滤商品发货地址（仅Shopee可用）：")]),a("el-select",{attrs:{placeholder:"",size:"mini"},model:{value:t.GoodsDeliveryAddress,callback:function(e){t.GoodsDeliveryAddress=e},expression:"GoodsDeliveryAddress"}},t._l(t.GoodsDeliveryAddressList,(function(t,e){return a("el-option",{key:e,attrs:{value:t.value,label:t.label}})})),1)],1)]),a("ul",{staticClass:"item right"},[a("li",{staticClass:"text"},[t._v("翻译设置")]),a("li",[a("p",[t._v("翻译缓存时间：")]),a("el-date-picker",{staticStyle:{"margin-right":"10px"},attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期",size:"mini"},model:{value:t.commonAttr.cacheTime,callback:function(e){t.$set(t.commonAttr,"cacheTime",e)},expression:"commonAttr.cacheTime"}}),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.clearTranslate}},[t._v("清 理")])],1),a("li",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.clearCache}},[t._v("清理缓存数据")])],1)])])])],1)],1),a("article",{directives:[{name:"show",rawName:"v-show",value:"sixth"!==t.activeName,expression:"activeName !== 'sixth'"}]},[a("div",{staticStyle:{color:"red","padding-bottom":"10px"}},[t._v("温馨提示：拼多多产品加载不出来，收藏或者组装数据慢，请切换本地IP")]),a("u-table",{ref:"plTable",attrs:{"use-virtual":"",height:"keyPage"===t.activeName?500:540,data:t.goodsList,"data-changes-scroll-top":!1,"header-cell-style":{backgroundColor:"#f5f7fa"},"big-data-checkbox":!0,border:!1},on:{"selection-change":t.handleSelectionChange}},[a("u-table-column",{attrs:{align:"center",type:"selection"}}),a("u-table-column",{attrs:{align:"center",type:"index",label:"序号"}}),a("u-table-column",{attrs:{align:"center",label:"主图"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[i.Image?a("el-tooltip",{staticStyle:{width:"50px",height:"50px"},attrs:{effect:"light",placement:"right-end","visible-arrow":!1,enterable:!1}},[a("div",{attrs:{slot:"content"},slot:"content"},[a("el-image",{staticStyle:{width:"400px",height:"400px"},attrs:{src:i.Image}},[a("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"}),a("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[t._v(" 加载中"),a("span",{staticClass:"dot"},[t._v("...")])])])],1),a("el-image",{staticStyle:{width:"40px",height:"40px"},attrs:{src:i.Image}},[a("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"}),a("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[t._v(" 加载中"),a("span",{staticClass:"dot"},[t._v("...")])])])],1):t._e()]}}])}),a("u-table-column",{attrs:{align:"center","min-width":"150",label:"上家ID",prop:"GoodsId","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[i.GoodsId?a("span",{staticClass:"copyIcon",on:{click:function(e){return t.copy(i.GoodsId)}}},[a("i",{staticClass:"el-icon-document-copy"})]):t._e(),a("span",{staticStyle:{cursor:"pointer",color:"blue"},on:{click:function(e){return t.openUrl(i.Url)}}},[t._v(" "+t._s(i.GoodsId)+" ")])]}}])}),a("u-table-column",{attrs:{align:"center",label:"标题",prop:"Title","min-width":"400px","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("p",{staticStyle:{"white-space":"normal"}},[t._v(t._s(i.Title))])]}}])}),a("u-table-column",{attrs:{align:"center","min-width":"200",label:"类目",prop:"CategoryName","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("p",{staticStyle:{"white-space":"normal"}},[t._v(t._s(i.CategoryName))])]}}])}),a("u-table-column",{attrs:{align:"center",label:"价格",prop:"Price",sortable:""}}),a("u-table-column",{attrs:{align:"center",label:"销量",prop:"Sales",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(" "+t._s(isNaN(a.Sales)?0:a.Sales)+" ")]}}])}),a("u-table-column",{attrs:{align:"center",label:"发货地",prop:"Location"}}),a("u-table-column",{attrs:{align:"center","min-width":"150",label:"来源",prop:"Origin","show-overflow-tooltip":""}}),a("u-table-column",{attrs:{align:"center","min-width":"80",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return t.tableDelete(e.row,e.$index)}}},[t._v(" 删除 ")])]}}])}),a("u-table-column",{attrs:{"min-width":"100",align:"center",label:"操作结果",prop:"StatusName","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",{style:i.color&&"color:"+i.color},[t._v(t._s(i.StatusName))])]}}])})],1)],1),t.plugVisible?a("el-dialog",{staticClass:"plug-dialog",attrs:{title:"插件采集",visible:t.plugVisible,width:"600px","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(e){t.plugVisible=e}}},[a("p",[t._v("1：请先下载插件程序安装至浏览器，方可使用此功能 "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.$BaseUtilService.openUrl("https://shopeeman.oss-cn-shenzhen.aliyuncs.com/files/shopeemanFiles/appFiles/20220106/2022010616473761d6aca9e310d.docx")}}},[t._v(" 下载教程 ")])],1),a("p",[t._v("2：由于推送地址端口号随时生成，重启软件后，请务必重新复制推送地址 "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.$BaseUtilService.openUrl("https://shopeeppxia.oss-cn-shenzhen.aliyuncs.com/desktop/plugin/CollectPligin.zip")}}},[t._v(" 下载插件 ")])],1),t.accountPermissions()?a("el-form",{attrs:{"label-position":"right","label-width":"190px"}},[a("el-form-item",{attrs:{label:"拼多多关键词采集推送地址："}},[a("div",{staticClass:"item"},[a("span",[t._v(t._s(t.port)+"/api/pddGoodsKeyword")]),a("el-button",{attrs:{size:"mini"},on:{click:function(e){return t.copy(t.port+"/api/pddGoodsKeyword")}}},[t._v("复 制")])],1)]),a("el-form-item",{attrs:{label:"拼多多详情采集推送地址："}},[a("div",{staticClass:"item"},[a("span",[t._v(t._s(t.port)+"/api/pddGoodsDetail")]),a("el-button",{attrs:{size:"mini"},on:{click:function(e){return t.copy(t.port+"/api/pddGoodsDetail")}}},[t._v("复 制")])],1)]),a("el-form-item",{attrs:{label:"淘宝/天猫关键词采集推送地址："}},[a("div",{staticClass:"item"},[a("span",[t._v(t._s(t.port)+"/api/tbGoodsKeyword")]),a("el-button",{attrs:{size:"mini"},on:{click:function(e){return t.copy(t.port+"/api/tbGoodsKeyword")}}},[t._v("复 制")])],1)]),a("el-form-item",{attrs:{label:"淘宝详情采集推送地址："}},[a("div",{staticClass:"item"},[a("span",[t._v(t._s(t.port)+"/api/tbGoodsDetail")]),a("el-button",{attrs:{size:"mini"},on:{click:function(e){return t.copy(t.port+"/api/tbGoodsDetail")}}},[t._v("复 制")])],1)])],1):a("div",{staticStyle:{color:"red","text-align":"center",margin:"10px","font-weight":"700"}},[t._v(" 个人版不支持插件采集，请购买或升级进阶、企业、终生版！ ")])],1):t._e(),a("div",{staticClass:"on_new_dialog"},[a("el-dialog",{attrs:{width:"1313px","close-on-click-modal":!1,top:"0.5vh",visible:t.isEditorVisible,modal:!1},on:{"update:visible":function(e){t.isEditorVisible=e},close:t.closeEditor}},[a("template",{slot:"title"},[a("div",{staticStyle:{display:"flex","align-items":"center"}},[a("div",{staticStyle:{"margin-right":"25px"}},[t._v("上新编辑")]),a("el-button",{attrs:{size:"mini",type:t.isNoFoldShow?"primary":""},nativeOn:{click:function(e){return e.stopPropagation(),t.setIsNoFoldShow.apply(null,arguments)}}},[t._v(" "+t._s(t.isNoFoldShow?"折叠":"展开")+" ")])],1)]),t.isEditorVisible?a("editor-on-new-goods",{ref:"editor_on_new_goods",attrs:{"mall-table":t.editorSelection,"is-collect":t.isCollect},on:{close:t.close}}):t._e()],2)],1)],1)},n=[],o=a("2909"),r=a("b85c"),s=a("1da1"),l=(a("96cf"),a("caad"),a("5b81"),a("b64b"),a("a9e3"),a("159b"),a("99af"),a("2532"),a("3ca3"),a("ddb0"),a("7db0"),a("a434"),a("4e82"),a("d81d"),a("c740"),a("b0c0"),a("4de4"),a("8ac2")),c=a("1d85"),u=a("53ca"),d=a("d4ec"),p=a("bee2"),m=a("ade3"),b=(a("498a"),a("ac1f"),a("1276"),a("5319"),a("0e0b")),h=function(){function t(e){Object(d["a"])(this,t),Object(m["a"])(this,"_this",null),this._this=e}return Object(p["a"])(t,[{key:"checkMallLink",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this._this.$collectService.getMallByLink(e);case 3:if(a=t.sent,void 0===a.Platform){t.next=6;break}return t.abrupt("return",{code:200,data:a});case 6:return t.abrupt("return",{code:-2,data:"未获取到正确的平台ID"});case 9:return t.prev=9,t.t0=t["catch"](0),t.abrupt("return",{code:-2,data:"checkMallLink-catch: ".concat(t.t0)});case 12:case"end":return t.stop()}}),t,this,[[0,9]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"mallSearch",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.checkMallLink(e);case 2:if(a=t.sent,200===a.code){t.next=5;break}return t.abrupt("return",this.writeLog("".concat(a.data),!1));case 5:null,t.t0=a.data.Platform,t.next=1===t.t0?9:2===t.t0||3===t.t0?13:8===t.t0?17:9===t.t0?21:10===t.t0?25:11===t.t0?29:12===t.t0?33:37;break;case 9:return t.next=11,this.searchMallGoodsAsync(a.data,"searchPddMallGoodsAsync","PddMallInformation");case 11:return t.sent,t.abrupt("break",37);case 13:return t.next=15,this.searchMallGoodsAsync(a.data,"searchTbMallGoodsAsync","TbMallInformation");case 15:return t.sent,t.abrupt("break",37);case 17:return t.next=19,this.searchMallGoodsAsync(a.data,"searchAliBaBaMallGoodsAsync","AliBaBaMallInformation");case 19:return t.sent,t.abrupt("break",37);case 21:return t.next=23,this.searchMallGoodsAsync(a.data,"searchLazadaMallGoodsAsync","LazadaMallInformation");case 23:return t.sent,t.abrupt("break",37);case 25:return t.next=27,this.searchMallGoodsAsync(a.data,"searchJxMallGoodsAsync","JxMallInformation");case 27:return t.sent,t.abrupt("break",37);case 29:return t.next=31,this.searchMallGoodsAsync(a.data,"searchShopeeMallGoodsAsync","ShopeeMallInformation");case 31:return t.sent,t.abrupt("break",37);case 33:return t.next=35,this.searchMallGoodsAsync(a.data,"searchExpressMallGoodsAsync","ExpressMallInformation");case 35:return t.sent,t.abrupt("break",37);case 37:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"searchMallGoodsAsync",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e,a,i){var n,o,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=1;case 1:if(!n){t.next=31;break}if(!this._this.flag){t.next=4;break}return t.abrupt("break",31);case 4:return t.prev=4,e[i].Page=n,t.next=8,this._this.$collectService[a](e);case 8:if(o=t.sent,o=this.isJsonString(o),console.log("整店返回数据",o),"object"!==Object(u["a"])(o)||200!==o.Result.Code){t.next=17;break}r=this._this.filterData(o.Result.ListItem),this.writeLog("开始采集第【".concat(n,"】页商品，共采集到【").concat(o.Result.ListItem.length,"】条，过滤【").concat(o.Result.ListItem.length-r.length,"】条"),!0),this._this.goodsList=this._this.goodsList.concat(r),t.next=19;break;case 17:return this.writeLog("开始采集第【".concat(n,"】页商品，采集失败").concat("string"===typeof o?o:o.Result.Msg||""),!1),t.abrupt("break",31);case 19:t.next=28;break;case 21:if(t.prev=21,t.t0=t["catch"](4),!(t.t0.indexOf("超出页数限制")>-1||t.t0.indexOf("获取Shopee商品详情为空")>-1)){t.next=26;break}return this.writeLog("采集完成，采集已达最大页数限制",!1),t.abrupt("break",31);case 26:return this.writeLog("采集异常，".concat(t.t0),!1),t.abrupt("break",31);case 28:n++,t.next=1;break;case 31:case"end":return t.stop()}}),t,this,[[4,21]])})));function e(e,a,i){return t.apply(this,arguments)}return e}()},{key:"handleEntireKeyFactory",value:function(t){try{var e=t.trim();return e?(e=e.replace(/\s/g,";").split(";"),{code:200,data:e}):{code:-3,data:"整店链接不能为空"}}catch(a){return{code:-2,data:"整店链接不规范：".concat(a)}}}},{key:"writeLog",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(void 0!==this._this.consoleMsg&&t){var a=e?"green":"red",i=Object(b["h"])(new Date(Date.now()),"hh:mm:ss");this._this.consoleMsg+='<p style="color:'.concat(a,'; margin-top: 5px;">').concat(i,":").concat(t,"</p>")}}},{key:"isJsonString",value:function(t){if("string"!==typeof t)return t;try{return JSON.parse(t),JSON.parse(t)}catch(e){return t}}}]),t}(),v=h,f=function(){function t(e){Object(d["a"])(this,t),Object(m["a"])(this,"_this",null),this._this=e,this.errorCatchText=null,this.GoodsData=null}return Object(p["a"])(t,[{key:"picSearch",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e,a){var i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this._this.$collectService.imgSearch(e,a);case 3:if(i=t.sent,i=this.isJsonString(i),"object"!==Object(u["a"])(i)||0!==i.Code){t.next=8;break}return n=this._this.filterData(i.ListItem),t.abrupt("return",{code:200,data:n});case 8:return t.abrupt("return",{code:-2,data:"string"===typeof i?i:i.Msg});case 11:return t.prev=11,t.t0=t["catch"](0),t.abrupt("return",{code:-2,data:"picSearch-catch: ".concat(t.t0)});case 14:case"end":return t.stop()}}),t,this,[[0,11]])})));function e(e,a){return t.apply(this,arguments)}return e}()},{key:"getTaobaoAbroadAccount",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e=this._this.$userInfo.muid,Object(b["B"])((function(){return e}),5e3),a={uid:e,uuid:"0",account:"",accountAliasName:""},t.next=6,this._this.$shopeemanService.getChineseLaiZan("http://api.laizand.com/api/open/getTbGlobalUser?",a,{headers:{Accept:"application/json, application/xml, text/json, text/x-json, text/javascript, text/xml","Accept-Encoding":" gzip, deflate","User-Agent":"RestSharp/106.3.1.0"}});case 6:if(i=t.sent,i=JSON.parse(JSON.parse(i).data),200!==i.code){t.next=10;break}return t.abrupt("return",{code:200,data:i.data.data});case 10:return t.abrupt("return",{code:i.code,data:i.message});case 13:return t.prev=13,t.t0=t["catch"](0),t.abrupt("return",{code:-2,data:"getTaobaoAbroadAccount-catch: ".concat(t.t0)});case 16:case"end":return t.stop()}}),t,this,[[0,13]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"queryTmCrossBorder",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e,a){var i,n,o,r,s,l,c,u,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.GoodsData=null,this.GoodsData=[],i=1,n={Page:i,pageSize:100,SortType:"DESC",StartModifiedTime:a[0],EndModifiedTime:a[1],SortField:"modified",Status:"NORMAL"};case 4:if(!i){t.next=62;break}if(!this._this.flag){t.next=7;break}return t.abrupt("break",62);case 7:return n["Page"]=i,r=null,t.prev=9,t.next=12,this._this.$collectService.queryTmCrossBorder(e.access_token,n);case 12:if(r=t.sent,r=JSON.parse(r),!0===r.success){t.next=17;break}return this.writeLog("账号【".concat(e.account_alias_name,"】").concat(r.error_msg),!1),t.abrupt("break",62);case 17:t.next=23;break;case 19:t.prev=19,t.t0=t["catch"](9),this.errorCatchText=t.t0,r=this.handleError();case 23:if(0===(null===(o=r.data)||void 0===o?void 0:o.item_id)){t.next=28;break}return this.writeLog("账号【".concat(e.account_alias_name,"】采集第").concat(i,"页失败，数据为空"),!1),t.abrupt("break",62);case 28:if(s=r.data.product_list,console.log("天猫淘宝海外平台",s),0!==s.length){t.next=32;break}return t.abrupt("break",62);case 32:this.writeLog("账号【".concat(e.account_alias_name,"】采集第").concat(i,"页，采集到约").concat(s.length,"条"),!0),l=[],c=0;case 35:if(!(c<s.length)){t.next=58;break}return u=s[c],u.Image=u.images[0],u.GoodsId=u.item_id,u.Title=u.title,t.next=42,this._this.$collectService.getGoodsCat(Number(u.category_id),13,"");case 42:if(t.t1=t.sent,t.t1){t.next=45;break}t.t1="";case 45:d=t.t1,u.CategoryName=d.split("|")[0]||"",u.Price=u.price,u.Sales=0,u.Origin="天猫淘宝海外平台",u.Url="https://distributor.taobao.global/apps/product/detail?mpId=".concat(u.item_id),u.platformId=13,u.AccessToken=e.access_token,u.UserId=e.user_id,l.push(u);case 55:c++,t.next=35;break;case 58:this._this.goodsList=this._this.goodsList.concat(l);case 59:i++,t.next=4;break;case 62:case"end":return t.stop()}}),t,this,[[9,19]])})));function e(e,a){return t.apply(this,arguments)}return e}()},{key:"handleError",value:function(){var t=JSON.stringify(this.errorCatchText).replace(/\s/g,"");return t.indexOf("数据列表为空")>-1?t="数据列表为空":t.indexOf("返回数据不能为空")>-1&&(t="返回数据不能为空"),this.errorCatchText=null,JSON.stringify({Code:-2,Msg:"捕获错误".concat(t)})}},{key:"writeLog",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(void 0!==this._this.consoleMsg&&t){var a=e?"green":"red",i=Object(b["h"])(new Date(Date.now()),"hh:mm:ss");this._this.consoleMsg+='<p style="color:'.concat(a,'; margin-top: 5px;">').concat(i,":").concat(t,"</p>")}}},{key:"isJsonString",value:function(t){if("string"!==typeof t)return t;try{return JSON.parse(t),JSON.parse(t)}catch(e){return t}}}]),t}(),g=f,S=a("3c12"),y=a("da05"),w=a("5287"),k=a("1146"),x=a.n(k),_={components:{editorOnNewGoods:y["a"]},props:{baseConfig:{type:Object,required:!1,default:function(){return{keywordConfig:[1,2,11,8,10,12,9]}}}},data:function(){return{activeName:"keyPage",collectName:"",CollectPublicApInstance:new S["a"](this),CollectKeyWordApInstance:new l["a"](this),collectLinkApInstance:new c["a"](this),collectEntireApInstance:new v(this),collectOtherApInstance:new g(this),isCollect:!0,multipleSelection:[],goodsList:[],buttonStatus:{start:!1},currentKeywordPlatform:1,commonAttr:{pddRadio:1,StartPage:1,EndPage:100,StartSales:0,EndSales:999999999,StartPrice:0,EndPrice:999999999,keyFilter:"",wordLimit:10,shopeeSortType:[{label:"价格从低到高",value:"price,asc"},{label:"价格从高到低",value:"price,desc"},{label:"销量从低到高",value:"sales,asc"},{label:"销量从高到低",value:"sales,desc"}],isShopeeOffice:!1,shopeeSortTypeVal:"price,asc",shopeeSite:[],shopeeSiteCode:"TW",shopeePlaceOrigin:"",shopeePlaceVal:"-1,-2",lazadaSite:[],lazadaSiteCode:"MY",lazadaPlaceOrigin:{},lazadaPlaceVal0:[],lazadaPlaceVal1:[],pickerOptions:{shortcuts:[{text:"今天",onClick:function(t){var e=new Date,a=new Date;t.$emit("pick",[a,e])}},{text:"昨天",onClick:function(t){var e=new Date,a=new Date;e.setTime(e.getTime()-864e5),a.setTime(a.getTime()-864e5),t.$emit("pick",[a,e])}},{text:"一周前",onClick:function(t){var e=new Date,a=new Date;e.setTime(e.getTime()-6048e5),a.setTime(a.getTime()-6048e5),t.$emit("pick",[a,e])}}]},value2:"",cacheTime:[],alibabaSortType:[{label:"综合排序",value:"pop"},{label:"价格从低到高",value:"price_fale"},{label:"价格从高到低",value:"price_true"},{label:"销量从低到高",value:"booked_false"},{label:"销量从高到低",value:"booked_true"}],alibabaSortTypeVal:"pop",pictureSearchPlatformId:"2"},flag:!1,start:1,end:5e3,key:"",linkKey:"",linkKeyArr:"",importLinkData:"",mallLinkKey:"",isSelectAll2:[!1,!1],consoleMsg:"",pictureSearchOrigin:[],base64Str:"",TaobaoAbroadAccount:[],TaobaoAbroadAccountId:[],taobaoTimeAt:[],isSelectAllTaobaoAccount:!1,shopeeGoodsDeliveryAddressDic:{MY:"Mainland China",TW:"中國大陸",VN:"Nước ngoài",ID:"Luar Negeri",PH:"Mainland China",TH:"ต่างประเทศ",SG:"Mainland China",BR:"China Continental"},successNum:0,failNum:0,goodsCollectionNum:0,GoodsDeliveryAddress:0,GoodsDeliveryAddressList:[{value:0,label:"不过滤"},{value:1,label:"本土"},{value:2,label:"跨境"}],IsCollectDescriptionIsNull:!1,IsDefaultFilterSkuCount:!0,IsFilterLazadaDeliveryDay:!1,MinLazadaDeliveryDay:0,MaxLazadaDeliveryDay:20,IsFilterShopeeDeliveryDay:!1,MinShoppeDeliveryDay:0,MaxShoppeDeliveryDay:20,IsDeleteRepeatSkuImg:!1,plugVisible:!1,port:"",isEditorVisible:!1,isNoFoldShow:!0,editorSelection:[]}},computed:{keyworBar:function(){return Object(w["b"])(this.baseConfig.keywordConfig)},isShowPdd:function(){var t=[1];return t.includes(this.currentKeywordPlatform)},isShowPage:function(){var t=[1,11,8,10,12,9];return t.includes(this.currentKeywordPlatform)},isShowPageSize20:function(){var t=[1,8];return t.includes(this.currentKeywordPlatform)},isShowPageSize50:function(){var t=[11];return t.includes(this.currentKeywordPlatform)},isShowSales:function(){var t=[1,2,11,8,10,12];return t.includes(this.currentKeywordPlatform)},isShowPrice:function(){var t=[1,2,11,8,10,12,9];return t.includes(this.currentKeywordPlatform)},isShowTaobao:function(){var t=[2];return t.includes(this.currentKeywordPlatform)},isShowShopeeSite:function(){var t=[11];return t.includes(this.currentKeywordPlatform)},isShowLazadaSite:function(){var t=[9];return t.includes(this.currentKeywordPlatform)},isShowKeyTip:function(){var t=[11,9];return t.includes(this.currentKeywordPlatform)},isShowSort:function(){var t=[8];return t.includes(this.currentKeywordPlatform)},isShowCreateAt:function(){var t=[11];return t.includes(this.currentKeywordPlatform)}},watch:{flag:function(t){t&&Object(b["A"])()}},mounted:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.commonAttr.shopeeSite=w["g"],t.commonAttr.lazadaSite=w["d"],t.pictureSearchOrigin=w["e"],a=new Date-0,t.taobaoTimeAt=[a-53568e5,a],t.commonAttr.cacheTime=[a-864e5,a+864e5],t.getShopeeGoodsPlace(),t.getLazadaGoodsPlace(),e.next=10,t.getTaobaoAbroadAccount();case 10:return t.linkKey=localStorage.getItem("linkKey")?localStorage.getItem("linkKey").replaceAll(",","\n"):"",window.addEventListener("storage",(function(e){t.linkKey=localStorage.getItem("linkKey")?localStorage.getItem("linkKey").replaceAll(",","\n"):""})),e.next=14,t.getPluginPorts();case 14:return e.next=16,t.getPluginData();case 16:case"end":return e.stop()}}),e)})))()},methods:{getPluginData:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:try{t.$IpcMain.on("pddGoodsKeyword",function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.collectName="插件采集数据",e.next=3,t.CollectPublicApInstance.pddGoodsKeyword(a);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.$IpcMain.on("pddGoodsDetail",function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.collectName="插件采集数据",e.next=3,t.CollectPublicApInstance.pddGoodsDetail(a);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.$IpcMain.on("tbGoodsKeyword",function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.collectName="插件采集数据",e.next=3,t.CollectPublicApInstance.tbGoodsKeyword(a);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.$IpcMain.on("tbGoodsDetail",function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.collectName="插件采集数据",e.next=3,t.CollectPublicApInstance.tbGoodsDetail(a);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}catch(a){}case 1:case"end":return e.stop()}}),e)})))()},getPluginPorts:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$BaseUtilService.getPluginPorts();case 3:t.port=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),t.$message.error("获取插件路径异常".concat(e.t0));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))()},clearTranslate:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,i,n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,!((null===(a=t.cacheTime)||void 0===a?void 0:a.length)>0)){e.next=3;break}return e.abrupt("return",t.$message.error("请选择时间"));case 3:return i=t.$dayjs(t.commonAttr.cacheTime[0]).format("YYYY-MM-DD 00:00:00"),n=t.$dayjs(t.commonAttr.cacheTime[1]).format("YYYY-MM-DD 00:00:00"),e.next=7,t.$BaseUtilService.clearGoodsTranslateInfo(i,n);case 7:if(o=e.sent,0===Object.keys(JSON.parse(o)).length){e.next=10;break}return e.abrupt("return",t.$message.success("清理翻译数据失败"));case 10:t.$message.success("清理翻译数据成功"),e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](0),t.$message.success("清理翻译数据失败");case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))()},clearCache:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$BaseUtilService.clealAllCache();case 3:if(a=e.sent,a){e.next=6;break}return e.abrupt("return",t.$message.error("清理缓存数据失败"));case 6:t.$message.success("清理缓存数据成功"),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),t.$message.error("清理缓存数据失败");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()},editorUp:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.multipleSelection.length){e.next=2;break}return e.abrupt("return",t.$message.error("请选择需要编辑的数据"));case 2:console.log("multipleSelection",t.multipleSelection),t.editorSelection=[],a=0;case 5:if(!(a<t.multipleSelection.length)){e.next=13;break}if(i=t.multipleSelection[a],t.editorSelection.push(Object.assign(i,{title:i.Title,image:i.Image,price:i.Price,stock:i.Stock,goods_id:i.GoodsId,source:i.Platform})),!(a>=Number(t.end)-1)){e.next=10;break}return e.abrupt("break",13);case 10:a++,e.next=5;break;case 13:console.log(t.editorSelection),t.isEditorVisible=!0;case 15:case"end":return e.stop()}}),e)})))()},setIsNoFoldShow:function(){this.isNoFoldShow=!this.isNoFoldShow,this.$refs.editor_on_new_goods.setIsNoFoldShow()},getShopeeGoodsPlace:function(){this.commonAttr.shopeePlaceVal="-1,-2",this.commonAttr.shopeePlaceOrigin=Object(w["c"])(this.commonAttr.shopeeSiteCode)},getLazadaGoodsPlace:function(){this.isSelectAll2[0]=!1,this.isSelectAll2[1]=!1,this.commonAttr.lazadaPlaceVal0=[],this.commonAttr.lazadaPlaceVal1=[],this.commonAttr.lazadaPlaceOrigin=Object(w["a"])(this.commonAttr.lazadaSiteCode)},handleClick:function(t,e){},handleSelectionChange:function(t){this.multipleSelection=t},switchPlatform:function(t){this.currentKeywordPlatform=t.value},isCollection:function(){var t=this;this.goodsList.length>0?this.$confirm("确定重新采集？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.StartCollection()})):this.StartCollection()},StartCollection:function(){switch(this.flag=!1,this.activeName){case"keyPage":this["keywordSearch"]();break;case"linkPage":this["linksSearch"](1);break;case"entriresShopPage":this["entriresShopSearch"]();break;case"picToPicPage":this["picToPicSearch"]();break;case"taobaoAbroadPage":this["taobaoAbroadSearch"]();break;default:this.$message.error("采集操作非法！！！！");break}},keywordSearch:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,i,n,o,r,s,l,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.CollectKeyWordApInstance.handleKeyFactory(t.key),200===a.code){e.next=3;break}return e.abrupt("return",t.$message.error(a.data));case 3:i=a.data,n=a.data.length,o=t.currentKeywordPlatform,t.buttonStatus.start=!0,t.consoleMsg="",t.goodsList=[],t.commonAttr.wordLimit=""===t.commonAttr.wordLimit?10:t.commonAttr.wordLimit,t.CollectKeyWordApInstance._initKeyWord(o,t.commonAttr),t.writeLog("开始采集搜索........",!0),t.writeLog("开始采集".concat(w["f"][o],"商品......."),!0),t.collectName="".concat(w["f"][o],"关键词采集数据"),r=[],s=0;case 16:if(!(s<n)){e.next=36;break}if(!t.flag){e.next=22;break}return t.buttonStatus.start=!1,t.flag=!1,t.writeLog("取消".concat(w["f"][o],"商品采集"),!0),e.abrupt("break",36);case 22:if(l=i[s],!r.includes(l)){e.next=26;break}return t.writeLog("重复关键词".concat(l),!1),e.abrupt("continue",33);case 26:return r.push(l),c=[],e.next=30,t.CollectKeyWordApInstance.keywordSearch(l,c);case 30:if(1!==o){e.next=33;break}return e.next=33,t.CollectKeyWordApInstance.keywordSearchTwo(l);case 33:s++,e.next=16;break;case 36:t.goodsList.forEach((function(e){t.$refs.plTable.toggleRowSelection([{row:e}])})),t.writeLog("".concat(w["f"][o],"：共采集：").concat(t.goodsList.length,"条"),!0),t.writeLog("".concat(w["f"][o],"商品采集完毕........"),!0),i=null,t.buttonStatus.start=!1,t.flag=!1;case 42:case"end":return e.stop()}}),e)})))()},linksSearch:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(i="",e.consoleMsg="",i=1===t?e.collectLinkApInstance.handleLinkKeyFactory(e.linkKey,t):e.collectLinkApInstance.handleLinkKeyFactory(e.linkKeyArr,t),200===i.code){a.next=5;break}return a.abrupt("return",e.$message.error(i.data));case 5:if(e.goodsList=[],n=i.data,!(n.length>0)){a.next=21;break}return e.buttonStatus.start=!0,e.writeLog("开始商品链接采集搜索........",!0),e.collectName="商品链接采集数据",n.forEach((function(e){e.type=t})),a.next=14,Object(b["d"])(n,e.linkCollect);case 14:e.flag&&e.writeLog("取消链接采集",!0),e.goodsList.forEach((function(t){e.$refs.plTable.toggleRowSelection([{row:t}])})),console.log(e.goodsList),e.writeLog("商品链接：共采集：".concat(e.goodsList.length,"条"),!0),e.writeLog("商品链接采集完毕........",!0),e.buttonStatus.start=!1,e.flag=!1;case 21:case"end":return a.stop()}}),a)})))()},linkCollect:function(t){var e=arguments,a=this;return Object(s["a"])(regeneratorRuntime.mark((function i(){var n,o,r,s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(n=e.length>1&&void 0!==e[1]?e[1]:{count:1},i.prev=1,!a.flag){i.next=5;break}return Object(b["A"])(),i.abrupt("return");case 5:return console.log("getGoodsDeail - param",t),i.next=8,a.collectLinkApInstance.getGoodsDeail(t);case 8:o=i.sent,console.log("getGoodsDeail",o),200!==o.code?a.writeLog("商品ID: ".concat(t.GoodsId," 采集失败: ").concat(o.data),!1):(r={},s=o.data.ListItem[0],r.Image=s.Image,r.GoodsId=s.GoodsId,r.Title=s.Title,r.CategoryName=s.CategoryName,r.Price=s.Price,r.Sales=s.Sales,r.Origin=s.Origin,r.isDetail=!0,r.Platform=t.platformId,r.Url=t.Url,r.Site=t.Site||null,r.ShopId=t.ShopId||null,2===t.type&&(r.isLink=!0,r.Weight=t.Weight||0,r.Length=t.Length||0,r.Width=t.Width||0,r.Height=t.Height||0),a.writeLog("商品ID: ".concat(t.GoodsId,"采集成功")),a.goodsList.push(r),console.log("linkData",a.goodsList)),i.next=17;break;case 13:i.prev=13,i.t0=i["catch"](1),console.log(i.t0),a.writeLog("商品ID: ".concat(t.GoodsId," 异常"),!1);case 17:return i.prev=17,--n.count,i.finish(17);case 20:case"end":return i.stop()}}),i,null,[[1,13,17,20]])})))()},entriresShopSearch:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,i,n,o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.collectEntireApInstance.handleEntireKeyFactory(t.mallLinkKey),200===a.code){e.next=3;break}return e.abrupt("return",t.$message.error(a.data));case 3:t.buttonStatus.start=!0,t.consoleMsg="",t.goodsList=[],t.writeLog("开始整店链接采集搜索........",!0),t.collectName="整店采集数据",i=a.data,n=Object(r["a"])(i),e.prev=10,n.s();case 12:if((o=n.n()).done){e.next=21;break}if(s=o.value,!t.flag){e.next=16;break}return e.abrupt("return");case 16:return t.writeLog("开始获取【".concat(s,"】"),!0),e.next=19,t.collectEntireApInstance.mallSearch(s);case 19:e.next=12;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e["catch"](10),n.e(e.t0);case 26:return e.prev=26,n.f(),e.finish(26);case 29:t.flag&&t.writeLog("取消整店采集",!0),t.goodsList.forEach((function(e){t.$refs.plTable.toggleRowSelection([{row:e}])})),t.writeLog("整店链接：共采集：".concat(t.goodsList.length,"条"),!0),t.writeLog("整店链接采集完毕........",!0),t.buttonStatus.start=!1,t.flag=!1;case 35:case"end":return e.stop()}}),e,null,[[10,23,26,29]])})))()},picToPicSearch:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,i,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.base64Str){e.next=2;break}return e.abrupt("return",t.$message.error("请上传图片"));case 2:return t.buttonStatus.start=!0,t.consoleMsg="",t.goodsList=[],a="8"===t.commonAttr.pictureSearchPlatformId?"1688":"淘宝",t.writeLog("开始 ".concat(a," 图搜采集搜索........"),!0),t.collectName="图搜采集数据",i={ImageBase64:t.base64Str},"8"===t.commonAttr.pictureSearchPlatformId&&(i["Page"]=1),e.next=12,t.collectOtherApInstance.picSearch(t.commonAttr.pictureSearchPlatformId,i);case 12:n=e.sent,200!==n.code?t.writeLog("图搜采集: 采集失败: ".concat(n.data),!1):(t.writeLog("图搜采集: 采集成功",!0),(r=t.goodsList).push.apply(r,Object(o["a"])(n.data))),t.goodsList.forEach((function(e){t.$refs.plTable.toggleRowSelection([{row:e}])})),t.writeLog("图搜：共采集：".concat(t.goodsList.length,"条"),!0),t.writeLog("".concat(a," 图搜采集完毕........"),!0),t.buttonStatus.start=!1,t.flag=!1;case 19:case"end":return e.stop()}}),e)})))()},getTaobaoAbroadAccount:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.collectOtherApInstance.getTaobaoAbroadAccount();case 2:if(a=e.sent,console.log("getTaobaoAbroadAccount",a),200===a.code){e.next=6;break}return e.abrupt("return",t.$message.error("获取淘宝天猫海外账号失败：".concat(a.code," ").concat(a.data)));case 6:t.TaobaoAbroadAccount=a.data;case 7:case"end":return e.stop()}}),e)})))()},taobaoAbroadSearch:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!==t.TaobaoAbroadAccountId.length){e.next=2;break}return e.abrupt("return",t.$message.error("请选择账号"));case 2:t.buttonStatus.start=!0,t.consoleMsg="",t.goodsList=[],t.writeLog("开始 淘宝天猫海外 采集搜索........",!0),t.collectName="淘宝天猫海外采集数据",a=regeneratorRuntime.mark((function e(a){var i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.flag){e.next=3;break}return t.writeLog("取消淘宝天猫海外采集",!0),e.abrupt("return","break");case 3:return i=t.TaobaoAbroadAccountId[a],n=t.TaobaoAbroadAccount.find((function(t){return t.id===i})),e.next=7,t.collectOtherApInstance.queryTmCrossBorder(n,t.taobaoTimeAt);case 7:case"end":return e.stop()}}),e)})),i=0;case 9:if(!(i<t.TaobaoAbroadAccountId.length)){e.next=17;break}return e.delegateYield(a(i),"t0",11);case 11:if(n=e.t0,"break"!==n){e.next=14;break}return e.abrupt("break",17);case 14:i++,e.next=9;break;case 17:console.log("taobaoData",t.goodsList),t.goodsList.forEach((function(e){t.$refs.plTable.toggleRowSelection([{row:e}])})),t.writeLog("淘宝天猫海外：共采集：".concat(t.goodsList.length,"条"),!0),t.writeLog("淘宝天猫海外采集完毕........",!0),t.buttonStatus.start=!1,t.flag=!1;case 23:case"end":return e.stop()}}),e)})))()},saveGoodsInfo:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!==t.multipleSelection.length){e.next=3;break}return t.$message.error("请选择商品"),e.abrupt("return");case 3:return t.buttonStatus.start=!0,t.successNum=0,t.failNum=0,t.multipleSelection=t.isEditorVisible?t.multipleSelection.splice(Number(t.start)-1,Number(t.end)-Number(t.start)+1):t.multipleSelection,t.goodsCollectionNum=t.multipleSelection.length,e.next=10,Object(b["d"])(t.multipleSelection,t.saveGoods);case 10:t.buttonStatus.start=!1,t.flag=!1;case 12:case"end":return e.stop()}}),e)})))()},saveGoods:function(t){var e=arguments,a=this;return Object(s["a"])(regeneratorRuntime.mark((function i(){var n,o,r,s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return n=e.length>1&&void 0!==e[1]?e[1]:{count:1},o=null,i.prev=2,a.StatusName(t,"正在获取商品详情",!0),i.next=6,a.collectLinkApInstance.getGoodsDeail(t);case 6:if(r=i.sent,200===r.code){i.next=13;break}return a.StatusName(t,"获取商品详情失败：".concat(r.data),!1),a.failNum++,i.abrupt("return");case 13:return console.log("详情数据",r.data),i.next=16,a.CollectPublicApInstance.setGoodsData(t,r.data);case 16:o=i.sent,console.log("CollectPublicApInstance",o),200===o.code?(o.data.operation_type="收藏成功",a.StatusName(t,"收藏成功",!0),a.successNum++,a.$nextTick((function(){a.$refs.plTable.toggleRowSelection([{row:t,selected:!1}])}))):(s="",s=o.msg?o.msg:"收藏失败："+o.data,a.StatusName(t,"".concat(s),!1),a.failNum++);case 19:i.next=27;break;case 21:i.prev=21,i.t0=i["catch"](2),o.msg?i.t0=o.msg:i.t0="收藏失败："+o.data,a.StatusName(t,"".concat(i.t0),!1),a.failNum++,console.log(i.t0);case 27:return i.prev=27,--n.count,i.finish(27);case 30:case"end":return i.stop()}}),i,null,[[2,21,27,30]])})))()},closeEditor:function(){Object(b["A"])()},writeLog:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(void 0!==this.consoleMsg&&t){var a=e?"green":"red",i=Object(b["h"])(new Date(Date.now()),"hh:mm:ss");this.consoleMsg+='<p style="color:'.concat(a,'; margin-top: 5px;">').concat(i,":").concat(t,"</p>")}},imgSaveToUrl:function(t,e){this.base64Str=null;var a=new FileReader;a.readAsDataURL(e.raw);var i=this;a.onload=function(){i.base64Str=a.result}},StatusName:function(t,e,a){this.$set(t,"StatusName",e),this.$set(t,"color",a?"green":"red")},filterData:function(t){var e=this;console.log("data",t);for(var a=[],i=function(i){var n,o=t[i],r=e.goodsList.find((function(t){return t.GoodsId===o.GoodsId}));if(r)return"continue";if(o.Sales=Number(o.Sales),o.Price=Number(o.Price),e.isShowSales&&o.Sales<Number(e.commonAttr.StartSales))return"continue";if(e.isShowSales&&o.Sales>Number(e.commonAttr.EndSales))return"continue";if(e.isShowPrice&&o.Price<Number(e.commonAttr.StartPrice))return"continue";if(e.isShowPrice&&o.Price>Number(e.commonAttr.EndPrice))return"continue";if(e.commonAttr.keyFilter){var s=e.CollectPublicApInstance.handleKey(e.commonAttr.keyFilter),l=e.CollectPublicApInstance.filterLinkKeyWord(o.Title,s);if(o.keyWord=l,""!==o.keyWord)return"continue"}if(e.isShowCreateAt&&(null===(n=e.commonAttr.value2)||void 0===n?void 0:n.length)>0){var c=e.commonAttr.value2[0].getTime(),u=e.commonAttr.value2[1].getTime(),d=1e3*o.CreateTime;if(d<c||d>u)return"continue"}if(e.isShowShopeeSite&&!0===o.IsOfficialShop)return"continue";a.push(o)},n=0;n<t.length;n++)i(n);if(this.isShowTaobao||this.isShowShopeeSite)switch(this.commonAttr.shopeeSortTypeVal){case"price,asc":a.sort((function(t,e){return t.Price-e.Price}));break;case"price,desc":a.sort((function(t,e){return e.Price-t.Price}));break;case"sales,asc":a.sort((function(t,e){return t.Sales-e.Sales}));break;case"sales,desc":a.sort((function(t,e){return e.Sales-t.Sales}));break}if(this.isShowSort)switch(this.commonAttr.alibabaSortTypeVal){case"pop":break;case"price_fale":a.sort((function(t,e){return t.Price-e.Price}));break;case"price_true":a.sort((function(t,e){return e.Price-t.Price}));break;case"booked_false":a.sort((function(t,e){return t.Sales-e.Sales}));break;case"booked_true":a.sort((function(t,e){return e.Sales-t.Sales}));break}return console.log("fData",a),a},copy:function(t){var e=document.createElement("div");e.id="tempTarget",e.style.opacity="0",e.innerText=t,document.body.appendChild(e);try{var a=document.createRange();a.selectNode(e),window.getSelection().removeAllRanges(),window.getSelection().addRange(a),document.execCommand("copy"),window.getSelection().removeAllRanges(),this.$message.success("复制成功")}catch(i){}e.parentElement.removeChild(e)},tableDelete:function(t,e){this.$refs.plTable.toggleRowSelection([{row:t,selected:!1}]),this.goodsList.splice(e,1)},batchTableDelete:function(t,e){var a=this;if(!e.length)return this.$message.error("请选择要删除的选项");e.map((function(t){return t.__ob__.dep.id})).forEach((function(e){t.splice(t.findIndex((function(t){return t.__ob__.dep.id===e})),1)})),e.forEach((function(t){a.$refs.plTable.toggleRowSelection([{row:t,selected:!1}])}))},deleteAll:function(){var t=this;this.$confirm("确定清理全部吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.goodsList=[],t.$refs.plTable.reloadData(t.goodsList)}))},exportTableData:function(){var t;if(null===(t=this.goodsList)||void 0===t||!t.length)return this.$message("暂无数据导出");var e="<tr>\n          <td>商品ID</td>\n          <td>商品来源</td>\n          <td>商品链接</td>\n          <td>商品标题</td>\n          <td>图片链接</td>\n          <td>类目</td>\n          <td>价格</td>\n          <td>销量</td>\n          <td>发货地</td>\n        </td>";this.goodsList.forEach((function(t){e+="<tr>\n        <td style=\"mso-number-format:'@';\">".concat(t.GoodsId?t.GoodsId:"\t","</td>\n        <td>").concat(t.Origin?t.Origin:"\t","</td>\n        <td>").concat(t.Url?t.Url:"\t","</td>\n        <td>").concat(t.Title?t.Title:"\t","</td>\n        <td>").concat(t.Image?t.Image:"\t","</td>\n        <td>").concat(t.CategoryName?t.CategoryName:"\t","</td>\n        <td>").concat(t.Price?t.Price:"\t","</td>\n        <td>").concat(t.Sales?t.Sales:"\t","</td>\n        <td>").concat(t.Location?t.Location:"\t","</td>\n        </tr>")})),Object(b["k"])(this.collectName,e)},linkImport:function(){var t=this.importLinkData.length;if(this.linkKeyArr=[],t<=0)this.writeLog("表格数据为空",!1);else{this.writeLog("开始读取表格...",!0);for(var e=0;e<t;e++){var a=this.importLinkData[e],i={};i["Url"]=a["商品链接"],i["Weight"]=a["重量(kg)"],i["Length"]=a["长(cm)"],i["Width"]=a["宽(cm)"],i["Height"]=a["高(cm)"],i["Url"]&&this.linkKeyArr.push(i)}this.linksSearch(2)}},downloadTemplate:function(){var t='<tr>\n      <td style="width: 600px">商品链接</td>\n      <td style="width: 100px">重量(kg)</td>\n      <td style="width: 100px">长(cm)</td>\n      <td style="width: 100px">宽(cm)</td>\n      <td style="width: 100px">高(cm)</td>\n      </tr>';Object(b["k"])("商品链接采集模板",t)},importTemplate:function(t){var e=this,a={0:t.raw};if(/\.(xls|xlsx)$/.test(a[0].name.toLowerCase())){var i=new FileReader;i.onload=function(t){var a=t.target.result,i=x.a.read(a,{type:"binary"}),n=i.SheetNames[0],o=x.a.utils.sheet_to_json(i.Sheets[n]);e.importLinkData=o,e.linkImport(),o=null,e.$refs.importRef.value=""},i.readAsBinaryString(a[0])}else this.writeLog("格式错误,请上传xls、xlsx格式的文件",!1)},openUrl:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:console.log("url",t),t&&e.$BaseUtilService.openUrl(t);case 2:case"end":return a.stop()}}),a)})))()},close:function(t){t&&(this[t]=!1)},selectAll:function(t,e,a){var i=this;1===a?this[t].length<e.length?(this[t]=[],e.map((function(e){i[t].push(e.id)}))):this[t]=[]:this.commonAttr[t].length<e.length?(this.commonAttr[t]=[],e.map((function(e){i.commonAttr[t].push(e.value)}))):this.commonAttr[t]=[]},changeSelect:function(t,e,a){1===a&&(t.includes(0)||t.length!==this[e].length)&&(t.includes(0)&&t.length-1<this[e].length?this[e]=this[e].filter((function(t){return 0!==t})):(t.includes(0)||t.length!==this.commonAttr[e].length)&&t.includes(0)&&t.length-1<this.commonAttr[e].length&&(this.commonAttr[e]=this.commonAttr[e].filter((function(t){return 0!==t}))))},accountPermissions:function(){var t=this;return Object(b["c"])(3,(function(){t.$message.error("个人版不支持插件采集，请购买或升级进阶、企业、终生版！")}))}}},A=_,C=(a("4683"),a("b5f4"),a("2877")),P=Object(C["a"])(A,i,n,!1,null,"07880786",null);e["default"]=P.exports},"53ca":function(t,e,a){"use strict";a.d(e,"a",(function(){return i}));a("a4d3"),a("e01a"),a("d3b7"),a("d28b"),a("3ca3"),a("ddb0");function i(t){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}},a103:function(t,e,a){},b5f4:function(t,e,a){"use strict";a("e687")},e687:function(t,e,a){}}]);