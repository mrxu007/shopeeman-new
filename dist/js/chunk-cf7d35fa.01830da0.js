(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cf7d35fa"],{"4c28":function(e,t,a){},"4efd":function(e,t,a){"use strict";a("dd88")},"78d0":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],staticClass:"workbench"},[a("div",{staticClass:"top-box"},[a("div",{staticClass:"operate"},[a("div",{staticClass:"title"},[e._v("基础操作")]),a("div",{staticClass:"line"}),a("div",{staticClass:"btn-items"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.markOrderNeedDeal}},[e._v("标记需仓库紧急处理")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.setNoWait}},[e._v("标记无需等待子包裹")])],1),a("div",{staticClass:"btn-items"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.trackingNumberChangeOrderFun}},[e._v("采购物流单号变更")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.noticeTodeliver(2)}}},[e._v("通知仓库暂停发货")])],1),a("div",{staticClass:"btn-items"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.noticeTodeliver(1)}}},[e._v("通知仓库发货")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.setColorLabelFun}},[e._v("批量标记颜色标识")])],1),a("div",{staticClass:"btn-items"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.compareDataVisible()}}},[e._v("批量推送订单至仓库")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.extService_visible}},[e._v("批量添加增值服务")])],1),a("div",{staticClass:"btn-items"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.getPackage()}}},[e._v("获取面单信息")])],1)]),a("div",{staticClass:"search-list"},[a("div",{staticClass:"title"},[e._v("列表筛选操作")]),a("div",{staticClass:"line"}),a("div",{staticClass:"form-items"},[a("div",{staticClass:"select-item"},[a("storeChoose",{on:{change:e.setMallId}})],1),a("div",{staticClass:"select-item"},[a("span",{staticClass:"search-title"},[e._v("订单创建时间：")]),a("el-date-picker",{staticStyle:{width:"195px"},attrs:{size:"mini","value-format":"yyyy-MM-dd",type:"daterange","range-separator":"-","picker-options":e.pickerOptions,"start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.createdTime,callback:function(t){e.createdTime=t},expression:"createdTime"}})],1)]),a("div",{staticClass:"form-items"},[a("div",{staticClass:"select-item"},[a("span",{staticClass:"search-title"},[e._v("订单发货状态：")]),a("el-select",{staticStyle:{width:"120px"},attrs:{size:"mini",clearable:"",placeholder:"全部"},model:{value:e.deliveryStatus,callback:function(t){e.deliveryStatus=t},expression:"deliveryStatus"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._l(e.deliverStateList,(function(e){return a("el-option",{key:e.deliveryStatus,attrs:{label:e.label,value:e.deliveryStatus}})}))],2)],1),a("div",{staticClass:"select-item"},[a("span",{staticClass:"search-title"},[e._v("包裹异常类型：")]),a("el-select",{staticStyle:{width:"120px"},attrs:{size:"mini",clearable:"",placeholder:"全部"},model:{value:e.exceptionType,callback:function(t){e.exceptionType=t},expression:"exceptionType"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._l(e.abnormalTypeList,(function(e){return a("el-option",{key:e.exception_type,attrs:{label:e.label,value:e.exception_type}})}))],2)],1),a("div",{staticClass:"select-item"},[a("span",{staticClass:"search-title"},[e._v("包裹入库时间：")]),a("el-date-picker",{staticStyle:{width:"195px"},attrs:{size:"mini","value-format":"yyyy-MM-dd",type:"daterange","range-separator":"-","picker-options":e.pickerOptions,"start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.storageTime,callback:function(t){e.storageTime=t},expression:"storageTime"}})],1)]),a("div",{staticClass:"form-items"},[a("div",{staticClass:"select-item"},[a("span",{staticClass:"search-title"},[e._v("订单编号：")]),a("el-input",{staticStyle:{width:"180px"},attrs:{size:"mini",clearable:""},model:{value:e.packageOrderSn,callback:function(t){e.packageOrderSn=t},expression:"packageOrderSn"}}),a("span",{staticClass:"search-title",staticStyle:{"margin-left":"8px"}},[e._v("采购物流单号：")]),a("el-input",{staticStyle:{width:"180px"},attrs:{size:"mini",clearable:""},model:{value:e.statuoriginalTrackingNumbers,callback:function(t){e.statuoriginalTrackingNumbers=t},expression:"statuoriginalTrackingNumbers"}})],1),a("div",{staticClass:"select-item"},[a("span",{staticClass:"search-title"},[e._v("包裹出库时间：")]),a("el-date-picker",{staticStyle:{width:"195px"},attrs:{size:"mini","value-format":"yyyy-MM-dd",type:"daterange","range-separator":"-","picker-options":e.pickerOptions,"start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.outboundTime,callback:function(t){e.outboundTime=t},expression:"outboundTime"}})],1),a("div",{staticClass:"select-item"},[a("el-button",{staticClass:"m-80",staticStyle:{"margin-left":"4px"},attrs:{type:"primary",size:"mini",loading:e.orderPackageLoading},on:{click:e.orderPackage}},[e._v("搜索")]),e.isExport?a("el-progress",{staticStyle:{width:"160px",display:"inline-block","margin-left":"10px"},attrs:{"text-inside":!0,"stroke-width":26,percentage:(100*e.exportNum/e.total).toFixed(2)-0}}):a("el-button",{staticClass:"m-80",attrs:{type:"primary",size:"mini"},on:{click:e.tableToExcel}},[e._v("导出数据")]),a("el-button",{staticClass:"m-80",staticStyle:{width:"120px"},attrs:{type:"primary",size:"mini"},on:{click:e.remarkFun}},[e._v("批量更新用户备注")])],1)])])]),a("div",{staticClass:"table-box"},[a("el-table",{ref:"workbenchTable",staticStyle:{width:"100%"},attrs:{height:"calc(100vh - 350px)",data:e.tableData,"tooltip-effect":"dark","header-cell-style":{textAlign:"center",backgroundColor:"#f5f7fa"},"cell-style":{textAlign:"center"},"row-style":{height:"80px"}},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"40",fixed:""}}),a("el-table-column",{attrs:{label:"序号",width:"40",fixed:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.$index+1+(e.currentPage-1)*e.pageSize)+" ")]}}])}),a("el-table-column",{attrs:{label:"店铺名称",width:"120",prop:"mall_alias_name",fixed:""}}),a("el-table-column",{attrs:{label:"站点",width:"80",prop:"country"}}),a("el-table-column",{attrs:{label:"仓库",width:"80",prop:"warehouse_name"}}),a("el-table-column",{attrs:{label:"颜色标识",width:"100",prop:"colorText"}}),a("el-table-column",{attrs:{label:"订单编号",width:"180",prop:"package_order_sn"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.package_order_sn)+" "),a("span",{staticClass:"copyIcon",on:{click:function(a){return e.copy(t.row.package_order_sn)}}},[a("i",{staticClass:"el-icon-document-copy"})])])]}}])}),a("el-table-column",{attrs:{label:"数量",width:"60",prop:"goodsCount"}}),a("el-table-column",{attrs:{label:"商品详情",width:"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.getGoodsInfo(t.row.package_order_sn)}}},[e._v("查看签收详情")])],1)]}}])}),a("el-table-column",{attrs:{label:"包裹重量",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",[e._v(e._s(t.row.package_weight)+"g")])]}}])}),a("el-table-column",{attrs:{label:"等待子包裹发货",width:"120",prop:"statusText"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"goods-detail"},[e._v(" "+e._s(t.row.is_mark_outbound>0?"否":"是")+" ")])]}}])}),a("el-table-column",{attrs:{label:"订单发货状态",width:"100",prop:"statusText"}}),a("el-table-column",{attrs:{label:"异常类型",width:"100",prop:"exceptionText"}}),a("el-table-column",{attrs:{label:"订单创建时间",width:"150",prop:"order_created_time"}}),a("el-table-column",{attrs:{label:"订单平台状态",width:"110",prop:"orderStatusText"}}),a("el-table-column",{attrs:{label:"截止发货时间",width:"150",prop:"latest_ship_date"}}),a("el-table-column",{attrs:{label:"入库时间",width:"150",prop:"storage_time"}}),a("el-table-column",{attrs:{label:"出库时间",width:"150",prop:"outbound_time"}}),a("el-table-column",{attrs:{label:"入库图片",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.storage_image?a("el-tooltip",{staticStyle:{width:"56px",height:"56px"},attrs:{effect:"light",placement:"right-end","visible-arrow":!1,enterable:!1}},[a("div",{attrs:{slot:"content"},slot:"content"},[a("img",{attrs:{src:t.row.storage_image,width:"400px",height:"400px"}})]),a("el-image",{staticStyle:{"border-radius":"4px",margin:"0 auto"},attrs:{src:t.row.storage_image,alt:"",width:"56px",height:"56px"}})],1):e._e()]}}])}),a("el-table-column",{attrs:{label:"出库图片",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.outbound_image?a("el-tooltip",{staticStyle:{width:"56px",height:"56px"},attrs:{effect:"light",placement:"right-end","visible-arrow":!1,enterable:!1}},[a("div",{attrs:{slot:"content"},slot:"content"},[a("img",{attrs:{src:t.row.outbound_image,width:"400px",height:"400px"}})]),a("el-image",{staticStyle:{"border-radius":"4px",margin:"0 auto"},attrs:{src:t.row.outbound_image,alt:"",width:"56px",height:"56px"}})],1):e._e()]}}])}),a("el-table-column",{attrs:{"min-width":"240px",align:"left",label:"备注"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",{staticStyle:{"text-align":"left"}},[e._v("仓库备注："+e._s(t.row.ext_service&&t.row.ext_service.remark))]),a("p",{staticStyle:{"text-align":"left"}},[e._v(" 用户备注： "),a("span",{directives:[{name:"show",rawName:"v-show",value:!(t.row.id===e.activeRemarkID),expression:"!(scope.row.id === activeRemarkID ? true : false)"}]},[e._v(e._s(t.row.user_remark))]),t.row.id===e.activeRemarkID?a("el-input",{directives:[{name:"focus",rawName:"v-focus"}],staticStyle:{width:"120px"},attrs:{placeholder:"请输入备注内容",size:"mini"},on:{blur:function(a){return e.changeRemark(t.row.package_order_sn,t.$index)}},model:{value:e.orderRemark,callback:function(t){e.orderRemark=t},expression:"orderRemark"}}):e._e(),a("i",{staticClass:"el-icon-edit-outline",staticStyle:{cursor:"pointer"},on:{click:function(a){return e.editRemark(t.$index,t.row.id)}}})],1)]}}])})],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"","current-page":e.currentPage,"page-size":e.pageSize,layout:"total,sizes, prev, pager, next, jumper",total:e.total,"page-sizes":[20,50,100,200]},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),a("el-dialog",{staticClass:"dialog-order",attrs:{title:"批量更新用户备注",width:"400px",top:"6vh","close-on-press-escape":!1,"close-on-click-modal":!1,visible:e.remarkVisible},on:{"update:visible":function(t){e.remarkVisible=t},closed:e.closeDialog5}},[a("div",{staticClass:"order-dialog"},[a("div",{staticClass:"form-item"},[a("el-input",{attrs:{size:"mini",clearable:"",placeholder:"请输入备注"},model:{value:e.newRemark,callback:function(t){e.newRemark=t},expression:"newRemark"}}),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.remarkServe}},[e._v("提交")])],1)])]),a("el-dialog",{staticClass:"dialog-order",attrs:{title:"采购物流单号变更",width:"400px",top:"6vh","close-on-press-escape":!1,"close-on-click-modal":!1,visible:e.orderVisible},on:{"update:visible":function(t){e.orderVisible=t},closed:e.closeDialog1}},[a("div",{staticClass:"order-dialog"},[a("div",{staticClass:"form-item"},[a("el-input",{attrs:{size:"mini",clearable:"",placeholder:"请输入新的单号"},model:{value:e.newOrderSn,callback:function(t){e.newOrderSn=t},expression:"newOrderSn"}}),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.trackingNumberChangeOrder}},[e._v("保存")])],1)])]),a("el-dialog",{staticClass:"dialog-color",attrs:{title:"标记颜色标识",width:"400px",top:"6vh","close-on-press-escape":!1,"close-on-click-modal":!1,visible:e.colorVisible},on:{"update:visible":function(t){e.colorVisible=t},closed:e.closeDialog}},[a("div",{staticClass:"color-dialog"},[a("div",{staticClass:"form-item"},[a("span",{staticClass:"search-title"},[e._v("颜色标识：")]),a("el-select",{staticStyle:{width:"150px"},attrs:{size:"mini",clearable:""},model:{value:e.colorLabelId1,callback:function(t){e.colorLabelId1=t},expression:"colorLabelId1"}},e._l(e.colorLogoList,(function(e){return a("el-option",{key:e.id,style:e.color,attrs:{label:e.label,value:e.id}})})),1),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.setColorLabel}},[e._v("保存")])],1)])]),a("el-dialog",{attrs:{title:"包裹数据导出",visible:e.dialogVisible1,width:"380px"},on:{"update:visible":function(t){e.dialogVisible1=t}}},[a("p",{staticStyle:{"font-size":"16px","text-align":"center"}},[e._v("线上即将导出"+e._s(e.multipleSelection.length?e.multipleSelection.length:e.total)+"条仓库包裹数据，是否生成？")]),e.total>65e3?a("p",{staticStyle:{"text-align":"center",color:"red","margin-top":"10px","font-size":"16px"}},[e._v("最多单次导出65000条数据, 请重新选择筛选条件。")]):e._e(),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticStyle:{width:"80px",margin:"0 20px 20px"},attrs:{size:"small"},on:{click:function(t){e.dialogVisible1=!1}}},[e._v("取 消")]),a("el-button",{staticStyle:{width:"80px",margin:"0 55px"},attrs:{size:"small",disabled:e.total>65e3,type:"primary"},on:{click:function(t){e.dialogVisible1=!1,e.exportOrders(1)}}},[e._v("确 定")])],1)]),a("el-dialog",{staticClass:"dialog-delay",attrs:{title:"设置延迟推单时间(小时)",width:"400px",top:"6vh","close-on-press-escape":!1,"close-on-click-modal":!1,visible:e.delayVisible},on:{"update:visible":function(t){e.delayVisible=t},closed:e.closeDialog2}},[a("div",{staticClass:"delay-dialog"},[a("div",{staticClass:"form-item"},[a("el-input",{attrs:{size:"mini",clearable:"",placeholder:"不超过24小时"},model:{value:e.delayTime,callback:function(t){e.delayTime=t},expression:"delayTime"}}),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.timeDelay}},[e._v("保存")])],1)])]),a("el-dialog",{staticClass:"dialog-order",attrs:{title:"包裹详情",width:"1000px",top:"6vh",visible:e.dialogVisible2},on:{"update:visible":function(t){e.dialogVisible2=t}}},[a("div",[a("el-table",{ref:"workbenchTable",staticStyle:{width:"100%"},attrs:{"max-height":"590px",data:e.goodsList,"tooltip-effect":"dark","header-cell-style":{textAlign:"center",backgroundColor:"#f5f7fa"},"cell-style":{textAlign:"center"},"row-style":{height:"80px"}}},[a("el-table-column",{attrs:{label:"订单编号",width:"180",prop:"order_sn",fixed:""}}),a("el-table-column",{attrs:{label:"商品名称",width:"300",prop:""},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.goods?a("div",{staticClass:"goods-detail"},[e._v(" "+e._s(t.row.goods.goods_name)+" ")]):e._e()]}}])}),a("el-table-column",{attrs:{label:"商品ID",width:"110",prop:"warehouse_name"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.goods?a("div",{staticClass:"goods-detail"},[e._v(" "+e._s(t.row.goods.goods_id)+" ")]):e._e()]}}])}),a("el-table-column",{attrs:{label:"数量",width:"40",prop:"goodsCount"}}),a("el-table-column",{attrs:{label:"拍单订单号",width:"190",prop:"package_order_sn"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.shotOrder?a("div",{staticClass:"goods-detail"},[e._v(" "+e._s(t.row.shotOrder.shot_order_sn)+" ")]):e._e()]}}])}),a("el-table-column",{attrs:{label:"拍单时间",width:"90",prop:"goods_count"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.shotOrder?a("div",{staticClass:"goods-detail"},[e._v(" "+e._s(t.row.shotOrder.shotted_at)+" ")]):e._e()]}}])}),a("el-table-column",{attrs:{label:"物流单号",width:"130",prop:"package_code"}}),a("el-table-column",{attrs:{label:"状态",width:"70"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(" "+e._s((i.package&&Number(i.package.status),"待处理"))+" ")])]}}])}),a("el-table-column",{attrs:{label:"签收时间",width:"90"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.package?a("p",[e._v(e._s(t.row.package.package_time))]):e._e()]}}])}),a("el-table-column",{attrs:{label:"包裹签收图片",width:"90"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.package?a("el-tooltip",{staticStyle:{width:"56px",height:"56px"},attrs:{effect:"light",placement:"right-end","visible-arrow":!1,enterable:!1}},[a("div",{attrs:{slot:"content"},slot:"content"},[a("img",{attrs:{src:t.row.package.package_image,width:"400px",height:"400px"}})]),a("el-image",{staticStyle:{"border-radius":"4px",margin:"0 auto"},attrs:{src:t.row.package.package_image,alt:"",width:"56px",height:"56px"}})],1):e._e()]}}])})],1)],1),a("p",{staticStyle:{"text-align":"center"},attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticStyle:{width:"80px",margin:"0 30px 10px"},attrs:{size:"mini",type:"primary"},on:{click:function(t){e.dialogVisible2=!1}}},[e._v("关 闭")])],1)]),a("el-dialog",{attrs:{title:"添加增值服务",visible:e.dialogExtService,width:"400px"},on:{"update:visible":function(t){e.dialogExtService=t},closed:e.closeDialog4}},[a("div",{staticClass:"exe_itemAll"},[a("div",{staticClass:"exe_item"},[a("span",[e._v(" 增值服务: ")]),a("el-select",{staticStyle:{width:"200px"},attrs:{size:"mini"},model:{value:e.extParams.name,callback:function(t){e.$set(e.extParams,"name",t)},expression:"extParams.name"}},[a("el-option",{attrs:{value:"1",label:"测试"}})],1)],1),a("div",{staticClass:"exe_item"},[a("span",[e._v(" 服务价格: ")]),a("el-input",{staticStyle:{width:"200px"},attrs:{clearable:"",size:"mini",onkeyup:"value=value.replace(/[^\\d]/g,'')"},model:{value:e.extParams.price,callback:function(t){e.$set(e.extParams,"price",t)},expression:"extParams.price"}})],1),a("div",{staticClass:"exe_item"},[a("span",[e._v(" 服务备注: ")]),a("el-input",{staticStyle:{width:"200px"},attrs:{clearable:"",size:"mini",onkeyup:"value=value.replace(/[^\\d]/g,'')"},model:{value:e.extParams.remark,callback:function(t){e.$set(e.extParams,"remark",t)},expression:"extParams.remark"}})],1),a("div",{staticClass:"exe_item"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.extService()}}},[e._v("确 定")])],1)])]),a("el-dialog",{attrs:{title:"同步数据至仓库",visible:e.dialog_compareData,width:"950px"},on:{"update:visible":function(t){e.dialog_compareData=t},closed:e.closeDialog3}},[a("div",{staticClass:"compareData_allItem"},[a("div",{staticClass:"compareData_item"},[a("span",[e._v(" 温馨提示：1：请务必确认订单对应店铺绑定的仓库是否正确 ")]),a("span",[e._v(" 温馨提示：2：若店铺同时绑定了国内仓和海外仓，则通过采购平台区分 (Lazada和Shopeeman默认为海外仓，其余默认国内仓，自有商品无法识别) ")]),a("span",[e._v(" 温馨提示：3：若店铺绑定的自有仓库，请重新绑定仓库，否则无法将数同步至仓库 ，将导致您的商品无法出库！！！ ")])]),a("div",{staticClass:"compareData_item"},[a("el-table",{attrs:{"header-cell-style":{background:"#f7fafa"},data:e.compareDataList,"row-style":{height:"50px"},"max-height":"400"}},[a("el-table-column",{attrs:{prop:"country",label:"站点","min-width":"80px",align:"center"}}),a("el-table-column",{attrs:{prop:"mall_alias_name",label:"店铺名称","min-width":"150px",align:"center"}}),a("el-table-column",{attrs:{prop:"warehouse_name",label:"当前绑定仓库","min-width":"200px",align:"center"}}),a("el-table-column",{attrs:{prop:"",label:"是否可同步","min-width":"100px",align:"center"}},[a("span",[e._v("是")])]),a("el-table-column",{attrs:{prop:"warehouse_num",label:"主订单数","min-width":"100px",align:"center"}})],1)],1),a("div",{staticStyle:{display:"flex","justify-content":"center","margin-top":"10px"}},[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.compareData()}}},[e._v("确 定")])],1)])])],1)},r=[],s=a("2909"),n=a("1da1"),l=(a("96cf"),a("159b"),a("d3b7"),a("25f0"),a("c740"),a("b0c0"),a("a15b"),a("a9e3"),a("99af"),a("fb6a"),a("3ca3"),a("ddb0"),a("2b3d"),a("9861"),a("ac1f"),a("5319"),a("0e0b")),o=[{label:"全部",deliveryStatus:0},{label:"待入库",deliveryStatus:1},{label:"等待包裹",deliveryStatus:2},{label:"紧急入库",deliveryStatus:3},{label:"待出库",deliveryStatus:4},{label:"已出库",deliveryStatus:5},{label:"已完成",deliveryStatus:6},{label:"订单作废",deliveryStatus:7},{label:"暂停发货",deliveryStatus:8},{label:"异常",deliveryStatus:9},{label:"已变更包裹",deliveryStatus:10},{label:"缺件",deliveryStatus:11},{label:"损坏",deliveryStatus:12},{label:"超重",deliveryStatus:13},{label:"缺失面单",deliveryStatus:14},{label:"渠道退件",deliveryStatus:15},{label:"丢件",deliveryStatus:16},{label:"海外退件",deliveryStatus:17},{label:"等待拆件",deliveryStatus:18}],c=[{label:"正常",exception_type:0},{label:"缺件",exception_type:1},{label:"超长超重拦截",exception_type:2},{label:"打印订单失败",exception_type:3},{label:"欠费",exception_type:4}],d=[{label:"等待中",order_status:1},{label:"未发货",order_status:2},{label:"部分发货",order_status:3},{label:"已发货",order_status:4},{label:"已取消",order_status:5},{label:"无法履行",order_status:6},{label:"已发货，未确认发票",order_status:7},{label:"等待可行性",order_status:8}],u=[{label:"已签收",status:1},{label:"已经拒收",status:2},{label:"匹配不到订单包裹",status:3},{label:"包裹已销毁",status:4},{label:"包裹丢件",status:5},{label:"申请退件",status:6},{label:"已退件",status:7},{label:"已匹配订单",status:8},{label:"此包裹为平台物流单号",status:9},{label:"包裹下架",status:10}],p=a("feb6"),m=a("63c1"),g={components:{storeChoose:p["a"]},directives:{focus:{inserted:function(e,t,a){e.querySelector("input").focus()}}},data:function(){return{shopeeConfig:new m["a"],compareDataList:[],dialog_compareData:!1,dialogExtService:!1,extParams:{packageOrderSns:"",name:"",price:"",remark:""},orderPackageLoading:!1,isLoading:!1,tableData:[],multipleSelection:[],currentPage:1,pageSize:20,site:"",total:0,siteList:[{label:"全部",value:""}],shopGroup:[],shopGroupList:[{label:"店铺1",value:"1"},{label:"店铺2",value:"2"}],shopAccount:[],shopAccountList:[],activeRemarkID:0,orderRemark:"",createdTime:[],deliveryStatus:"",deliverStateList:o,exceptionType:"",abnormalTypeList:c,packageStatusList:u,goodsPackageStatusList:["","已签收,未拣货","已拣货","申请退件","已退件","未签收"],statuoriginalTrackingNumbers:"",storageTime:[],packageOrderSn:"",colorLabelId:"",colorLabelId1:"",colorLogoList:[],outboundTime:[],colorVisible:!1,orderVisible:!1,delayVisible:!1,newOrderSn:"",delayTime:"24",exportOrderList:[],dialogVisible1:!1,dialogVisible2:!1,goodsList:[],transportType:["海运","空运","陆运"],packageType:["","普货","敏感货","商检货"],isExport:!1,exportIndex:0,exportNum:0,pickerOptions:{disabledDate:function(e){return e.getTime()>Date.now()}},remarkVisible:!1,newRemark:""}},mounted:function(){this.createdTime=Object(l["f"])(7),this.getInfo(),this.orderPackage()},methods:{remarkFun:function(){this.multipleSelection.length?this.remarkVisible=!0:this.$message.warning("请勾选一条需要操作的数据")},remarkServe:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,i,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!==e.newRemark){t.next=3;break}return e.$notify("","请输入备注","error"),t.abrupt("return");case 3:return e.isLoading=!0,a=[],e.multipleSelection.forEach((function(e){a.push(e.package_order_sn)})),t.prev=6,i={packageOrderSn:a.toString(),remark:e.newRemark},t.next=10,e.$api.setUserRemark(i);case 10:r=t.sent,s=r.data,200===s.code?(e.$notify({title:"批量备注",type:"success",message:"操作成功"}),e.orderPackage()):e.$notify({title:"批量备注",type:"error",message:s.message}),e.closeDialog5(),e.remarkVisible=!1,e.isLoading=!1,t.next=23;break;case 18:t.prev=18,t.t0=t["catch"](6),e.closeDialog5(),e.remarkVisible=!1,e.isLoading=!1;case 23:case"end":return t.stop()}}),t,null,[[6,18]])})))()},closeDialog5:function(){this.newRemark="",this.setSelect(),this.remarkVisible=!1},closeDialog3:function(){this.setSelect(),this.dialog_compareData=!1},compareDataVisible:function(){var e=this;if(!this.multipleSelection.length)return this.$message.warning("请勾选需要操作的数据"),!1;try{this.compareDataList=[],this.multipleSelection.forEach((function(t){t.warehouse_num=1;var a=e.compareDataList.findIndex((function(e){return t.mall_alias_name===e.mall_alias_name&&t.warehouse_name===e.warehouse_name}));-1!==a?e.compareDataList[a].warehouse_num=e.compareDataList[a].warehouse_num+t.warehouse_num:e.compareDataList.push(t)})),this.dialog_compareData=!0}catch(t){}},compareData:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,i,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=[],e.compareDataList.forEach((function(e){a.push({sysOrderId:e.sys_order_id,warehouseUserId:e.warehouse_id})})),i={lists:a},t.next=5,e.$api.uploadWarehouseOrder(i);case 5:r=t.sent,200===r.status?200===r.data.code?e.$notify({title:"同步数据",type:"success",message:"操作成功"}):e.$notify({title:"同步数据",type:"error",message:r.data.message}):e.$message.error("网络走丢~~"),e.closeDialog3();case 8:case"end":return t.stop()}}),t)})))()},getPackage:function(){return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},closeDialog4:function(){this.extParams={packageOrderSns:"",name:"",price:"",remark:""},this.setSelect(),this.dialogExtService=!1},extService_visible:function(){if(!this.multipleSelection.length)return this.$message.warning("请勾选需要操作的数据"),!1;this.dialogExtService=!0},extService:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,i,r,s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!==e.extParams.name&&""!==e.extParams.price){t.next=4;break}e.$notify({type:"error",message:"服务名、价格不能为空"}),t.next=31;break;case 4:return a=[],e.multipleSelection.forEach((function(e){a.push(e.package_order_sn)})),e.extParams.packageOrderSns=a.toString(),i=e.extParams,t.next=10,e.$api.uploadExtService(i);case 10:if(r=t.sent,200!==r.data.code){t.next=15;break}e.$notify({type:"success",message:"操作成功"}),t.next=26;break;case 15:"",s=0;case 17:if(!(s<r.data.data.length)){t.next=25;break}if(n=r.data.data[s],200===n.code){t.next=22;break}return n.message,t.abrupt("break",25);case 22:s++,t.next=17;break;case 25:e.$notify({type:"error",message:r.data.message});case 26:e.extParams={packageOrderSns:"",name:"",price:"",remark:""},e.dialogExtService=!1,e.setSelect(),e.orderPackage(),e.isLoading=!1;case 31:case"end":return t.stop()}}),t)})))()},handleSelectionChange:function(e){this.multipleSelection=e},handleCurrentChange:function(){this.orderPackage()},handleSizeChange:function(e){this.pageSize=e,this.currentPage=1,this.orderPackage()},closeDialog:function(){this.colorLabelId1=this.colorLogoList[0].id||"",this.setSelect(),this.colorVisible=!1},closeDialog1:function(){this.setSelect(),this.orderVisible=!1},closeDialog2:function(){this.delayVisible=!1},getInfo:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:Object(l["e"])().then((function(t){e.colorLogoList=t,e.colorLabelId1=t[0].id})),Object(l["b"])().then((function(t){e.shopAccountList=t}));case 2:case"end":return t.stop()}}),t)})))()},setMallId:function(e){this.shopAccount=e||[]},orderPackage:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,i,r,s,n,u,p;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.orderPackageLoading=!0,e.tableData=[],e.isLoading=!0,a=e.shopAccount.join(","),i={page:e.currentPage,pageSize:e.pageSize,status:"",packageOrderSn:e.packageOrderSn,originalTrackingNumber:e.statuoriginalTrackingNumbers,exceptionType:e.exceptionType,deliveryStatus:e.deliveryStatus,colorLabelId:e.colorLabelId,sysMallIds:a},e.createdTime&&e.createdTime.length&&(i.createdTime=e.setDateFmt(e.createdTime).join("/")),e.storageTime&&e.storageTime.length&&(i.storageTime=e.setDateFmt(e.storageTime).join("/")),e.outboundTime&&e.outboundTime.length&&(i.outboundTime=e.setDateFmt(e.outboundTime).join("/")),t.prev=8,t.next=11,e.$api.orderPackage(i);case 11:if(r=t.sent,s=r.data,200!==s.code){t.next=33;break}e.total=s.data.total,n=s.data.data,u=0;case 17:if(!(u<n.length)){t.next=31;break}if(p=n[u],""===e.site||p.country===e.site){t.next=21;break}return t.abrupt("continue",28);case 21:p.mall_alias_name=Object(l["m"])(e.shopAccountList,"label","id",p.sys_mall_id),p.statusText=Object(l["m"])(o,"label","deliveryStatus",p.delivery_status),p.exceptionText=Object(l["m"])(c,"label","exception_type",p.exception_type),p.orderStatusText=Object(l["m"])(d,"label","order_status",p.order_status),p.colorText=Object(l["m"])(e.colorLogoList,"label","id",p.color_id)||"无",p.country=e.shopeeConfig.getSiteCode(p.country),e.tableData.push(p);case 28:u++,t.next=17;break;case 31:t.next=34;break;case 33:e.$notify({type:"error",message:s.message});case 34:e.isLoading=!1,t.next=40;break;case 37:t.prev=37,t.t0=t["catch"](8),e.isLoading=!1;case 40:e.orderPackageLoading=!1;case 41:case"end":return t.stop()}}),t,null,[[8,37]])})))()},setSelect:function(){var e=this;this.tableData.forEach((function(t){e.$refs.workbenchTable.toggleRowSelection(t,!1)}))},setNoWait:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,i,r,s,n,l,o,c,d,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.multipleSelection.length){t.next=3;break}return e.$message.warning("请勾选需要操作的数据"),t.abrupt("return");case 3:for(e.isLoading=!0,a="",i=e.multipleSelection,a=i[0].id,r=1;r<i.length;r++)s=i[r],a+=","+s.id;return t.prev=8,n={id:a},t.next=12,e.$api.setNoWait(n);case 12:if(l=t.sent,o=l.data,200!==o.code){t.next=18;break}e.$notify({type:"success",message:"操作成功"}),t.next=29;break;case 18:c="",d=0;case 20:if(!(d<o.data.length)){t.next=28;break}if(u=o.data[d],200===u.code){t.next=25;break}return c=u.message,t.abrupt("break",28);case 25:d++,t.next=20;break;case 28:e.$notify({type:"error",message:c});case 29:e.setSelect(),e.orderPackage(),e.isLoading=!1,t.next=38;break;case 34:t.prev=34,t.t0=t["catch"](8),e.setSelect(),e.isLoading=!1;case 38:case"end":return t.stop()}}),t,null,[[8,34]])})))()},markOrderNeedDeal:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,i,r,s,n,l,o,c,d,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.multipleSelection.length){t.next=3;break}return e.$message.warning("请勾选需要操作的数据"),t.abrupt("return");case 3:for(e.isLoading=!0,a="",i=e.multipleSelection,a=i[0].id,r=1;r<i.length;r++)s=i[r],a+=","+s.id;return t.prev=8,n={id:a},t.next=12,e.$api.markOrderNeedDeal(n);case 12:if(l=t.sent,o=l.data,200!==o.code){t.next=18;break}e.$notify({type:"success",message:"操作成功"}),t.next=29;break;case 18:c="",d=0;case 20:if(!(d<o.data.length)){t.next=28;break}if(u=o.data[d],200===u.code){t.next=25;break}return c=u.message,t.abrupt("break",28);case 25:d++,t.next=20;break;case 28:e.$notify({type:"error",message:c});case 29:e.setSelect(),e.orderPackage(),e.isLoading=!1,t.next=38;break;case 34:t.prev=34,t.t0=t["catch"](8),e.setSelect(),e.isLoading=!1;case 38:case"end":return t.stop()}}),t,null,[[8,34]])})))()},noticeTodeliver:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var i,r,s,n,l,o,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.multipleSelection.length){a.next=3;break}return t.$message.warning("请勾选需要操作的数据"),a.abrupt("return");case 3:for(t.isLoading=!0,i="",r=t.multipleSelection,i=r[0].id,s=1;s<r.length;s++)n=r[s],i+=","+n.id;return a.prev=8,l={id:i,isDelivery:e},a.next=12,t.$api.noticeTodeliver(l);case 12:o=a.sent,c=o.data,200===c.code?(t.$notify({type:"success",message:"操作成功"}),t.setSelect(),t.orderPackage()):t.$notify({type:"error",message:c.message}),t.isLoading=!1,t.setSelect(),a.next=23;break;case 19:a.prev=19,a.t0=a["catch"](8),t.setSelect(),t.isLoading=!1;case 23:case"end":return a.stop()}}),a,null,[[8,19]])})))()},editRemark:function(e,t){this.activeRemarkID=t,this.orderRemark=this.tableData[e].user_remark},changeRemark:function(e,t){var a=this;return Object(n["a"])(regeneratorRuntime.mark((function i(){var r,s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return a.isLoading=!0,i.next=3,a.$api.setUserRemark({packageOrderSn:e,remark:a.orderRemark});case 3:if(r=i.sent,s=r.data,a.isLoading=!1,200!==s.code){i.next=12;break}return a.$notify({title:"备注管理",type:"success",message:"设置备注成功"}),a.tableData[t].user_remark=a.orderRemark,a.isfocus=!0,a.activeRemarkID="",i.abrupt("return");case 12:a.$notify({title:"备注管理",type:"error",message:s.message}),a.activeRemarkID="";case 14:case"end":return i.stop()}}),i)})))()},trackingNumberChangeOrderFun:function(){!this.multipleSelection.length||this.multipleSelection.length>1?this.$message.warning("请勾选一条需要操作的数据"):this.orderVisible=!0},trackingNumberChangeOrder:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,i,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!==e.newOrderSn){t.next=3;break}return e.$notify("","请填写新的单号","error"),t.abrupt("return");case 3:return e.isLoading=!0,a=e.multipleSelection,t.prev=5,i={trackingNumber:a[0].platform_tracking_number,primaryOrderSn:a[0].package_order_sn,orderSn:e.newOrderSn},t.next=9,e.$api.trackingNumberChangeOrder(i);case 9:r=t.sent,s=r.data,200===s.code?(e.$notify({type:"success",message:"操作成功"}),e.orderPackage()):e.$notify({type:"error",message:s.message}),e.setSelect(),e.orderVisible=!1,e.isLoading=!1,t.next=22;break;case 17:t.prev=17,t.t0=t["catch"](5),e.setSelect(),e.orderVisible=!1,e.isLoading=!1;case 22:case"end":return t.stop()}}),t,null,[[5,17]])})))()},setColorLabelFun:function(){this.multipleSelection.length?this.colorVisible=!0:this.$message.warning("请勾选需要操作的数据")},setColorLabel:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,i,r,s,n,l,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isLoading=!0,a=[],e.multipleSelection.forEach((function(e){a.push(e.sys_order_id)})),t.prev=3,i={sysOrderIds:a.toString()||"",id:e.colorLabelId1},t.next=7,e.$api.setColorLabel(i);case 7:if(r=t.sent,s=r.data,200!==s.code){t.next=13;break}e.$message.success("操作成功"),t.next=24;break;case 13:n="",l=0;case 15:if(!(l<s.data.length)){t.next=23;break}if(o=s.data[l],200===o.code){t.next=20;break}return n=o.message,t.abrupt("break",23);case 20:l++,t.next=15;break;case 23:e.$message.warning(n);case 24:e.setSelect(),e.colorVisible=!1,e.orderPackage(),e.isLoading=!1,t.next=35;break;case 30:t.prev=30,t.t0=t["catch"](3),e.setSelect(),e.colorVisible=!1,e.isLoading=!1;case 35:case"end":return t.stop()}}),t,null,[[3,30]])})))()},userInfo:function(){var e=localStorage.getItem("delayTime");Number(e)||this.$api.userInfo().then((function(t){200===t.data.code&&(e=t.data.data.xzyDelayedTime?t.data.data.xzyDelayedTime:24,localStorage.setItem("delayTime",e))})),this.delayTime=e},timeDelayFun:function(){this.delayVisible=!0},timeDelay:function(){var e=this,t=this.delayTime-0;if(""!==t)if(t>24)this.$notify("","时间不能超过24小时","error");else if(t<10)this.$notify("","时间不能少于10小时","error");else{var a={xzyDelayedTime:Math.round(t)};this.$api.timeDelay(a).then((function(t){200===t.data.code?e.$notify({type:"success",message:"设置成功"}):e.$notify({type:"error",message:t.data.message}),e.closeDialog2()})).catch((function(){e.closeDialog2()}))}else this.$notify("","请输入延迟时间","error")},setDateFmt:function(e){return e[0]=e[0].length>15?e[0]:e[0]+" 00:00:00",e[1]=e[1].length>15?e[1]:e[1]+" 23:59:59",e},getGoodsInfo:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var i,r,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i={packageOrderSn:e},a.next=3,t.$api.getGoodsInfo({params:i});case 3:r=a.sent,s=r.data,200===s.code?(t.goodsList=s.data,t.dialogVisible2=!0):t.$notify({type:"error",message:s.message});case 6:case"end":return a.stop()}}),a)})))()},tableToExcel:function(){if(this.multipleSelection.length>0)this.importBilling([this.multipleSelection]);else{if(!this.total)return this.$notify({title:"订单信息",type:"warning",message:"没有可以导出的订单"});this.exportOrderList=[],this.dialogVisible1=!0}},exportOrders:function(e,t){var a=this;return Object(n["a"])(regeneratorRuntime.mark((function i(){var r,n,u,p,m,g,h;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return a.isExport=a.isExport?a.isExport:new Date-0,r={status:"",packageOrderSn:a.packageOrderSn,statuoriginalTrackingNumbers:a.statuoriginalTrackingNumbers,exceptionType:a.exceptionType,deliveryStatus:a.deliveryStatus,colorLabelId:a.colorLabelId,sysMallIds:a.shopAccount.join(",")},r.page=e,r.pageSize=200,r.isExport=a.isExport,a.createdTime&&a.createdTime.length&&(r.createdTime=a.setDateFmt(a.createdTime).join("/")),a.storageTime&&a.storageTime.length&&(r.storageTime=a.setDateFmt(a.storageTime).join("/")),a.outboundTime&&a.outboundTime.length&&(r.outboundTime=a.setDateFmt(a.outboundTime).join("/")),i.next=10,a.$api.orderPackage(r);case 10:if(n=i.sent,u=n.data,!(u&&u.data&&u.data.data)){i.next=35;break}p=u.data.data,m=0;case 15:if(!(m<p.length)){i.next=28;break}if(g=p[m],""===a.site||g.country===a.site){i.next=19;break}return i.abrupt("continue",25);case 19:g.mall_alias_name=Object(l["m"])(l["b"],"label","id",g.sys_mall_id),g.site=Object(l["m"])(a.siteList,"label","value",g.country),g.statusText=Object(l["m"])(o,"label","deliveryStatus",g.delivery_status),g.exceptionText=Object(l["m"])(c,"label","exception_type",g.exception_type),g.orderStatusText=Object(l["m"])(d,"label","order_status",g.order_status),g.colorText=Object(l["m"])(a.colorLogoList,"label","id",g.color_id)||"无";case 25:m++,i.next=15;break;case 28:a.total=u.data.total,a.exportOrderList[a.exportIndex]?(h=a.exportOrderList[a.exportIndex]).push.apply(h,Object(s["a"])(p)):a.exportOrderList[a.exportIndex]=p,a.exportOrderList[a.exportIndex].length>=1e4&&(a.exportOrderList[a.exportIndex+1]=[],a.exportIndex++),a.exportNum=1e4*a.exportIndex+a.exportOrderList[a.exportIndex].length,a.exportNum>=a.total?(a.isExport=!1,a.importBilling(a.exportOrderList)):a.exportOrders(r.page+1),i.next=36;break;case 35:t?(a.isExport=!1,a.$notify({title:"仓库管理",type:"error",message:u.message})):a.exportOrders(r.page,!0);case 36:case"end":return i.stop()}}),i)})))()},importBilling:function(e){for(var t=this,a=1,i="<tr><td>编号</td><td>店铺名称</td><td>站点</td><td>仓库</td><td>颜色标识</td><td>订单编号</td><td>数量</td><td>商品名称</td><td>包裹重量(g)</td><td>运输方式</td><td>货物类型</td><td>是否等待子包裹发货</td>\n            <td>订单发货状态</td><td>异常类型</td><td>订单创建时间</td><td>订单平台状态</td><td>截止发货时间</td><td>入库时间</td><td>出库时间</td>\n            <td>入库图片</td><td>出库图片</td><td>仓库备注</td><td>用户备注</td>\n            </tr>",r=0;r<=this.exportIndex;r++){var s=e[r];s.forEach((function(e){i+="<tr><td>".concat(a++,"</td>\n                <td>").concat(e.mall_alias_name,"</td>\n                <td>").concat(e.site+"\t","</td>\n                <td>").concat(e.warehouse_name,"</td>\n                <td>").concat(e.colorText?e.colorText:"","</td>\n                <td style=\"mso-number-format:'@';\">").concat(e.package_order_sn?e.package_order_sn:"","</td>\n                <td>").concat(e.goods_count?e.goods_count:"","</td>\n                <td>").concat(e.goods_name?e.goods_name:"","</td>\n                <td>").concat(e.package_weight?e.package_weight:"","</td>\n                <td>").concat(e.transport_type?t.transportType[e.transport_type]:"","</td>\n                <td>").concat(e.package_type?t.packageType[e.package_type]:"","</td>\n                <td>").concat(e.is_mark_outbound>0?"否":"是","</td>\n                <td>").concat(e.statusText?e.statusText:"","</td>\n                <td>").concat(e.exceptionText?e.exceptionText:"","</td>\n                <td>").concat(e.order_created_time,"</td>\n                <td>").concat(e.orderStatusText?e.orderStatusText:"","</td>\n                <td>").concat(e.latest_ship_date?e.latest_ship_date:"","</td>\n                <td>").concat(e.storage_time?e.storage_time:"","</td>\n                <td>").concat(e.outbound_time?e.outbound_time:"","</td>\n                <td>").concat(e.storage_image?e.storage_image:"\t","</td>\n                 <td>").concat(e.outbound_image?e.outbound_image:"\t","</td>\n              <td>").concat(e.remark?e.remark:"\t","</td>\n               <td>").concat(e.user_remark?e.user_remark:"\t","</td>\n                </tr>")}))}var n="仓库包裹数据".concat(new Date(Date.now()+288e5).toISOString().slice(0,10)),l='<html xmlns:o="urn:schemas-microsoft-com:office:office"\n                xmlns:x="urn:schemas-microsoft-com:office:excel"\n                xmlns="http://www.w3.org/TR/REC-html40">\n                <head>\x3c!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet>\n                  <x:Name>'.concat(n,"</x:Name>\n                  <x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet>\n                  </x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--\x3e\n                  </head><body><table>").concat(i,"</table></body></html>"),o=new Blob([l],{type:"html",name:n}),c=document.createElement("a");document.body.appendChild(c),c.href=URL.createObjectURL(o),c.download="仓库包裹数据".concat(new Date(Date.now()+288e5).toISOString().replace(/T/g," ").replace(/\.[\d]{3}Z/,"").slice(0,20),".xls"),c.click(),document.body.removeChild(c)},copy:function(e){var t=document.createElement("div");t.id="tempTarget",t.style.opacity="0",t.innerText=e,document.body.appendChild(t);try{var a=document.createRange();a.selectNode(t),window.getSelection().removeAllRanges(),window.getSelection().addRange(a),document.execCommand("copy"),window.getSelection().removeAllRanges(),this.$notify({type:"success",message:"复制成功"})}catch(i){}t.parentElement.removeChild(t)}}},h=g,b=(a("4efd"),a("2877")),f=Object(b["a"])(h,i,r,!1,null,"7aebe07e",null);t["default"]=f.exports},8992:function(e,t,a){"use strict";a("4c28")},dd88:function(e,t,a){},feb6:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("ul",{staticClass:"storeChooseUL"},[a("li",{style:e.isReset&&"margin-bottom: 5px"},[a("span",{style:{width:e.spanWidth}},[e._v("所属站点：")]),a("el-select",{staticClass:"siteSelectBox",attrs:{size:"mini",filterable:""},model:{value:e.countryVal,callback:function(t){e.countryVal=t},expression:"countryVal"}},[e.isAll?a("el-option",{attrs:{label:"全部",value:""}}):e._e(),e._l(e.countries,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})}))],2)],1),a("li",{style:e.isReset&&"margin-bottom: 5px"},[a("span",{style:{width:e.spanWidth}},[e._v("店铺分组：")]),a("el-select",{staticClass:"selectBox",attrs:{placeholder:"",multiple:"","collapse-tags":"",size:"mini",filterable:""},model:{value:e.groupId,callback:function(t){e.groupId=t},expression:"groupId"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._l(e.groupIdList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.group_name,value:e.id}})}))],2)],1),a("li",{style:e.isReset&&"margin-bottom: 5px"},[a("span",{style:{width:e.spanWidth}},[e._v("店铺名称：")]),a("el-select",{staticClass:"selectBox",attrs:{placeholder:"",multiple:"","collapse-tags":"",size:"mini",filterable:""},model:{value:e.site,callback:function(t){e.site=t},expression:"site"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._l(e.siteList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.mall_alias_name||e.platform_mall_name,value:e.platform_mall_id}})}))],2)],1),e.isReset?a("li",{staticStyle:{"margin-bottom":"5px","margin-left":"25px"}},[a("el-button",{staticStyle:{"justify-self":"self-end"},attrs:{size:"mini",type:"primary"},on:{click:e.reset}},[e._v("　刷　　新　")])],1):e._e()])])},r=[],s=a("1da1"),n=(a("96cf"),a("159b"),a("fb6a"),a("d3b7"),a("25f0"),a("c740"),a("4de4"),a("7646")),l={name:"StoreChoose",props:{spanWidth:{type:String,default:"80px"},isAll:{type:Boolean,default:function(){return!1}},isReset:{type:Boolean,default:function(){return!1}},source:{type:String,default:function(){return""}}},data:function(){return{isAllowSet1:!0,isAllowSet2:!0,countryVal:null,groupId:[],groupIdList:[],site:[],siteList:[],countries:this.$filters.countries_option,mallListAPIInstance:new n["a"](this)}},watch:{countryVal:{handler:function(e,t){this.isAllowSet2=!1,this.groupId=[],this.groupIdList=[],this.ddMallGoodsGetMallList(1)},deep:!0},groupId:{handler:function(e,t){var a=this;if(this.isAllowSet2){this.isAllowSet2=!1;var i=t.indexOf("")>-1,r=e.indexOf("")>-1;i!==r?r?(this.groupId=[""],this.groupIdList.forEach((function(e){a.groupId.push(e.id)}))):this.groupId=[]:r?this.groupId=e.slice(1):this.groupIdList.length>0&&this.groupId.length===this.groupIdList.length&&this.groupId.unshift(""),setTimeout((function(){a.isAllowSet2=!0,a.ddMallGoodsGetMallList(2)}),10)}},deep:!0},site:{handler:function(e,t){var a=this;if(this.isAllowSet1){this.isAllowSet1=!1;var i=t.indexOf("")>-1,r=e.indexOf("")>-1;i!==r?r?(this.site=[""],this.siteList.forEach((function(e){a.site.push(e.platform_mall_id)}))):this.site=[]:r?this.site=e.slice(1):this.siteList.length>0&&this.siteList.length===this.site.length&&this.site.unshift(""),setTimeout((function(){a.changeMallList(),a.isAllowSet1=!0}))}},deep:!0}},mounted:function(){this.countryVal=this.isAll?"":"TH"},methods:{reset:function(){this.isAllowSet2=!1,this.groupId=[],this.groupIdList=[],this.ddMallGoodsGetMallList(1)},changeSelect:function(e){return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},ddMallGoodsGetMallList:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,i,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.site=[],a=t.countryVal,i=t.groupId.indexOf("")>-1&&t.groupId.slice(1).toString()||t.groupId.toString(),r={country:a,mallGroupIds:i},e.next=6,t.mallListAPIInstance.ddMallGoodsGetMallList(r);case 6:s=e.sent,200===s.code?(t.siteList=s.data,0===t.groupIdList.length&&(t.groupId=[""],t.siteList.forEach((function(e){var a=t.groupIdList.findIndex((function(t){return t.id===e.group_id}));e.group_name&&a<0&&(t.groupIdList.push({group_name:e.group_name,id:e.group_id}),t.groupId.push(e.group_id))}))),setTimeout((function(){t.isAllowSet2=!0,t.isAllowSet1=!0,t.site=[""]}),10)):t.$message.error("获取分组、店铺列表失败");case 8:case"end":return e.stop()}}),e)})))()},changeMallList:function(){var e=this,t=[],a="";this.site.forEach((function(i){if(i){var r=e.siteList.filter((function(e){return e.platform_mall_id===i}));t.push(r[0]),a+=i+","}})),t["country"]=this.countryVal,a=t.length===this.siteList.length&&a||"",this.source?this.$emit("changeMallList",{mallList:t,source:this.source,searchAll:a,country:this.countryVal.toLocaleUpperCase()}):this.$emit("changeMallList",t)}}},o=l,c=(a("8992"),a("2877")),d=Object(c["a"])(o,i,r,!1,null,null,null);t["a"]=d.exports}}]);