(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6e8bc6bd"],{"07e7":function(e,t,a){},"3e66":function(e,t,a){"use strict";a("fd04")},"65e5":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"store-address"},[a("div",{staticClass:"tab-box"},[a("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"国内仓设置",name:"landStore"}},[a("div",{staticClass:"btn-tool"},[a("el-button",{staticClass:"mar-right",attrs:{type:"primary",size:"mini"},on:{click:e.homeAddress}},[e._v("添加国内自有仓库地址")]),e.isHomeApplyAddress?a("el-button",{staticClass:"mar-right",attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.sysApplyAddress()}}},[e._v("申请系统仓库地址")]):e._e(),a("div",{staticClass:"warning-text activeColor"},[a("p",[e._v("温馨提示：1、绑定自有仓库时，订单信息将不会推送至对应站点的系统仓库，如使用软件合作物流，请申请绑定系统仓库！")]),a("p",[e._v("温馨提示：2、拍单平台为京喜时，收件人姓名只能由中文和字母组成，且在拍单时，软件不会自动增加买家姓名的拍单标识！")])])],1)]),a("el-tab-pane",{attrs:{label:"海外仓设置",name:"abroadStore"}},[a("div",{staticClass:"btn-tool"},[a("el-button",{staticClass:"mar-right",attrs:{type:"primary",size:"mini"},on:{click:e.oversearAddress}},[e._v("添加国外自有仓库地址")]),e.isOverseasApplyAddress?a("el-button",{staticClass:"mar-right",attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.sysApplyAddress()}}},[e._v("申请系统仓库地址")]):e._e(),a("div",{staticClass:"warning-text activeColor"},[a("p",[e._v("温馨提示：1、绑定自有仓库时，订单信息将不会推送至对应站点的系统仓库，如使用软件合作物流，请申请绑定系统仓库！")]),a("p",[e._v("温馨提示：2、拍单平台为lazada时，收件人姓名不能带有特殊字符，如下划线，加号等，且菲律宾站点不能带有#字符！")]),a("p",[e._v("温馨提示：3、收件人姓名请使用当地语言或拼音，尽量不使用中文！")])])],1)])],1),a("div",{staticClass:"content"},[a("el-table",{ref:"multipleTable",attrs:{data:e.tableData,"tooltip-effect":"dark",height:"calc(100vh - 206px)","header-cell-style":{backgroundColor:"#f5f7fa"}}},[a("el-table-column",{attrs:{type:"index",label:"序号","min-width":"50px",align:"center",fixed:""}}),a("el-table-column",{attrs:{"min-width":"140px",label:"仓库",fixed:"",prop:"warehouse_name"}}),a("el-table-column",{attrs:{"min-width":"300px",label:"地址",prop:"full_address","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[a("div",[e._v(e._s(s.full_address))])]}}])}),a("el-table-column",{attrs:{"min-width":"120px",label:"收件人",prop:"receiving_name"}}),a("el-table-column",{attrs:{prop:"type",label:"仓库类型","min-width":"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.typeObj[t.row.type])+" ")]}}])}),a("el-table-column",{attrs:{"min-width":"100px",label:"联系电话",prop:"receiving_tel","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{"min-width":"130px",label:"自有手机号",prop:"own_phone"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[0===s.isUser?a("div",[s.isPhone?a("el-input",{directives:[{name:"fo",rawName:"v-fo"}],attrs:{size:"mini"},on:{blur:function(t){return e.updateOwnPhone(s)}},model:{value:s.own_phone,callback:function(t){e.$set(s,"own_phone",t)},expression:"row.own_phone"}}):a("span",{on:{click:function(t){return e.isShowPhone(s)}}},[a("el-input",{attrs:{disabled:!s.isPhone,size:"mini"},model:{value:s.own_phone,callback:function(t){e.$set(s,"own_phone",t)},expression:"row.own_phone"}})],1)],1):e._e()]}}])}),a("el-table-column",{attrs:{"min-width":"80px",label:"邮编",prop:"post_code"}}),a("el-table-column",{attrs:{"min-width":"140px",label:"是否开启自有手机号",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[a("el-switch",{attrs:{disabled:1===s.isUser||""===s.own_phone,"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(t){return e.updateOwnPhone(s)}},model:{value:s.is_use_own_phone,callback:function(t){e.$set(s,"is_use_own_phone",t)},expression:"row.is_use_own_phone"}})]}}])}),a("el-table-column",{attrs:{"min-width":"100px",label:"绑定店铺数量"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.mallInfo.length)+" ")]}}])}),a("el-table-column",{attrs:{"min-width":"90px",label:"对应站点",prop:"country"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e._f("chineseSite")(t.row.country))+" ")]}}])}),a("el-table-column",{attrs:{"min-width":"120px",label:"绑定的店铺","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.bindMallName(t.row.mallInfo))+" ")]}}])}),a("el-table-column",{attrs:{label:"操作","min-width":"360px"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.updateBindMall(s)}}},[e._v("修改绑定店铺")]),1===s.isUser?a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.updateItself(s,e.flag4?1:2)}}},[e._v("修改自有仓库地址")]):e._e(),1===s.isUser?a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.deleteOwnStore(s)}}},[e._v("删除仓库")]):e._e()]}}])})],1)],1)],1),e.itselfAddressVisible?a("el-dialog",{staticClass:"select-dialog",attrs:{title:"选择地址",visible:e.itselfAddressVisible,width:"310px","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.itselfAddressVisible=t},close:e.handleClose1}},[a("el-form",{attrs:{"label-position":"right","label-width":"80px"}},[a("el-form-item",{attrs:{label:"仓库类型："}},[a("span",[e._v(e._s(e.flag4?"国内中转仓":"海外中转仓"))])]),e.flag4?a("el-form-item",{attrs:{label:"仓库站点："}},[a("el-select",{attrs:{disabled:!e.flag3,placeholder:"",size:"mini",filterable:""},on:{change:e.handlerChange3},model:{value:e.itselfCountry,callback:function(t){e.itselfCountry=t},expression:"itselfCountry"}},e._l(e.countries,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1):a("el-form-item",{attrs:{label:"仓库站点："}},[a("el-select",{attrs:{disabled:!e.flag3,placeholder:"",size:"mini",filterable:""},on:{change:e.handlerChange3},model:{value:e.itselfCountry,callback:function(t){e.itselfCountry=t},expression:"itselfCountry"}},e._l(e.countriesAbroad,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"仓库名称："}},[a("el-input",{attrs:{clearable:"",size:"mini",oninput:"value=value.replace(/\\s+/g,'')"},model:{value:e.itselfWarehouseName,callback:function(t){e.itselfWarehouseName=t},expression:"itselfWarehouseName"}})],1),e.flag4?a("div",[a("address-model",{ref:"addressModel",attrs:{country:e.itselfCountry},on:{sendData:e.sendData}})],1):a("div",[e.isSG?a("div",[a("el-form-item",{attrs:{label:"邮政编码："}},[a("el-input",{attrs:{clearable:"",size:"mini",oninput:"value=value.replace(/\\s+/g,'')"},model:{value:e.itselfPostCode,callback:function(t){e.itselfPostCode=t},expression:"itselfPostCode"}})],1)],1):a("div",[a("el-form",{attrs:{"label-position":"right","label-width":"80px"}},[a("el-form-item",{attrs:{label:"收货省："}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择",size:"mini"},on:{change:function(t){e.flag5=!1,e.handlerChange1()}},model:{value:e.itselfProvinceId,callback:function(t){e.itselfProvinceId=t},expression:"itselfProvinceId"}},e._l(e.provinceList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.Province,value:e.ProvinceId}})})),1)],1),a("el-form-item",{attrs:{label:"收货市："}},[a("el-select",{attrs:{disabled:!e.itselfProvinceId,placeholder:"请选择",size:"mini"},on:{change:function(t){e.flag5=!1,e.handlerChange2()}},model:{value:e.itselfCityId,callback:function(t){e.itselfCityId=t},expression:"itselfCityId"}},e._l(e.cityList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.City,value:e.CityId}})})),1)],1),a("el-form-item",{attrs:{label:"收货区："}},[a("el-select",{attrs:{disabled:!e.itselfCityId,placeholder:"请选择",size:"mini"},on:{change:function(t){e.flag5=!1}},model:{value:e.itselfDistrictId,callback:function(t){e.itselfDistrictId=t},expression:"itselfDistrictId"}},e._l(e.distinctList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.District,value:e.DistrictId}})})),1)],1)],1)],1)]),a("el-form-item",{attrs:{label:"详细地址："}},[a("el-input",{attrs:{clearable:"",size:"mini",oninput:"value=value.replace(/\\s+/g,'')"},model:{value:e.itselfDetailAddress,callback:function(t){e.itselfDetailAddress=t},expression:"itselfDetailAddress"}})],1),a("el-form-item",{attrs:{label:"收件人："}},[a("el-input",{attrs:{clearable:"",size:"mini",oninput:"value=value.replace(/\\s+/g,'')"},model:{value:e.itselfReceivingName,callback:function(t){e.itselfReceivingName=t},expression:"itselfReceivingName"}})],1),a("el-form-item",{attrs:{label:"电话号码："}},[a("el-input",{attrs:{clearable:"",size:"mini",oninput:"value=value.replace(/\\s+/g,'')"},model:{value:e.itselfReceivingTel,callback:function(t){e.itselfReceivingTel=t},expression:"itselfReceivingTel"}})],1),a("el-form-item",{attrs:{label:"归属仓库："}},[a("el-select",{attrs:{placeholder:"请选择",size:"mini"},model:{value:e.itselfWarehouseId,callback:function(t){e.itselfWarehouseId=t},expression:"itselfWarehouseId"}},[a("el-option",{attrs:{label:"不绑定",value:0}}),e._l(e.warehouseList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.warehouse_name,value:e.id}})}))],2)],1)],1),a("div",{staticClass:"footer"},[a("span",[e._v(" 温馨提示：若新增的自有仓库和系统仓库地址相同, 请绑定对应的归属仓库,若未绑定归属仓库,仓库无 法精准匹配,会有无法出库的风险 ")]),e.flag4?e._e():a("span",[e._v(" 1：收件人尽量不要有特殊字符,如#,+,_,@等"),a("br"),e._v(" 2：海外菲律宾仓的买家姓名至少包含2个英文单词, 如：(China Boy)"),a("br"),e._v(" 3：海外新加坡仓地址必须带楼层单元号并以#隔开且 置于最后,如(1 SoonLeeStreet,Industrial Cres,#01-02) ")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.itselfUpdate(e.flag3?1:2)}}},[e._v("确 定")])],1)],1):e._e(),a("el-dialog",{staticClass:"sys-store-dialog",attrs:{"close-on-click-modal":!1,title:e.flag1?"申请系统仓库地址":"修改仓库地址信息",width:"1000px",visible:e.sysAdderssVisible},on:{"update:visible":function(t){e.sysAdderssVisible=t},close:e.handleClose2}},[a("div",{staticClass:"dialog-left"},[!e.flag4&&e.flag1?a("div",{staticClass:"header"},[a("el-button",{attrs:{type:"primary",size:"mini"}},[a("a",{staticStyle:{color:"#fff"},attrs:{href:e.downloadExcelUrl,download:"海外仓地址设置指南"}},[e._v("下载海外仓地址设置指南")])]),a("p",[e._v("使用海外仓服务前，请先下载使用指南查看")])],1):e._e(),a("el-form",{attrs:{"label-position":"right","label-width":"80px"}},[a("el-form-item",{attrs:{label:"仓库类型:"}},[a("span",[e._v(e._s(e.flag1||e.flag2?"系统仓库":"自有仓库"))])]),a("el-form-item",{attrs:{label:"仓库名称:"}},[e.flag1?a("el-select",{attrs:{placeholder:"请选择",size:"mini"},on:{change:e.sysWarehouseChange},model:{value:e.sysWarehouseId,callback:function(t){e.sysWarehouseId=t},expression:"sysWarehouseId"}},e._l(e.warehouseData,(function(e,t){return a("el-option",{key:t,attrs:{value:e.id,label:e.warehouse_name}})})),1):e._e(),e.flag1?e._e():a("el-input",{attrs:{disabled:e.flag2,size:"mini",clearable:"",oninput:"value=value.replace(/\\s+/g,'')"},model:{value:e.warehouseName,callback:function(t){e.warehouseName=t},expression:"warehouseName"}})],1),a("el-form-item",{staticClass:"addressFull",attrs:{label:"地址全称:"}},[a("el-input",{attrs:{disabled:!0,size:"mini",type:"textarea",resize:"none",autosize:{minRows:2,maxRows:4},clearable:"",oninput:"value=value.replace(/\\s+/g,'')"},model:{value:e.warehouseAddress,callback:function(t){e.warehouseAddress=t},expression:"warehouseAddress"}})],1),a("el-form-item",{attrs:{label:"收件人："}},[a("el-input",{attrs:{clearable:"",size:"mini",oninput:"value=value.replace(/\\s+/g,'')"},model:{value:e.receivingName,callback:function(t){e.receivingName=t},expression:"receivingName"}})],1),a("el-form-item",{attrs:{label:"联系电话："}},[a("el-input",{attrs:{disabled:e.flag1||e.flag2,clearable:"",size:"mini",oninput:"value=value.replace(/\\s+/g,'')"},model:{value:e.wareHouseTel,callback:function(t){e.wareHouseTel=t},expression:"wareHouseTel"}})],1)],1),a("div",{staticClass:"footer"},[e.flag1?a("el-button",{attrs:{loading:e.butLoading,type:"primary",size:"mini"},on:{click:e.addXzyStore}},[e._v("新增仓库")]):a("el-button",{attrs:{loading:e.butLoading,type:"primary",size:"mini"},on:{click:e.updateWarehouse}},[e._v("修改仓库")])],1)],1),a("div",{staticClass:"dialog-right"},[a("div",{staticStyle:{display:"flex"}},[a("store-choose-mall",{key:e.changeIndex,attrs:{"is-all":!0,"show-mall":!1},on:{changeMallList:e.changeMallList}}),a("el-button",{staticStyle:{"margin-left":"15px"},attrs:{type:"primary",size:"mini"},on:{click:e.getBindMall}},[e._v("查 询")])],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.warehouseLoading,expression:"warehouseLoading"}],ref:"bindMallDataRef",staticStyle:{"min-width":"240px"},attrs:{data:e.bindMallData,stripe:"","max-height":"450","row-key":e.getRowKey},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",align:"center","min-width":"45","reserve-selection":!0}}),a("el-table-column",{attrs:{prop:"country",align:"center",label:"站点","min-width":"90"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(e._f("chineseSite")(a.country))+" ")]}}])}),a("el-table-column",{attrs:{align:"center",label:"店铺名称","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.mallAliasName?a.mallAliasName:a.platformMallName)+" ")]}}])}),a("el-table-column",{attrs:{align:"center",label:"绑定国内仓","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.address.warehouse_name)+" ")]}}])}),a("el-table-column",{attrs:{align:"center",label:"绑定海外仓","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.overseas_address.warehouse_name)+" ")]}}])})],1)],1)]),e.shopeeAddressVisible?a("el-dialog",{staticClass:"shopee-dialog",attrs:{title:"Shopee地址设置",visible:e.shopeeAddressVisible,width:"310px","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.shopeeAddressVisible=t}}},[a("el-form",{attrs:{"label-position":"right","label-width":"80px"}},[a("el-form-item",{attrs:{label:"仓库站点："}},[a("span",[e._v(e._s(e._f("chineseSite")(e.itselfCountry)))])]),a("el-form",{attrs:{"label-position":"right","label-width":"80px"}},[a("el-form-item",{attrs:{label:"收货省："}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择",size:"mini"},on:{change:function(t){return e.handlerChange4()}},model:{value:e.sProvince,callback:function(t){e.sProvince=t},expression:"sProvince"}},e._l(e.sProvinceList,(function(e,t){return a("el-option",{key:t,attrs:{value:e.id,label:e.translated_name==e.division_name?e.division_name:e.division_name+"/"+e.translated_name}})})),1)],1),a("el-form-item",{attrs:{label:"收货市："}},[a("el-select",{attrs:{disabled:!e.sProvince,placeholder:"请选择",size:"mini"},on:{change:function(t){return e.handlerChange5()}},model:{value:e.sCity,callback:function(t){e.sCity=t},expression:"sCity"}},e._l(e.sCityList,(function(e,t){return a("el-option",{key:t,attrs:{value:e.id,label:e.translated_name==e.division_name?e.division_name:e.division_name+"/"+e.translated_name}})})),1)],1),"MY"===e.itselfCountry?a("el-form-item",{attrs:{label:"邮编："}},[a("el-input",{attrs:{size:"mini"},model:{value:e.sPDistinctInput,callback:function(t){e.sPDistinctInput=t},expression:"sPDistinctInput"}})],1):a("el-form-item",{attrs:{label:"收货区："}},[a("el-select",{attrs:{disabled:!e.sCity,placeholder:"请选择",size:"mini"},on:{change:function(t){return e.handlerChange6()}},model:{value:e.sPDistinct,callback:function(t){e.sPDistinct=t},expression:"sPDistinct"}},e._l(e.sDistinctList,(function(e,t){return a("el-option",{key:t,attrs:{value:e.id,label:e.translated_name==e.division_name?e.division_name:e.division_name+"/"+e.translated_name}})})),1)],1),"PH"===e.itselfCountry?a("el-form-item",{attrs:{label:"收货街道："}},[a("el-select",{attrs:{disabled:!e.sCity,placeholder:"请选择",size:"mini"},model:{value:e.sStreet,callback:function(t){e.sStreet=t},expression:"sStreet"}},e._l(e.sStreetList,(function(e,t){return a("el-option",{key:t,attrs:{value:e.id,label:e.division_name}})})),1)],1):e._e()],1),a("div",{staticClass:"footer"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.addAbroadAddress}},[e._v("确 定")])],1)],1)],1):e._e()],1)},i=[],r=a("1da1"),n=(a("96cf"),a("ac1f"),a("1276"),a("159b"),a("d3b7"),a("25f0"),a("4de4"),a("498a"),a("5319"),a("99af"),a("d81d"),a("66d3")),l=a("d4ec"),o=a("bee2"),c=function(){function e(t){Object(l["a"])(this,e),this._this=t}return Object(o["a"])(e,[{key:"updateData",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._this.$api.updateData(t);case 3:if(a=e.sent,200!==a.data.code){e.next=6;break}return e.abrupt("return",{code:200});case 6:return e.abrupt("return",{code:a.data.code,data:"".concat(a.data.message)});case 9:return e.prev=9,e.t0=e["catch"](0),e.abrupt("return",{code:-2,data:"修改数据异常： ".concat(e.t0)});case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"addXzyStore",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._this.$api.addXzyStore(t);case 3:if(a=e.sent,200!==a.data.code){e.next=6;break}return e.abrupt("return",{code:200});case 6:return e.abrupt("return",{code:a.data.code,data:"".concat(a.data.message)});case 9:return e.prev=9,e.t0=e["catch"](0),e.abrupt("return",{code:-2,data:"新增系统仓库异常： ".concat(e.t0)});case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getBindMall",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._this.$api.getBindMall(t);case 3:if(a=e.sent,200!==a.data.code){e.next=6;break}return e.abrupt("return",{code:200,data:a.data.data});case 6:return e.abrupt("return",{code:a.data.code,data:"".concat(a.data.message)});case 9:return e.prev=9,e.t0=e["catch"](0),e.abrupt("return",{code:-2,data:"绑定店铺、申请仓库的店铺列表异常： ".concat(e.t0)});case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"deleteOwnStore",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._this.$api.deleteOwnStore(t);case 3:if(a=e.sent,200!==a.data.code){e.next=6;break}return e.abrupt("return",{code:200});case 6:return e.abrupt("return",{code:a.data.code,data:"".concat(a.data.message)});case 9:return e.prev=9,e.t0=e["catch"](0),e.abrupt("return",{code:-2,data:"删除仓库异常： ".concat(e.t0)});case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateOwnPhone",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._this.$api.updateOwnPhone(t);case 3:if(a=e.sent,200!==a.data.code){e.next=6;break}return e.abrupt("return",{code:200});case 6:return e.abrupt("return",{code:a.data.code,data:"".concat(a.data.message)});case 9:return e.prev=9,e.t0=e["catch"](0),e.abrupt("return",{code:-2,data:"配置手机号码异常： ".concat(e.t0)});case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"adduserStore",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._this.$api.adduserStore(t);case 3:if(a=e.sent,200!==a.data.code){e.next=6;break}return e.abrupt("return",{code:200});case 6:return e.abrupt("return",{code:a.data.code,data:"".concat(a.data.message)});case 9:return e.prev=9,e.t0=e["catch"](0),e.abrupt("return",{code:-2,data:"添加国内自有仓库异常： ".concat(e.t0)});case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getUserWarehouse",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._this.$api.getUserWarehouse();case 3:if(t=e.sent,200!==t.data.code){e.next=6;break}return e.abrupt("return",{code:200,data:t.data.data});case 6:return e.abrupt("return",{code:t.data.code,data:"".concat(t.data.message)});case 9:return e.prev=9,e.t0=e["catch"](0),e.abrupt("return",{code:-2,data:"获取用户仓库地址异常： ".concat(e.t0)});case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"xzyIndex",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={warehouseType:t},e.prev=1,e.next=4,this._this.$api.xzyIndex(a);case 4:if(s=e.sent,200!==s.data.code){e.next=7;break}return e.abrupt("return",{code:200,data:s.data.data});case 7:return e.abrupt("return",{code:s.data.code,data:"".concat(s.data.message)});case 10:return e.prev=10,e.t0=e["catch"](1),e.abrupt("return",{code:-2,data:"获取系统仓库异常： ".concat(e.t0)});case 13:case"end":return e.stop()}}),e,this,[[1,10]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"xzyAllIndex",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._this.$api.xzyAllIndex();case 3:if(t=e.sent,200!==t.data.code){e.next=6;break}return e.abrupt("return",{code:200,data:t.data.data});case 6:return e.abrupt("return",{code:t.data.code,data:"".concat(t.data.message)});case 9:return e.prev=9,e.t0=e["catch"](0),e.abrupt("return",{code:-2,data:"获取所属仓库异常： ".concat(e.t0)});case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));function t(){return e.apply(this,arguments)}return t}()}]),e}(),d=a("7558"),u={components:{AddressModel:n["a"],StoreChooseMall:d["a"]},data:function(){return{downloadExcelUrl:"https://shopeeman.oss-cn-shenzhen.aliyuncs.com/files/shopeemanFiles/appFiles/20211224/2021122418063161c59ba7e66a0.xlsx",isShowLoading:!1,butLoading:!1,itselfAddressVisible:!1,sysAdderssVisible:!1,shopeeAddressVisible:!1,isHomeApplyAddress:!1,isOverseasApplyAddress:!1,flag1:!0,flag2:!0,flag3:!0,flag4:!0,flag5:!1,countries:this.$filters.countries_option_sub,countriesAbroad:this.$filters.countries_option_sub_abroad,AddressSet:new c(this),activeName:"landStore",changeIndex:0,tableData:[],tableDataAll:[],multipleSelection:[],mallList:[],typeObj:["国内中转仓","存储转运仓","海外存储仓","海外中转仓"],warehouseLoading:!1,warehouseData:[],bindMallData:[],sysWarehouseId:"",warehouseAddress:"",warehouseName:"",wareHouseTel:"",receivingName:"",itemData:{},itselfWarehouseName:"",itselfCountry:"TH",itselfProvinceId:"",itselfProvinceText:"",itselfCityId:"",itselfCityText:"",itselfDistrictId:"",itselfDistinctText:"",itselfDetailAddress:"",itselfFullAddress:"",itselfReceivingName:"",itselfReceivingTel:"",itselfWarehouseId:0,itselfShopeeMapId:"17312",warehouseList:[],itselfItemId:null,itselfPostCode:"",provinceList:[],cityList:[],distinctList:[],addressData:[],mallId:[],isSG:!1,sProvince:"",sCity:"",sPDistinct:"",sPDistinctInput:"",sProvinceList:[],sCityList:[],sDistinctList:[],sStreet:"",sStreetList:"",abroadAddressParams:{},itselfUpdateType:""}},mounted:function(){this.getUserWarehouse(),this.xzyIndex([0,3]),this.xzyAllIndex()},methods:{address:function(e){e.split(" ")},updateItself:function(e,t){var a=this;return Object(r["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(a.itselfWarehouseId=0,a.itselfItemId=e.id,a.flag3=!1,a.flag5=!0,a.itselfAddressVisible=!0,a.itselfWarehouseName=e.warehouse_name,a.itselfDetailAddress=e.detail_address,a.itselfReceivingName=e.receiving_name,a.itselfReceivingTel=e.receiving_tel,a.itselfCountry=e.country,e.mallInfo.forEach((function(e){a.mallId.push(e.id)})),1!==t){s.next=15;break}a.$nextTick((function(){a.$refs.addressModel.update(e.province_id,e.city_id,e.distinct_id)})),s.next=35;break;case 15:if("SG"!==a.itselfCountry){s.next=19;break}return a.isSG=!0,a.itselfPostCode=e.post_code,s.abrupt("return");case 19:return s.prev=19,a.itselfProvinceId="R"+e.province_id,s.next=23,a.getLazadaDetailAddress("",a.itselfCountry,"provinceList","ProvinceId");case 23:return a.itselfCityId="R"+e.city_id,s.next=26,a.getLazadaDetailAddress(a.itselfProvinceId,a.itselfCountry,"cityList","CityId");case 26:return a.itselfDistrictId="R"+e.distinct_id,s.next=29,a.getLazadaDetailAddress(a.itselfCityId,a.itselfCountry,"distinctList","DistrictId");case 29:s.next=35;break;case 31:s.prev=31,s.t0=s["catch"](19),a.itselfProvinceId="",a.itselfCityId="";case 35:case"end":return s.stop()}}),s,null,[[19,31]])})))()},updateItselfData:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e["id"]=t.itselfItemId,e["warehouseId"]=t.itselfWarehouseId,e["mallId"]=t.mallId.toString(),t.isSG&&(e["address"]["post_code"]=t.itselfPostCode),a.next=6,t.updateData(e);case 6:t.itselfAddressVisible=!1;case 7:case"end":return a.stop()}}),a)})))()},updateBindMall:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.itemData=e,t.flag1=!1,t.flag2=0===e.isUser,t.sysAdderssVisible=!0,t.warehouseName=e.warehouse_name,t.warehouseAddress=e.full_address,t.receivingName=e.receiving_name,t.wareHouseTel=e.receiving_tel,a.next=10,t.getBindMall();case 10:t.$nextTick((function(){t.bindMallData.forEach((function(a){e.mallInfo.forEach((function(e){e.id===a.sysMallId&&t.$refs.bindMallDataRef.toggleRowSelection(a)}))}))}));case 11:case"end":return a.stop()}}),a)})))()},updateWarehouse:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.warehouseName){t.next=2;break}return t.abrupt("return",e.$message("仓库名不能为空"));case 2:if(e.receivingName){t.next=4;break}return t.abrupt("return",e.$message("收件人不能为空"));case 4:if(e.wareHouseTel){t.next=6;break}return t.abrupt("return",e.$message("电话号码不能为空"));case 6:if(!e.flag2){t.next=9;break}if(e.multipleSelection.every((function(t){return t.country===e.itemData.country}))){t.next=9;break}return t.abrupt("return",e.$message("当前仓库只能绑定".concat(e.$filters.chineseSite(e.itemData.country),"的店铺，请重新选择")));case 9:return a={mallId:[],address:{}},a["id"]=e.itemData.id,a["warehouseName"]=e.warehouseName,a["address"]["city_id"]=e.itemData.city_id,a["address"]["city_text"]=e.itemData.city_text,a["address"]["detail_address"]=e.itemData.detail_address,a["address"]["distinct_id"]=e.itemData.distinct_id,a["address"]["distinct_text"]=e.itemData.distinct_text,a["address"]["full_address"]=e.itemData.full_address,a["address"]["province_id"]=e.itemData.province_id,a["address"]["province_text"]=e.itemData.province_text,a["address"]["receiving_name"]=e.receivingName,a["address"]["receiving_tel"]=e.wareHouseTel,e.multipleSelection.forEach((function(e){a["mallId"].push(e.sysMallId)})),e.butLoading=!0,t.next=26,e.updateData(a);case 26:return t.next=28,e.getBindMall();case 28:e.butLoading=!1;case 29:case"end":return t.stop()}}),t)})))()},updateData:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.AddressSet.updateData(e);case 2:s=a.sent,200===s.code?(t.$message.success("修改成功"),t.itselfUpdateType="",t.itselfAddressVisible&&t.getUserWarehouse()):t.$message.error(s.data);case 4:case"end":return a.stop()}}),a)})))()},addXzyStore:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,s,i,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=[],s=[],e.receivingName){t.next=4;break}return t.abrupt("return",e.$message("收件人不能为空"));case 4:if(a=e.warehouseData.filter((function(t){return t.id===e.sysWarehouseId})),e.multipleSelection.every((function(e){return e.country===a[0].country}))){t.next=7;break}return t.abrupt("return",e.$message("当前仓库只能绑定".concat(e.$filters.chineseSite(a[0].country),"的店铺，请重新选择")));case 7:return e.multipleSelection.forEach((function(e){s.push(e.sysMallId)})),i={id:e.sysWarehouseId,receivingName:e.receivingName,mallId:s.toString()},e.butLoading=!0,t.next=12,e.AddressSet.addXzyStore(i);case 12:r=t.sent,200===r.code?(e.$message.success("新增系统仓库成功"),e.getBindMall()):e.$message.error(r.data),e.butLoading=!1;case 15:case"end":return t.stop()}}),t)})))()},sysWarehouseChange:function(){var e=this,t={};this.warehouseData.forEach((function(a){a.id===e.sysWarehouseId&&(t=a)})),this.warehouseAddress=t.full_address,this.wareHouseTel=t.receiving_tel},sysApplyAddress:function(){this.flag1=!0,this.sysAdderssVisible=!0,this.getBindMall()},getBindMall:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.warehouseLoading=!0,a=[],e.mallList.forEach((function(e){a.push(e.group_id)})),s={id:e.sysWarehouseId,country:e.mallList.country,groupIds:a.toString()},t.next=6,e.AddressSet.getBindMall(s);case 6:i=t.sent,200===i.code?e.bindMallData=i.data:e.$message.error(i.data),e.warehouseLoading=!1;case 9:case"end":return t.stop()}}),t)})))()},isShowPhone:function(e){this.$set(e,"isPhone",!0)},deleteOwnStore:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var s,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s={id:e.id},a.next=3,t.AddressSet.deleteOwnStore(s);case 3:i=a.sent,200===i.code?(t.$message.success("删除成功"),t.getUserWarehouse()):t.$message.error(i.data);case 5:case"end":return a.stop()}}),a)})))()},updateOwnPhone:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var s,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.$set(e,"isPhone",!1),s={id:e.id,isUseOwnPhone:e.is_use_own_phone?1:0,ownPhone:e.own_phone},a.next=4,t.AddressSet.updateOwnPhone(s);case 4:i=a.sent,200===i.code?t.$message.success("更新成功"):t.$message.error(i.data);case 6:case"end":return a.stop()}}),a)})))()},itselfUpdate:function(e){var t=this;this.itselfUpdateType=e;var a={};if(!this.itselfWarehouseName)return this.$message("仓库名称不能为空");if(!this.itselfDetailAddress)return this.$message("详细地址不能为空");if(!this.itselfReceivingName)return this.$message("收件人不能为空");if(!this.itselfReceivingTel)return this.$message("请输入电话号码");if(this.isSG){if(-1===this.itselfDetailAddress.indexOf("#"))return this.$message("新加坡站点详细地址缺少#字符，请以#字符隔出楼层单元号");if(!this.itselfPostCode)return this.$message("新加坡的邮政编码不能为空")}this.$confirm("请确认当前仓库是否和系统仓库地址相同，若相同，请务必绑定对应的归属仓库，避免因未能准确匹配仓库造成的无法出库的风险?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(r["a"])(regeneratorRuntime.mark((function s(){var i;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(0===t.itselfWarehouseId){s.next=15;break}if(t.warehouseList.forEach((function(e){t.itselfWarehouseId===e.id&&(a=e)})),t.isSG){s.next=6;break}if(t.itselfProvinceText===a.province_text&&t.itselfCityText===a.city_text&&t.itselfDistinctText===a.distinct_text&&-1!==t.itselfDetailAddress.indexOf(a.detail_address)){s.next=6;break}return t.$message("自有出库地址与归属出库地址省份信息不匹配"),s.abrupt("return");case 6:if(t.itselfDetailAddress!==a.detail_address){s.next=8;break}return s.abrupt("return",t.$message("自有仓库地址不能和系统仓库地址完全相同"));case 8:if(t.flag4){s.next=15;break}if(t.itselfCountry===a.country){s.next=12;break}return t.$message("自有出库站点与归属出库地址站点信息不匹配"),s.abrupt("return");case 12:if(-1!==t.itselfDetailAddress.indexOf(a.detail_address)){s.next=15;break}return t.$message("新加坡自有出库地址与归属出库地址详细信息不匹配"),s.abrupt("return");case 15:if(i={address:{}},!t.flag4){s.next=20;break}t.itselfFullAddress=t.itselfProvinceText+" "+t.itselfCityText+" "+t.itselfDistinctText+" "+t.itselfDetailAddress,s.next=41;break;case 20:if(!t.isSG){s.next=27;break}t.itselfProvinceId="1",t.itselfCityId="1",t.itselfDistrictId="1",t.itselfFullAddress=t.itselfDetailAddress,s.next=41;break;case 27:return t.provinceList.forEach((function(e){e.ProvinceId===t.itselfProvinceId&&(t.addressData["province_text"]=e.Province)})),t.cityList.forEach((function(e){e.CityId===t.itselfCityId&&(t.addressData["city_text"]=e.City)})),t.distinctList.forEach((function(e){e.DistrictId===t.itselfDistrictId&&(t.addressData["distinct_text"]=e.District,t.addressData["post_code"]=e.DistrictId)})),t.itselfFullAddress=t.itselfDetailAddress+" "+(t.addressData.province_text.split("/")[1]?t.addressData.province_text.split("/")[1].trim():t.addressData.province_text)+" "+(t.addressData.city_text.split("/")[1]?t.addressData.city_text.split("/")[1].trim():t.addressData.city_text)+" "+(t.addressData.distinct_text.split("/")[1]?t.addressData.distinct_text.split("/")[1].trim():t.addressData.distinct_text),t.flagAbroad||(t.shopeeAddressVisible=!0),s.prev=32,s.next=35,t.getShopeeAddress("0","sProvinceList","sProvince");case 35:return s.next=37,t.handlerChange4();case 37:s.next=41;break;case 39:s.prev=39,s.t0=s["catch"](32);case 41:if(i["warehouseName"]=t.itselfWarehouseName,i["address"]["province_id"]="TW"==t.itselfCountry?1:t.itselfProvinceId.replace("R",""),i["address"]["province_text"]=t.itselfProvinceText||t.addressData.province_text,i["address"]["city_id"]="TW"==t.itselfCountry?1:t.itselfCityId.replace("R",""),i["address"]["city_text"]=t.itselfCityText||t.addressData.city_text,i["address"]["distinct_id"]="TW"==t.itselfCountry?1:t.itselfDistrictId.replace("R",""),i["address"]["distinct_text"]=t.itselfDistinctText||t.addressData.distinct_text,i["address"]["detail_address"]=t.itselfDetailAddress,i["address"]["full_address"]=t.itselfFullAddress,i["address"]["receiving_name"]=t.itselfReceivingName,i["address"]["receiving_tel"]=t.itselfReceivingTel,i["address"]["type"]=t.flag4?0:3,t.flag4){s.next=56;break}return t.abroadAddressParams=i,s.abrupt("return");case 56:if(!t.flag4){s.next=64;break}s.t1=e,s.next=1===s.t1?60:2===s.t1?62:64;break;case 60:return t.adduserStore(i),s.abrupt("break",64);case 62:return t.updateItselfData(i),s.abrupt("break",64);case 64:case"end":return s.stop()}}),s,null,[[32,39]])}))))},adduserStore:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e["id"]=0,e["address"]["country"]=t.itselfCountry,e["address"]["warehouseId"]=t.itselfWarehouseId,t.isSG?e["address"]["post_code"]=t.itselfPostCode:"MY"==t.itselfCountry?e["address"]["post_code"]=t.sPDistinctInput:e["address"]["post_code"]=t.flag4?0:t.addressData["post_code"],"TW"==t.itselfCountry&&(e["address"]["shopee_map_id"]=t.itselfCityId),a.next=7,t.AddressSet.adduserStore(e);case 7:s=a.sent,200===s.code?(t.$message.success("添加自有仓库成功"),t.getUserWarehouse(),t.itselfAddressVisible=!1,t.itselfUpdateType=""):t.$message.error(s.data);case 9:case"end":return a.stop()}}),a)})))()},homeAddress:function(){var e=this;this.handleClose1(),this.itselfAddressVisible=!0,this.flag3=!0,this.$nextTick((function(){e.$refs.addressModel.init()}))},oversearAddress:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.itselfAddressVisible=!0,e.flag3=!0,e.flag5=!1,e.handleClose1(),t.next=6,e.handlerChange3();case 6:case"end":return t.stop()}}),t)})))()},getLazadaDetailAddress:function(e,t,a){var s=this;return Object(r["a"])(regeneratorRuntime.mark((function i(){var r;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,s.$BaseUtilService.getLazadaDetailAddress(e,s.itselfCountry);case 2:r=i.sent,s[t]=r,s["itself"+a]=s.flag5?s["itself"+a]:s[t][0][a];case 5:case"end":return i.stop()}}),i)})))()},xzyAllIndex:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.AddressSet.xzyAllIndex();case 2:a=t.sent,200===a.code?e.warehouseList=a.data:e.$message.error(a.data);case 4:case"end":return t.stop()}}),t)})))()},bindMallName:function(e){var t=[];return e.forEach((function(e){var a=e.mall_alias_name?e.mall_alias_name:e.platform_mall_name;t.push(a)})),t.toString()},handleClick:function(){"landStore"===this.activeName?(this.flag4=!0,this.tableData=this.tableDataAll.filter((function(e){return 0===e.type}))):(this.flag4=!1,this.tableData=this.tableDataAll.filter((function(e){return 2===e.type||3===e.type})))},xzyIndex:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var s,i,r,n,l,o,c,d;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:i=[],r=e||[0,3],n=0;case 3:if(!(n<r.length)){a.next=12;break}return l=r[n],a.next=7,t.AddressSet.xzyIndex(l);case 7:o=a.sent,200===o.code?i=i.concat(o):t.$message.error(o.data);case 9:n++,a.next=3;break;case 12:null!==(s=i)&&void 0!==s&&s.length&&((null===(c=i[0].data)||void 0===c?void 0:c.length)>0?(t.isHomeApplyAddress=!0,t.warehouseData=i[0].data,t.sysWarehouseId=i[0].data[0].id,t.warehouseAddress=i[0].data[0].full_address,t.wareHouseTel=i[0].data[0].receiving_tel):t.isHomeApplyAddress=!1,i[1]&&(null===(d=i[1].data)||void 0===d?void 0:d.length)>0?(t.isOverseasApplyAddress=!0,t.warehouseData=i[1].data,t.sysWarehouseId=i[1].data[0].id,t.warehouseAddress=i[1].data[0].full_address,t.wareHouseTel=i[1].data[0].receiving_tel):t.isOverseasApplyAddress=!1);case 13:case"end":return a.stop()}}),a)})))()},getUserWarehouse:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isShowLoading=!0,t.next=3,e.AddressSet.getUserWarehouse();case 3:a=t.sent,200===a.code?(e.tableDataAll=a.data,e.tableDataAll.map((function(e){e.is_use_own_phone="1"===e.is_use_own_phone})),e.handleClick()):e.$message.error(a.data),e.isShowLoading=!1;case 6:case"end":return t.stop()}}),t)})))()},addAbroadAddress:function(){if(!this.sPDistinct&&!this.sCity&&!this.sStreet)return this.$message.warning("请先进行shopee地址设置");var e="MY"===this.itselfCountry?this.sCity:"PH"===this.itselfCountry?this.sStreet:this.sPDistinct;switch(this.abroadAddressParams["address"]["shopee_map_id"]=e,this.shopeeAddressVisible=!1,this.itselfUpdateType){case 1:this.adduserStore(this.abroadAddressParams);break;case 2:this.updateItselfData(this.abroadAddressParams);break}},getShopeeAddress:function(e,t,a){var s=this;return Object(r["a"])(regeneratorRuntime.mark((function i(){var r,n,l;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return r=s.$filters.sitePlatform(s.itselfCountry),i.next=3,s.$commodityService.getShopeeAddress(r,"1",e);case 3:n=i.sent,l=s.isJsonString(n),s[t]=l,s[a]=s[t][0]?s[t][0].id:"";case 7:case"end":return i.stop()}}),i)})))()},handlerChange4:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getShopeeAddress(e.sProvince,"sCityList","sCity");case 2:return t.next=4,e.handlerChange5();case 4:case"end":return t.stop()}}),t)})))()},handlerChange5:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getShopeeAddress(e.sCity,"sDistinctList","sPDistinct");case 2:return t.next=4,e.handlerChange6();case 4:case"end":return t.stop()}}),t)})))()},handlerChange6:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("PH"!==e.itselfCountry){t.next=3;break}return t.next=3,e.getShopeeAddress(e.sPDistinct,"sStreetList","sStreet");case 3:case"end":return t.stop()}}),t)})))()},isJsonString:function(e){if("string"!==typeof e)return e;try{return JSON.parse(e),JSON.parse(e)}catch(t){return e}},changeMallList:function(e){this.mallList=e},handleClose1:function(){this.itselfWarehouseName="",this.itselfCountry="TH",this.itselfProvinceId="",this.itselfProvinceText="",this.itselfCityId="",this.itselfCityText="",this.itselfDistrictId="",this.itselfDistinctText="",this.itselfDetailAddress="",this.itselfFullAddress="",this.itselfReceivingName="",this.itselfReceivingTel="",this.itselfWarehouseId=0,this.itselfShopeeMapId="",this.isSG=!1,this.itselfPostCode=""},handleClose2:function(){var e=this.flag4?[0]:[3];this.xzyIndex(e),this.getUserWarehouse(),this.receivingName="",this.$refs.bindMallDataRef.clearSelection(),this.changeIndex++},handlerChange1:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getLazadaDetailAddress(e.itselfProvinceId,"cityList","CityId");case 2:return t.next=4,e.handlerChange2();case 4:case"end":return t.stop()}}),t)})))()},handlerChange2:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getLazadaDetailAddress(e.itselfCityId,"distinctList","DistrictId");case 2:case"end":return t.stop()}}),t)})))()},handlerChange3:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.flag4){t.next=22;break}if("SG"!==e.itselfCountry){t.next=6;break}return e.isSG=!0,t.abrupt("return");case 6:e.isSG=!1;case 7:return t.prev=7,t.next=10,e.getLazadaDetailAddress("","provinceList","ProvinceId");case 10:return t.next=12,e.handlerChange1();case 12:t.next=22;break;case 14:return t.prev=14,t.t0=t["catch"](7),e.$message("没有该站点的信息，已为您重新选择"),e.itselfCountry="TH",t.next=20,e.getLazadaDetailAddress("","provinceList","ProvinceId");case 20:return t.next=22,e.handlerChange1();case 22:case"end":return t.stop()}}),t,null,[[7,14]])})))()},sendData:function(e){this.itselfProvinceId=e.province_id,this.itselfProvinceText=e.province_text,this.itselfCityId=e.city_id,this.itselfCityText=e.city_text,this.itselfDistrictId="TW"===this.itselfCountry?1:e.distinct_id,this.itselfDistinctText="TW"===this.itselfCountry?"":e.distinct_text},handleSelectionChange:function(e){this.multipleSelection=e},getRowKey:function(e){return e.sysMallId}}},f=u,p=(a("6995"),a("2877")),h=Object(p["a"])(f,s,i,!1,null,"34adde4c",null);t["default"]=h.exports},"66d3":function(e,t,a){"use strict";var s,i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrap"},[a("el-form",{attrs:{"label-position":"right","label-width":"80px"}},[a("el-form-item",{attrs:{label:"收货省："}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择",size:"mini"},on:{change:function(t){e.flag=!1}},model:{value:e.province,callback:function(t){e.province=t},expression:"province"}},e._l(e.provinceList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.RegionName||e.division_name,value:e.RegionId||e.id}})})),1)],1),a("el-form-item",{attrs:{label:"收货市："}},[a("el-select",{attrs:{disabled:!e.province,placeholder:"请选择",size:"mini"},on:{change:function(t){e.flag=!1}},model:{value:e.city,callback:function(t){e.city=t},expression:"city"}},e._l(e.cityList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.RegionName||e.division_name,value:e.RegionId||e.id}})})),1)],1),"TW"!==e.country?a("el-form-item",{attrs:{label:"收货区："}},[a("el-select",{attrs:{disabled:!e.city,placeholder:"请选择",size:"mini"},on:{change:function(t){e.flag=!1}},model:{value:e.distinct,callback:function(t){e.distinct=t},expression:"distinct"}},e._l(e.distinctList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.RegionName||e.division_name,value:e.RegionId||e.id}})})),1)],1):e._e()],1)],1)},r=[],n=a("ade3"),l=a("1da1"),o=(a("96cf"),a("159b"),a("d3b7"),a("25f0"),s={name:"AddressModel",props:{isInit:{type:Boolean,default:!1}},data:function(){return{provinceList:[],cityList:[],distinctList:[],province:"",city:"",distinct:"",provinceName:"",cityName:"",distinctName:"",addressData:{},flag:!1}},watch:{country:{handler:function(e,t){this.getPddAddressModel("0","provinceList","province")}},province:{handler:function(e,t){var a=this;this.getPddAddressModel(this.province,"cityList","city"),this.provinceList.forEach((function(e){e.RegionId!==a.province&&e.id!==a.province||(a.addressData["province_id"]=e.RegionId||e.id.toString(),a.addressData["province_text"]=e.RegionName||e.division_name)})),this.sendData()},deep:!0},city:{handler:function(e,t){var a=this;this.getPddAddressModel(this.city,"distinctList","distinct"),this.cityList.forEach((function(e){e.RegionId!==a.city&&e.id!==a.city||(a.addressData["city_id"]=e.RegionId||e.id.toString(),a.addressData["city_text"]=e.RegionName||e.division_name)})),this.sendData()},deep:!0},distinct:{handler:function(e,t){var a=this;this.distinctList.forEach((function(e){e.RegionId!==a.distinct&&e.id!==a.distinct||(a.addressData["distinct_id"]="TW"===a.country?"":e.RegionId,a.addressData["distinct_text"]="TW"===a.country?"":e.RegionName)})),this.sendData()},deep:!0}}},Object(n["a"])(s,"props",{country:{type:String,default:""}}),Object(n["a"])(s,"mounted",(function(){this.isInit&&this.init()})),Object(n["a"])(s,"methods",{update:function(e,t,a){var s=this;return Object(l["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return s.flag=!0,i.next=3,s.getPddAddressModel("0","provinceList","province");case 3:return s.province=e.toString(),i.next=6,s.getPddAddressModel(s.province,"cityList","city");case 6:return s.city=t.toString(),i.next=9,s.getPddAddressModel(s.city,"distinctList","distinctList");case 9:s.distinct=a.toString(),s.sendData();case 11:case"end":return i.stop()}}),i)})))()},init:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.flag=!1,t.next=3,e.getPddAddressModel("0","provinceList","province");case 3:e.sendData();case 4:case"end":return t.stop()}}),t)})))()},getPddAddressModel:function(e,t,a){var s=this;return Object(l["a"])(regeneratorRuntime.mark((function i(){var r,n,l,o;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if("TW"!==s.country){i.next=10;break}return r=s.$filters.sitePlatform("TW"),i.next=4,s.$commodityService.getShopeeAddress(r,"1",e);case 4:n=i.sent,l=JSON.parse(n),s[t]=l,s[a]=s.flag?s[a]:s[t][0]?s[t][0].id:"",i.next=15;break;case 10:return i.next=12,s.$BaseUtilService.getPddAddressModel(e);case 12:o=i.sent,s[t]=o,s[a]=s.flag?s[a]:s[t][0].RegionId;case 15:case"end":return i.stop()}}),i)})))()},sendData:function(){this.$emit("sendData",this.addressData)}}),s),c=o,d=(a("c399"),a("2877")),u=Object(d["a"])(c,i,r,!1,null,"4ea92bd6",null);t["a"]=u.exports},6995:function(e,t,a){"use strict";a("84ab")},7558:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("ul",{staticClass:"storeChooseUL"},[a("li",[a("span",{style:{width:e.spanWidth}},[e._v("所属站点：")]),a("el-select",{staticClass:"siteSelectBox",attrs:{size:"mini",filterable:""},on:{change:e.getsite},model:{value:e.countryVal,callback:function(t){e.countryVal=t},expression:"countryVal"}},[e.isAll?a("el-option",{attrs:{label:"全部",value:""}}):e._e(),e._l(e.countries,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})}))],2)],1),a("li",[a("span",{style:{width:e.spanWidth}},[e._v("店铺分组：")]),a("el-select",{staticClass:"selectBox",attrs:{placeholder:"",multiple:"","collapse-tags":"",size:"mini",filterable:""},model:{value:e.groupId,callback:function(t){e.groupId=t},expression:"groupId"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._l(e.groupIdList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.group_name,value:e.id}})}))],2)],1),e.showMall?a("li",[a("span",{style:{width:e.spanWidth}},[e._v("店铺名称：")]),a("el-select",{staticClass:"selectBox",attrs:{placeholder:"",multiple:"","collapse-tags":"",size:"mini",filterable:""},model:{value:e.site,callback:function(t){e.site=t},expression:"site"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._l(e.siteList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.mall_alias_name||e.platform_mall_name,value:e.platform_mall_id}})}))],2)],1):e._e()])])},i=[],r=a("1da1"),n=(a("96cf"),a("159b"),a("fb6a"),a("d3b7"),a("25f0"),a("c740"),a("4de4"),a("7646")),l={name:"Storechoosemall",props:{showMall:{type:Boolean,default:!1},spanWidth:{type:String,default:"80px"},isAll:{type:Boolean,default:function(){return!1}},source:{type:String,default:function(){return""}}},data:function(){return{isAllowSet1:!0,isAllowSet2:!0,countryVal:null,groupId:[],groupIdList:[],site:[],siteList:[],countries:this.$filters.countries_option,mallListAPIInstance:new n["a"](this)}},watch:{countryVal:{handler:function(e,t){this.isAllowSet2=!1,this.groupId=[],this.groupIdList=[],this.ddMallGoodsGetMallList(1)},deep:!0},groupId:{handler:function(e,t){var a=this;if(this.isAllowSet2){this.isAllowSet2=!1;var s=t.indexOf("")>-1,i=e.indexOf("")>-1;s!==i?i?(this.groupId=[""],this.groupIdList.forEach((function(e){a.groupId.push(e.id)}))):this.groupId=[]:i?this.groupId=e.slice(1):this.groupIdList.length>0&&this.groupId.length===this.groupIdList.length&&this.groupId.unshift(""),setTimeout((function(){a.isAllowSet2=!0,a.ddMallGoodsGetMallList(2)}),10)}},deep:!0},site:{handler:function(e,t){var a=this;if(this.isAllowSet1){this.isAllowSet1=!1;var s=t.indexOf("")>-1,i=e.indexOf("")>-1;s!==i?i?(this.site=[""],this.siteList.forEach((function(e){a.site.push(e.platform_mall_id)}))):this.site=[]:i?this.site=e.slice(1):this.siteList.length>0&&this.siteList.length===this.site.length&&this.site.unshift(""),setTimeout((function(){a.changeMallList(),a.isAllowSet1=!0}))}},deep:!0}},mounted:function(){this.countryVal=this.isAll?"":"TH"},methods:{getsite:function(e){var t=e;this.$emit("getSite",t)},changeSelect:function(e){return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},ddMallGoodsGetMallList:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,s,i,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.site=[],a=t.countryVal,s=t.groupId.indexOf("")>-1&&t.groupId.slice(1).toString()||t.groupId.toString(),i={country:a,mallGroupIds:s},e.next=6,t.mallListAPIInstance.ddMallGoodsGetMallList(i);case 6:r=e.sent,200===r.code?(t.siteList=r.data,0===t.groupIdList.length&&(t.groupId=[""],t.siteList.forEach((function(e){var a=t.groupIdList.findIndex((function(t){return t.id===e.group_id}));e.group_name&&a<0&&(t.groupIdList.push({group_name:e.group_name,id:e.group_id}),t.groupId.push(e.group_id))}))),setTimeout((function(){t.isAllowSet2=!0,t.isAllowSet1=!0,t.site=[""]}),10)):t.$message.error("获取分组、店铺列表失败");case 8:case"end":return e.stop()}}),e)})))()},changeMallList:function(){var e=this,t=[];this.site.forEach((function(a){if(a){var s=e.siteList.filter((function(e){return e.platform_mall_id===a}));t.push(s[0])}})),this.source?(t["country"]=this.countryVal,this.$emit("changeMallList",{mallList:t,source:this.source})):(t["country"]=this.countryVal,this.$emit("changeMallList",t))}}},o=l,c=(a("3e66"),a("2877")),d=Object(c["a"])(o,s,i,!1,null,null,null);t["a"]=d.exports},"84ab":function(e,t,a){},c399:function(e,t,a){"use strict";a("07e7")},fd04:function(e,t,a){}}]);