(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-07f4376c"],{2341:function(e,t,a){"use strict";a("f48f")},5962:function(e,t,a){"use strict";a("748a")},"748a":function(e,t,a){},e5a1:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"contaniner"},[a("el-row",{staticClass:"header"},[a("ul",{staticStyle:{"margin-bottom":"10px"}},[a("li",[a("span",[e._v("预报时间：")]),a("el-date-picker",{attrs:{"unlink-panels":"",size:"mini",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.form.created_time,callback:function(t){e.$set(e.form,"created_time",t)},expression:"form.created_time"}})],1),a("li",[a("span",[e._v("签收时间：")]),a("el-date-picker",{attrs:{"unlink-panels":"",size:"mini",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.form.sign_Time,callback:function(t){e.$set(e.form,"sign_Time",t)},expression:"form.sign_Time"}})],1),a("li",[a("span",[e._v("中转仓：")]),a("el-select",{attrs:{size:"mini",filterable:""},on:{change:function(t){e.form.oversea_wid="",e.widCollect(1)}},model:{value:e.form.wid,callback:function(t){e.$set(e.form,"wid",t)},expression:"form.wid"}},e._l(e.widList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.warehouse_name,value:e.id}})})),1)],1),a("li",[a("span",[e._v("海外仓：")]),a("el-select",{attrs:{size:"mini",filterable:""},model:{value:e.form.oversea_wid,callback:function(t){e.$set(e.form,"oversea_wid",t)},expression:"form.oversea_wid"}},e._l(e.overseaWidList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.warehouse_name,value:e.id}})})),1)],1),a("li",[a("span",[e._v("是否审核：")]),a("el-select",{attrs:{size:"mini",filterable:""},model:{value:e.form.is_verify,callback:function(t){e.$set(e.form,"is_verify",t)},expression:"form.is_verify"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._l(e.isVerifyList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.value}})}))],2)],1)]),a("ul",{staticStyle:{"margin-bottom":"10px"}},[a("li",[a("span",[e._v("入库时间：")]),a("el-date-picker",{attrs:{"unlink-panels":"",size:"mini",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.form.store_time,callback:function(t){e.$set(e.form,"store_time",t)},expression:"form.store_time"}})],1),a("li",[a("span",[e._v("物流单号：")]),a("el-input",{attrs:{clearable:"",size:"mini",oninput:"value=value.replace(/\\s+/g,'')"},model:{value:e.form.package_code,callback:function(t){e.$set(e.form,"package_code",t)},expression:"form.package_code"}})],1),a("li",[a("span",{staticStyle:{width:"121px","text-align":"right"}},[e._v("海外仓单号：")]),a("el-input",{attrs:{clearable:"",size:"mini",oninput:"value=value.replace(/\\s+/g,'')"},model:{value:e.form.forecast_code,callback:function(t){e.$set(e.form,"forecast_code",t)},expression:"form.forecast_code"}})],1),a("li",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){e.page=1,e.getStockingForecastLists()}}},[e._v("搜 索")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){e.foreignVisible=!0}}},[e._v("发起预报")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.deleteForecast(e.multipleSelection,2)}}},[e._v("批量删除")]),a("el-button",{attrs:{type:"primary",size:"mini"}},[e._v("导出数据")]),a("el-button",{attrs:{type:"primary",size:"mini"}},[e._v("海外仓商品预报教程下载")])],1)]),a("ul",[a("li",[a("span",{staticStyle:{color:"red"}},[e._v("温馨提示：1、为让仓库方便快捷的查找您备货的商品，请在您寄送的包裹上面贴上系统的商品标签码      2、打印尺寸应不小于宽78mm x 高88mm ")])]),a("li",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.downBarCode}},[e._v("下载预报单条形码")])],1),a("li",[a("el-checkbox",{model:{value:e.showConsole,callback:function(t){e.showConsole=t},expression:"showConsole"}},[e._v("隐藏日志")])],1)])]),a("el-row",{attrs:{id:"article"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.isShowLoading,expression:"isShowLoading"}],ref:"plTable",attrs:{height:"calc(100vh - 250px)",data:e.tableData,"header-cell-style":{backgroundColor:"#f5f7fa"}},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{align:"center",type:"selection",width:"50",fixed:""}}),a("el-table-column",{attrs:{align:"center",type:"index",label:"序号",fixed:""}}),a("el-table-column",{attrs:{prop:"package_code",label:"预报物流单号",width:"120",align:"center",fixed:""}}),a("el-table-column",{attrs:{prop:"forecast_code",label:"海外仓单号",width:"150",align:"center"}}),a("el-table-column",{attrs:{prop:"wid",label:"中转仓",align:"center",width:"120"}}),a("el-table-column",{attrs:{prop:"oversea_wid",label:"海外仓",align:"center",width:"130"}}),a("el-table-column",{attrs:{prop:"status",label:"预报单状态",align:"center",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(e.statusObj[a.status]?e.statusObj[a.status]:"已拦截(其他原因)")+" ")]}}])}),a("el-table-column",{attrs:{prop:"created_at",label:"预报时间",align:"center",width:"140"}}),a("el-table-column",{attrs:{label:"签收时间",align:"center",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.sign_time)+" ")]}}])}),a("el-table-column",{attrs:{prop:"store_time",label:"中转仓入库时间",align:"center",width:"140"}}),a("el-table-column",{attrs:{prop:"goods_total",label:"商品总量",align:"center",width:"100"}}),a("el-table-column",{attrs:{prop:"goods_price_total",label:"商品总价",align:"center",width:"100"}}),a("el-table-column",{attrs:{label:"商品详情",align:"center",width:"130"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){e.detailsVisible=!0,e.getDetails(i)}}},[e._v("查看商品详情")])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center",width:"95"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.deleteForecast(i,1)}}},[e._v("删 除")])]}}])}),a("el-table-column",{attrs:{label:"运输方式",align:"center",width:"90"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(e.shipTypeObj[a.ship_type])+" ")]}}])}),a("el-table-column",{attrs:{prop:"is_verify",label:"审核状态",align:"center",width:"90"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(e.isVerifyObj[a.is_verify])+" ")]}}])}),a("el-table-column",{attrs:{prop:"verify_remark",label:"审核备注",align:"center",width:"140"}}),a("el-table-column",{attrs:{prop:"",label:"增值服务(贴单/质检)",align:"center",width:"150"}}),a("el-table-column",{attrs:{prop:"remark",label:"备注",align:"center",width:"140"}}),a("el-table-column",{attrs:{prop:"warehouse_remark",label:"仓库备注",align:"center",width:"140"}})],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"","current-page":e.page,"page-sizes":[30,50,100],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),a("div",{staticClass:"logging"},[a("Logs",{ref:"Logs",attrs:{clear:""},model:{value:e.showConsole,callback:function(t){e.showConsole=t},expression:"showConsole"}})],1),a("el-dialog",{staticClass:"details-dialog",attrs:{title:"预报商品详情",visible:e.detailsVisible,width:"800px","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.detailsVisible=t}}},[a("el-table",{attrs:{height:"420",data:e.detailsData,"header-cell-style":{backgroundColor:"#f5f7fa"},"row-style":{color:"black",height:"50px"}}},[a("el-table-column",{attrs:{width:"50",align:"center",type:"index",label:"序号",fixed:""}}),a("el-table-column",{attrs:{width:"100",align:"center",label:"预报物流单号",prop:"package_code",fixed:""}}),a("el-table-column",{attrs:{width:"80",align:"center",label:"商品状态"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.status?e.skuStatusObj[a.status]:"")+" ")]}}])}),a("el-table-column",{attrs:{width:"120",align:"center",label:"商品编号(SKU)",prop:"sku_id"}}),a("el-table-column",{attrs:{width:"130",align:"center",label:"系统商品编码",prop:"sys_sku_id"}}),a("el-table-column",{attrs:{width:"150",align:"center",label:"签收时间",prop:"sign_time"}}),a("el-table-column",{attrs:{width:"150",align:"center",label:"中转仓入库时间",prop:"store_time"}}),a("el-table-column",{attrs:{width:"100",align:"center",label:"商品名称",prop:"goods_name"}}),a("el-table-column",{attrs:{width:"80",align:"center",label:"商品数据量",prop:"sku_num"}}),a("el-table-column",{attrs:{width:"120",align:"center",label:"商品单价(RMB)",prop:"sku_price"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.sku_price?parseInt(a.sku_price):"")+" ")]}}])}),a("el-table-column",{attrs:{width:"100",align:"center",label:"商品规格",prop:"sku_name","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{width:"80",align:"center",label:"商品图片"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[i.sku_image?a("el-tooltip",{staticStyle:{width:"50px",height:"50px"},attrs:{effect:"light",placement:"right-end","visible-arrow":!1,enterable:!1}},[a("div",{attrs:{slot:"content"},slot:"content"},[a("img",{attrs:{src:i.sku_image,width:"300px",height:"300px"}})]),a("el-image",{staticStyle:{width:"40px",height:"40px"},attrs:{src:i.sku_image}})],1):e._e()]}}])}),a("el-table-column",{attrs:{width:"350",align:"center",label:"商品链接",prop:"sku_url","show-overflow-tooltip":""}})],1)],1),a("el-dialog",{staticClass:"foreign-dialog",attrs:{title:"预报商品详情",visible:e.foreignVisible,width:"1000px","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.foreignVisible=t}}},[a("div",{staticStyle:{display:"flex"}},[a("div",[a("ul",[a("li",[a("span",[e._v("中转仓库：")]),a("el-select",{attrs:{size:"mini",filterable:""},on:{change:function(t){e.dialogOverseaWid="",e.widCollect(2)}},model:{value:e.dialogWid,callback:function(t){e.dialogWid=t},expression:"dialogWid"}},e._l(e.widList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.warehouse_name,value:e.id}})})),1)],1),a("li",[a("span",[e._v("目的仓库：")]),a("el-select",{attrs:{size:"mini",filterable:""},model:{value:e.dialogOverseaWid,callback:function(t){e.dialogOverseaWid=t},expression:"dialogOverseaWid"}},e._l(e.dialogOverseaWidList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.warehouse_name,value:e.id}})})),1)],1)]),a("ul",[a("li",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.itselfGoodsImport}},[e._v("自有商品导入")]),a("el-upload",{ref:"importRef",staticStyle:{margin:"0 10px"},attrs:{accept:".xls, .xlsx",action:"https://jsonplaceholder.typicode.com/posts/","on-change":e.importTemplate,"show-file-list":!1,"auto-upload":!1}},[a("el-button",{attrs:{data:e.importTemplateData,size:"mini",type:"primary"}},[e._v(" 批量Excel导入 ")])],1),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.downloadTemplate}},[e._v("下载预报模板")]),a("el-button",{attrs:{type:"primary",size:"mini"}},[e._v("导出勾选数据")])],1)]),a("span",{staticStyle:{color:"red"}},[e._v("提示：1：应仓库要求，预报单中需包含商品的体积(长宽高)，需下载最新版的预报模板")])]),a("div",{staticClass:"wid-info"},[a("p",[e._v(" "+e._s(""+e.widInfo.warehouse_name)+" ")]),a("p",[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.widInfo.full_address,placement:"top"}},[a("p",{staticClass:"address"},[e._v(e._s("地址："+e.widInfo.full_address))])])],1),a("p",[e._v(" "+e._s("收件人："+e.widInfo.receiving_name)+" ")]),a("p",[e._v(" "+e._s("联系电话："+e.widInfo.receiving_tel)+" ")])])]),a("el-table",{attrs:{height:"420",data:e.foreignData,"header-cell-style":{backgroundColor:"#f5f7fa"},"row-style":{color:"black",height:"50px"}}},[a("el-table-column",{attrs:{align:"center",type:"selection",width:"50",fixed:""}}),a("el-table-column",{attrs:{width:"50",align:"center",type:"index",label:"序号",fixed:""}}),a("el-table-column",{attrs:{width:"100",align:"center",label:"预报物流单号",prop:"package_code",fixed:""}}),a("el-table-column",{attrs:{width:"120",align:"center",label:"商品编号(SKU)",prop:"sku_id"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.sku_list[0].sku_id)+" ")]}}])}),a("el-table-column",{attrs:{width:"130",align:"center",label:"商品名称",prop:"goods_name"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.sku_list[0].goods_name)+" ")]}}])}),a("el-table-column",{attrs:{width:"150",align:"center",label:"商品数量",prop:"sku_num"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.sku_list[0].sku_num)+" ")]}}])}),a("el-table-column",{attrs:{width:"150",align:"center",label:"商品单价(RMB)",prop:"sku_price"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.sku_list[0].sku_price)+" ")]}}])}),a("el-table-column",{attrs:{width:"100",align:"center",label:"商品规格",prop:"sku_name","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.sku_list[0].sku_name)+" ")]}}])}),a("el-table-column",{attrs:{width:"80",align:"center",label:"商品图片"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[i.sku_list[0].sku_image?a("el-tooltip",{staticStyle:{width:"50px",height:"50px"},attrs:{effect:"light",placement:"right-end","visible-arrow":!1,enterable:!1}},[a("div",{attrs:{slot:"content"},slot:"content"},[a("img",{attrs:{src:i.sku_list[0].sku_image,width:"300px",height:"300px"}})]),a("el-image",{staticStyle:{width:"40px",height:"40px"},attrs:{src:i.sku_list[0].sku_image}})],1):e._e()]}}])}),a("el-table-column",{attrs:{width:"350",align:"center",label:"商品链接",prop:"sku_url","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.sku_list[0].sku_url)+" ")]}}])}),a("el-table-column",{attrs:{width:"120",align:"center",label:"运输方式",prop:"ship_type"}}),a("el-table-column",{attrs:{width:"100",align:"center",label:"备注",prop:"remark","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{width:"100",align:"center",label:"操作状态",prop:"sku_url",fixed:"right"}})],1)],1),a("el-dialog",{staticClass:"itself-goods-dialog",attrs:{title:"导入预报",visible:e.itselfGoodsVisible,width:"1200px","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.itselfGoodsVisible=t}}},[a("ul",[a("li",[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("产品中心商品")])]),a("div",{staticStyle:{display:"flex"}},[a("product-choose"),a("div",{staticClass:"left-wrap"},[a("ul",{staticStyle:{display:"block"}},[a("li",[a("span",[e._v("商品名称：")]),a("el-input",{attrs:{clearable:"",size:"mini",oninput:"value=value.replace(/\\s+/g,'')"},model:{value:e.form.package_code,callback:function(t){e.$set(e.form,"package_code",t)},expression:"form.package_code"}})],1),a("li",[a("span",[e._v("商品编码：")]),a("el-input",{attrs:{clearable:"",size:"mini",oninput:"value=value.replace(/\\s+/g,'')"}})],1),a("li",[a("span",[e._v("SKU编码：")]),a("el-input",{attrs:{clearable:"",size:"mini",oninput:"value=value.replace(/\\s+/g,'')"}}),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"mini",type:"primary"}},[e._v("搜 索")])],1)])])],1),a("el-table",{attrs:{height:"420",data:e.foreignData,"header-cell-style":{backgroundColor:"#f5f7fa"},"row-style":{color:"black",height:"50px"}}},[a("el-table-column",{attrs:{width:"100",align:"center",label:"商品ID",prop:"package_code"}}),a("el-table-column",{attrs:{width:"160",align:"center",label:"商品名称",prop:"package_code"}}),a("el-table-column",{attrs:{width:"80",align:"center",label:"主图"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[i.sku_list[0].sku_image?a("el-tooltip",{staticStyle:{width:"50px",height:"50px"},attrs:{effect:"light",placement:"right-end","visible-arrow":!1,enterable:!1}},[a("div",{attrs:{slot:"content"},slot:"content"},[a("img",{attrs:{src:i.sku_list[0].sku_image,width:"300px",height:"300px"}})]),a("el-image",{staticStyle:{width:"40px",height:"40px"},attrs:{src:i.sku_list[0].sku_image}})],1):e._e()]}}])}),a("el-table-column",{attrs:{width:"120",align:"center",label:"商品价格",prop:"ship_type"}}),a("el-table-column",{attrs:{width:"103",align:"center",label:"操作",prop:"remark"},scopedSlots:e._u([{key:"default",fn:function(t){t.row;return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){e.skuDetailsVisible=!0,e.skuDetails()}}},[e._v("SKU详情")])]}}])})],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"","current-page":e.page,"page-sizes":[50,100,200],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1),a("li",[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("预报SKU")])]),a("div",{staticStyle:{display:"flex"}},[a("div",{staticClass:"right-wrap"},[a("ul",[a("li",[a("span",[e._v("物流单号：")]),a("el-input",{attrs:{clearable:"",size:"mini",oninput:"value=value.replace(/\\s+/g,'')"}})],1),a("li",[a("span",[e._v("商品数量：")]),a("el-input",{attrs:{clearable:"",size:"mini",oninput:"value=value.replace(/\\s+/g,'')"}})],1),a("li",[a("span",[e._v("运输方式：")]),a("el-select",{attrs:{size:"mini",filterable:""}},e._l(2,(function(e,t){return a("el-option",{key:t})})),1)],1)]),a("ul",[a("li",[a("span",[e._v("商品体积：")]),a("el-input",{staticStyle:{width:"36px"},attrs:{size:"mini",oninput:"value=value.replace(/\\s+/g,'')"}}),e._v("* "),a("el-input",{staticStyle:{width:"36px"},attrs:{size:"mini",oninput:"value=value.replace(/\\s+/g,'')"}}),e._v("* "),a("el-input",{staticStyle:{width:"36px"},attrs:{size:"mini",oninput:"value=value.replace(/\\s+/g,'')"}})],1),a("li",[a("span",[e._v("贴单服务：")]),a("el-select",{attrs:{size:"mini",filterable:""}},e._l(2,(function(e,t){return a("el-option",{key:t})})),1)],1),a("li",[a("span",{staticStyle:{width:"81px","text-align":"right"}},[e._v("质检服务：")]),a("el-select",{attrs:{size:"mini",filterable:""}},e._l(2,(function(e,t){return a("el-option",{key:t})})),1)],1)]),a("ul",[a("li",[a("span",[e._v("备注信息：")]),a("el-input",{attrs:{clearable:"",size:"mini",oninput:"value=value.replace(/\\s+/g,'')"}})],1),a("li",[a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"mini",type:"primary"}},[e._v("批量设置")]),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"mini",type:"primary"}},[e._v("添加到预报单")])],1)])])]),a("el-table",{attrs:{height:"420",data:e.foreignData,"header-cell-style":{backgroundColor:"#f5f7fa"},"row-style":{color:"black",height:"50px"}}},[a("el-table-column",{attrs:{width:"100",align:"center",label:"SkuID",prop:"package_code"}}),a("el-table-column",{attrs:{width:"160",align:"center",label:"Sku名称",prop:"package_code"}}),a("el-table-column",{attrs:{width:"80",align:"center",label:"Sku图片"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[i.sku_list[0].sku_image?a("el-tooltip",{staticStyle:{width:"50px",height:"50px"},attrs:{effect:"light",placement:"right-end","visible-arrow":!1,enterable:!1}},[a("div",{attrs:{slot:"content"},slot:"content"},[a("img",{attrs:{src:i.sku_list[0].sku_image,width:"300px",height:"300px"}})]),a("el-image",{staticStyle:{width:"40px",height:"40px"},attrs:{src:i.sku_list[0].sku_image}})],1):e._e()]}}])}),a("el-table-column",{attrs:{width:"120",align:"center",label:"Sku价格",prop:"ship_type"}}),a("el-table-column",{attrs:{width:"120",align:"center",label:"基本设置"},scopedSlots:e._u([{key:"default",fn:function(t){t.row;return[a("div",[a("el-form",{attrs:{"label-position":"right","label-width":"80px"}},[a("el-form-item",{attrs:{label:"备注:"}},[a("el-input",{attrs:{size:"mini"}})],1),a("el-form-item",{attrs:{label:"体积:"}},[a("el-input",{staticStyle:{width:"36px"},attrs:{size:"mini",oninput:"value=value.replace(/\\s+/g,'')"}}),e._v("* "),a("el-input",{staticStyle:{width:"36px"},attrs:{size:"mini",oninput:"value=value.replace(/\\s+/g,'')"}}),e._v("* "),a("el-input",{staticStyle:{width:"36px"},attrs:{size:"mini",oninput:"value=value.replace(/\\s+/g,'')"}})],1),a("el-form-item",{attrs:{label:"物流单号:"}},[a("el-input",{attrs:{size:"mini"}})],1)],1),a("el-form",{attrs:{"label-position":"right","label-width":"80px"}},[a("el-form-item",{attrs:{label:"运输方式:"}},[a("el-select",{attrs:{size:"mini",filterable:""}},e._l(2,(function(e,t){return a("el-option",{key:t})})),1)],1),a("el-form-item",{attrs:{label:"贴单服务:"}},[a("el-select",{attrs:{size:"mini",filterable:""}},e._l(2,(function(e,t){return a("el-option",{key:t})})),1)],1),a("el-form-item",{attrs:{label:"质检服务:"}},[a("el-select",{attrs:{size:"mini",filterable:""}},e._l(2,(function(e,t){return a("el-option",{key:t})})),1)],1)],1)],1)]}}])}),a("el-table-column",{attrs:{width:"120",align:"center",label:"Sku库存",prop:"ship_type"}}),a("el-table-column",{attrs:{width:"120",align:"center",label:"Sku数量",prop:"ship_type"},scopedSlots:e._u([{key:"default",fn:function(e){e.row;return[a("el-input",{attrs:{size:"mini"}})]}}])}),a("el-table-column",{attrs:{width:"103",align:"center",label:"操作",prop:"remark"},scopedSlots:e._u([{key:"default",fn:function(t){t.row;return[a("el-button",{attrs:{size:"mini",type:"primary"}},[e._v("移除")])]}}])})],1)],1)],1)])]),a("el-dialog",{staticClass:"sku-details-dialog",attrs:{title:"选择需要预报的SKU",visible:e.skuDetailsVisible,width:"570px","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.skuDetailsVisible=t}}},[a("el-table",{attrs:{height:"420",data:e.detailsData,"header-cell-style":{backgroundColor:"#f5f7fa"},"row-style":{color:"black",height:"50px"}}},[a("el-table-column",{attrs:{width:"50",align:"center",type:"index",label:"序号"}}),a("el-table-column",{attrs:{width:"100",align:"center",label:"SkuID",prop:"package_code"}}),a("el-table-column",{attrs:{width:"100",align:"center",label:"Sku名称",prop:"package_code"}}),a("el-table-column",{attrs:{width:"80",align:"center",label:"Sku图片"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[i.sku_image?a("el-tooltip",{staticStyle:{width:"50px",height:"50px"},attrs:{effect:"light",placement:"right-end","visible-arrow":!1,enterable:!1}},[a("div",{attrs:{slot:"content"},slot:"content"},[a("img",{attrs:{src:i.sku_image,width:"300px",height:"300px"}})]),a("el-image",{staticStyle:{width:"40px",height:"40px"},attrs:{src:i.sku_image}})],1):e._e()]}}])}),a("el-table-column",{attrs:{width:"100",align:"center",label:"Sku价格",prop:"package_code"}}),a("el-table-column",{attrs:{width:"100",align:"center",label:"Sku库存",prop:"package_code"}})],1)],1)],1)},s=[],l=a("1da1"),r=(a("d81d"),a("99af"),a("159b"),a("4ec9"),a("d3b7"),a("3ca3"),a("ddb0"),a("c740"),a("b0c0"),a("96cf"),a("d4ec")),n=a("bee2"),o=function(){function e(t){Object(r["a"])(this,e),this._this=t}return Object(n["a"])(e,[{key:"getStockingForecastLists",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){var a,i,s,l,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,a=t.created_time?"".concat(this._this.$dayjs(t.created_time[0]).format("YYYY-MM-DD 00:00:00"),"/").concat(this._this.$dayjs(t.created_time[1]).format("YYYY-MM-DD 23:59:59")):"",i=t.sign_Time?"".concat(this._this.$dayjs(t.sign_Time[0]).format("YYYY-MM-DD 00:00:00"),"/").concat(this._this.$dayjs(t.sign_Time[1]).format("YYYY-MM-DD 23:59:59")):"",s=t.store_time?"".concat(this._this.$dayjs(t.store_time[0]).format("YYYY-MM-DD 00:00:00"),"/").concat(this._this.$dayjs(t.store_time[1]).format("YYYY-MM-DD 23:59:59")):"",l={wid:t.wid,oversea_wid:t.oversea_wid,package_code:t.package_code,forecast_code:t.forecast_code,created_time:a,sign_Time:i,store_time:s,is_verify:t.is_verify,page:t.page,pageSize:t.pageSize},e.next=7,this._this.$api.getStockingForecastLists(l);case 7:if(r=e.sent,200!==r.data.code){e.next=10;break}return e.abrupt("return",{code:200,data:r.data.data});case 10:return e.abrupt("return",{code:r.data.code,data:"".concat(r.data.message)});case 13:return e.prev=13,e.t0=e["catch"](0),e.abrupt("return",{code:-2,data:"getStockingForecastLists-catch： ".concat(e.t0)});case 16:case"end":return e.stop()}}),e,this,[[0,13]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"deleteForecast",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={purchase_order_sn:t},e.prev=1,e.next=4,this._this.$api.deleteForecast(a);case 4:if(i=e.sent,200!==i.data.code){e.next=7;break}return e.abrupt("return",{code:200});case 7:return e.abrupt("return",{code:i.data.code,data:"".concat(i.data.message)});case 10:return e.prev=10,e.t0=e["catch"](1),e.abrupt("return",{code:-2,data:"deleteForecast-catch： ".concat(e.t0)});case 13:case"end":return e.stop()}}),e,this,[[1,10]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getOverseasWarehouse",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._this.$api.getOverseasWarehouse();case 3:if(t=e.sent,200!==t.data.code){e.next=6;break}return e.abrupt("return",{code:200,data:t.data.data});case 6:return e.abrupt("return",{code:t.data.code,data:"".concat(t.data.message)});case 9:return e.prev=9,e.t0=e["catch"](0),e.abrupt("return",{code:-2,data:"getOverseasWarehouse-catch： ".concat(e.t0)});case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));function t(){return e.apply(this,arguments)}return t}()}]),e}(),c=a("0e0b"),d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("ul",[a("li",[a("span",[e._v("一级类目：")]),a("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择",size:"mini"},on:{change:function(t){e.selectCategroyList.selectCategroyList2="",e.CategroyCollect()}},model:{value:e.selectCategroyList.selectCategroyList1,callback:function(t){e.$set(e.selectCategroyList,"selectCategroyList1",t)},expression:"selectCategroyList.selectCategroyList1"}},e._l(e.CategroyList.pddCategroyList1,(function(e,t){return a("el-option",{key:e.id,attrs:{label:e.CatName,value:e.CatId1+"-"+e.CatName}})})),1)],1),a("li",[a("span",[e._v("二级类目：")]),a("el-select",{attrs:{disabled:!e.selectCategroyList.selectCategroyList1,placeholder:"请选择",size:"mini"},on:{change:function(t){e.selectCategroyList.selectCategroyList3="",e.CategroyCollect()}},model:{value:e.selectCategroyList.selectCategroyList2,callback:function(t){e.$set(e.selectCategroyList,"selectCategroyList2",t)},expression:"selectCategroyList.selectCategroyList2"}},e._l(e.CategroyList.pddCategroyList2,(function(e,t){return a("el-option",{key:e.id,attrs:{label:e.CatName,value:e.CatId2+"-"+e.CatName}})})),1)],1),a("li",[a("span",[e._v("三级类目：")]),a("el-select",{attrs:{clearable:"",disabled:!e.selectCategroyList.selectCategroyList2,placeholder:"请选择",size:"mini"},on:{change:function(t){return e.CategroyCollect()}},model:{value:e.selectCategroyList.selectCategroyList3,callback:function(t){e.$set(e.selectCategroyList,"selectCategroyList3",t)},expression:"selectCategroyList.selectCategroyList3"}},e._l(e.CategroyList.pddCategroyList3,(function(e,t){return a("el-option",{key:e.id,attrs:{label:e.CatName,value:e.CatId3+"-"+e.CatName}})})),1)],1)])])},u=[],p={name:"ProductChoose",props:{},data:function(){return{CategroyList:{selectAllCategroyList:[],allJdCategroyList:[],pddCategroyList1:[],pddCategroyList2:[],pddCategroyList3:[]},selectCategroyList:{selectCategroyList1:"",selectCategroyList2:"",selectCategroyList3:""}}},watch:{},mounted:function(){},methods:{}},g=p,h=(a("5962"),a("2877")),m=Object(h["a"])(g,d,u,!1,null,"0f029423",null),f=m.exports,_=a("1146"),b=a.n(_),w={components:{ProductChoose:f},data:function(){return{detailsVisible:!1,foreignVisible:!1,itselfGoodsVisible:!1,skuDetailsVisible:!1,isShowLoading:!1,showConsole:!0,ForeginStrockUp:new o(this),form:{wid:"",oversea_wid:"",package_code:"",forecast_code:"",created_time:"",sign_Time:"",store_time:"",is_verify:""},total:0,pageSize:30,page:1,tableData:[],detailsData:[],multipleSelection:[],importTemplateData:"",foreignData:[],dialogWid:"",dialogOverseaWid:"",widInfo:{},statusObj:{1:"用户已下单",2:"预报单已签收"},shipTypeObj:{1:"陆运",2:"海运",3:"空运"},isVerifyObj:{"-1":"未审核",1:"审核通过",2:"审核拒绝"},skuStatusObj:{1:"用户已下单",2:"签收",3:"称重入库",4:"商品sku_id与大包号已绑定",5:"商品sku_id与大包号已合包",6:"打印发票",7:"大包已出库",8:"海外仓已签收",9:"海外仓已入库",10:"海外仓已上架"},widList:[],overseaWidList:[],dialogOverseaWidList:[],isVerifyList:[{value:"-1",name:"未审核"},{value:"1",name:"审核成功"},{value:"2",name:"审核失败"}]}},mounted:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.form.created_time=[(new Date).getTime()-2592e6,new Date],t.next=3,e.getStockingForecastLists();case 3:return t.next=5,e.getOverseasWarehouse();case 5:return t.next=7,e.init();case 7:case"end":return t.stop()}}),t)})))()},methods:{getOverseasWarehouse:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.ForeginStrockUp.getOverseasWarehouse();case 2:a=t.sent,200===a.code?e.widList=a.data:e.$message.error("".concat(a.data));case 4:case"end":return t.stop()}}),t)})))()},widCollect:function(e){var t=this,a=[],i={};1===e?(this.widList.map((function(e){e.id===t.form.wid&&(a=e.child)})),this.overseaWidList=a,this.form.oversea_wid=a[0].id):(this.widList.map((function(e){e.id===t.dialogWid&&(a=e.child,i=e)})),this.widInfo=i,this.dialogOverseaWidList=a,this.dialogOverseaWid=a[0].id)},init:function(){this.form.wid=this.widList[0].id,this.form.oversea_wid=this.widList[0].child[0].id,this.overseaWidList=this.widList[0].child,this.dialogWid=this.widList[0].id,this.dialogOverseaWid=this.widList[0].child[0].id,this.dialogOverseaWidList=this.widList[0].child,this.widInfo=this.widList[0]},downBarCode:function(){var e="条形码",t=document.createElement("div");t.id="bar_code_id",t.innerHTML=e,document.body.appendChild(t),Object(c["i"])("#bar_code_id","cc")},skuDetails:function(){},warehouseTips:function(){var e=this,t="",a="";return this.widList.map((function(a){a.id===e.dialogWid&&(t=a.warehouse_name)})),this.dialogOverseaWidList.map((function(t){t.id===e.dialogOverseaWid&&(a=t.warehouse_name)})),{warehouseName:t,childName:a}},itselfGoodsImport:function(){var e=this,t=this.warehouseTips(),a=t.warehouseName,i=t.childName;this.$confirm("确定预报到中转仓库:".concat(a,",目的仓库:").concat(i),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.itselfGoodsVisible=!0}))},getDetails:function(e){this.detailsData=e.sku_list,this.detailsData.map((function(t){t.package_code=e.package_code}))},deleteForecast:function(e,t){var a=[];if(1===t)a.push(e.forecast_code);else{if(0===e.length)return this.$message("请先选择需要删除的数据");e.forEach((function(e){a.push(e.forecast_code)}))}this.delForecast(a)},delForecast:function(e){var t=this;e.forEach(function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(a){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.ForeginStrockUp.deleteForecast(a);case 2:i=e.sent,200===i?t.$refs.Logs.writeLog("单号【".concat(a,"】:删除成功"),!0):t.$refs.Logs.writeLog("单号【".concat(a,"】:").concat(i.data),!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.showConsole=!1,this.getStockingForecastLists()},getStockingForecastLists:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isShowLoading=!0,e.form.page=e.page,e.form.pageSize=e.pageSize,t.next=5,e.ForeginStrockUp.getStockingForecastLists(e.form);case 5:a=t.sent,200===a.code?(e.total=a.data.total,e.tableData=a.data.data,e.tableData.map((function(e){var t=0,a=0;e.sku_list.forEach((function(e){t+=e.sku_num?e.sku_num:0,a+=e.sku_price?parseInt(e.sku_price)*e.sku_num:0})),e.goods_total=t,e.goods_price_total=a}))):e.$message.error("".concat(a.data)),e.isShowLoading=!1;case 8:case"end":return t.stop()}}),t)})))()},batchImport:function(){var e=this,t=this.importTemplateData.length;if(t<=0)return this.$refs.Logs.writeLog("表格数据为空",!1),void(this.showConsole=!1);this.showConsole=!1,this.$refs.Logs.writeLog("开始读取数据...",!0);for(var a=[],i=[],s=new Map,l=0;l<t;l++){var r=this.importTemplateData[l],n=r["物流单号(必填：多个SKU可对应同一物流单号)"],o=r["商品编号(sku)(必填：只能填字母或数字)"],c=r["商品名称(必填：中文)"],d=r["商品数量(必填)"],u=r["商品单价(RMB)(必填)"],p=r["商品规格(必填)"],g=r["长(cm)(必填)"],h=r["宽(cm)(必填)"],m=r["高(cm)(必填)"],f=r["商品图片链接(请填写url地址)"],_=r["商品链接(请填写url地址)"],b=r["贴单服务(必填：填入是或否，同一物流单号取第一次填写的)"],w=r["质检服务(必填：填入是或否，同一物流单号取第一次填写的)"],v=r["运输方式(必填：填入陆运或海运，同一物流单号取第一次填写的)"],k=r["备注(同一物流单号只需填写一次，取第一次填写的备注)"];if(n)if(o)if(c)if(d)if(u)if(p)if(g)if(h)if(m)if(b)if(w)if(v){var y={package_code:n,is_wainscot:b,is_checked:w,ship_type:v,remark:k,sku_list:[{sku_id:o,goods_name:c,sku_num:d,sku_price:u,sku_name:p,sku_long:g,sku_width:h,sku_height:m,sku_image:f,sku_url:_}]};a.push(y)}else this.$refs.Logs.writeLog("【".concat(l+1,"】运输方式为空"),!1);else this.$refs.Logs.writeLog("【".concat(l+1,"】质检服务为空"),!1);else this.$refs.Logs.writeLog("【".concat(l+1,"】贴单服务为空"),!1);else this.$refs.Logs.writeLog("【".concat(l+1,"】高(cm)为空"),!1);else this.$refs.Logs.writeLog("【".concat(l+1,"】宽(cm)为空"),!1);else this.$refs.Logs.writeLog("【".concat(l+1,"】长(cm)为空"),!1);else this.$refs.Logs.writeLog("【".concat(l+1,"】商品规格为空"),!1);else this.$refs.Logs.writeLog("【".concat(l+1,"】商品单价(RMB)为空"),!1);else this.$refs.Logs.writeLog("【".concat(l+1,"】商品数量为空"),!1);else this.$refs.Logs.writeLog("【".concat(l+1,"】商品名称为空"),!1);else this.$refs.Logs.writeLog("【".concat(l+1,"】商品编号(sku)为空"),!1);else this.$refs.Logs.writeLog("【".concat(l+1,"】物流单号为空"),!1)}a.map((function(t){s.has(t.package_code&&t.sku_list[0].sku_id)?e.$refs.Logs.writeLog("过滤重复物流订单号【".concat(t.package_code,"】,商品编号(SKU)【").concat(t.sku_list[0].sku_id,"】"),!1):(s.set(t.package_code),s.set(t.sku_list[0].sku_id),e.foreignData.push(t))}));var x=JSON.parse(JSON.stringify(this.foreignData));x.forEach((function(e){var t=i.findIndex((function(t){return e.package_code===t.package_code}));-1!==t?i[t].sku_list.push(e.sku_list[0]):i.push(e)}))},importTemplate:function(e){var t=this,a={0:e.raw};if(!/\.(xls|xlsx)$/.test(a[0].name.toLowerCase()))return this.$refs.Logs.writeLog("格式错误,请上传xls、xlsx格式的文件",!1),void(this.showConsole=!1);if(a.length<=0)return this.$refs.Logs.writeLog("表格为空",!1),void(this.showConsole=!1);var i=new FileReader;i.onload=function(e){var a=e.target.result,i=b.a.read(a,{type:"binary"}),s=i.SheetNames[0],l=b.a.utils.sheet_to_json(i.Sheets[s]);t.importTemplateData=l,t.batchImport(),l=null,t.$refs.importRef.value=""},i.readAsBinaryString(a[0])},downloadTemplate:function(){var e='<tr>\n      <td style="width: 300px">物流单号<span style="color:red">(必填：多个SKU可对应同一物流单号)</span></td>\n      <td style="width: 300px">商品编号(sku)<span style="color:red">(必填：只能填字母或数字)</span></td>\n      <td style="width: 180px">商品名称<span style="color:red">(必填：中文)</span></td>\n      <td style="width: 100px">商品数量<span style="color:red">(必填)</span></td>\n      <td style="width: 150px">商品单价(RMB)<span style="color:red">(必填)</span></td>\n      <td style="width: 150px">商品规格<span style="color:red">(必填)</span></td>\n      <td style="width: 100px">长(cm)<span style="color:red">(必填)</span></td>\n      <td style="width: 100px">宽(cm)<span style="color:red">(必填)</span></td>\n      <td style="width: 100px">高(cm)<span style="color:red">(必填)</span></td>\n      <td style="width: 400px">商品图片链接<span style="color:red">(请填写url地址)</span></td>\n      <td style="width: 400px">商品链接<span style="color:red">(请填写url地址)</span></td>\n      <td style="width: 400px">贴单服务<span style="color:red">(必填：填入是或否，同一物流单号取第一次填写的)</span></td>\n      <td style="width: 400px">质检服务<span style="color:red">(必填：填入是或否，同一物流单号取第一次填写的)</span></td>\n      <td style="width: 390px">运输方式<span style="color:red">(必填：填入陆运或海运，同一物流单号取第一次填写的)</span></td>\n      <td style="width: 380px">备注<span style="color:red">(同一物流单号只需填写一次，取第一次填写的备注)</span></td>\n      </tr>\n      <tr>\n        <td>ZT0001</td>\n        <td>TH135648</td>\n        <td>波司登极寒系列羽绒服</td>\n        <td>1</td>\n        <td>20</td>\n        <td>红色,L</td>\n        <td>10</td>\n        <td>20</td>\n        <td>30</td>\n        <td>https://img.alicdn.com/imgextra/i4/196993935/O1CN01BO1VFm1ewH8WsD5ms_!!196993935.jpg</td>\n        <td>https://detail.tmall.com/item.htm?id=558418048450</td>\n        <td>是</td>\n        <td>是</td>\n        <td>陆运</td>\n      </tr>\n      ';Object(c["h"])("海外仓备货预报模板",e)},handleSizeChange:function(e){this.page=1,this.pageSize=e,this.getStockingForecastLists()},handleCurrentChange:function(e){this.page=e,this.getStockingForecastLists()},handleSelectionChange:function(e){this.multipleSelection=e}}},v=w,k=(a("2341"),Object(h["a"])(v,i,s,!1,null,"0c7c2305",null));t["default"]=k.exports},f48f:function(e,t,a){}}]);