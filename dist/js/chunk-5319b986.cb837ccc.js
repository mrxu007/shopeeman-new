(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5319b986"],{"2b22":function(e,a,t){"use strict";var l=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"goods_tag_dialog"},[t("div",{staticClass:"on_new_dialog_box"},[t("div",[e._v("商品标签：")]),t("el-select",{staticStyle:{width:"200px"},attrs:{size:"mini"},model:{value:e.goodsTagAction,callback:function(a){e.goodsTagAction=a},expression:"goodsTagAction"}},e._l(e.goodsTagList,(function(a,l){return t("el-option",{key:a.id,attrs:{value:a.label_name}},[t("div",{staticStyle:{display:"flex","justify-content":"space-between","align-items":"center"}},[t("div",[e._v(e._s(a.label_name))]),t("i",{staticClass:"el-icon-circle-close close-right",on:{click:function(t){return t.stopPropagation(),e.deleteClick(a.id,l)}}})])])})),1)],1),t("div",{staticClass:"on_new_dialog_box",staticStyle:{"margin-top":"10px"}},[t("div",[e._v("当前标签：")]),t("el-input",{staticStyle:{width:"200px"},attrs:{size:"mini"},model:{value:e.goodsTagCurrent,callback:function(a){e.goodsTagCurrent=a},expression:"goodsTagCurrent"}})],1),t("div",{staticClass:"on_new_dialog_box",staticStyle:{"justify-content":"space-evenly","margin-top":"10px"}},[t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.updateGoodsTag}},[e._v("　确　定　")]),t("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.$emit("goodsTagChange","")}}},[e._v("　取　消　")])],1)])},n=[],r=t("1da1"),i=(t("7db0"),t("159b"),t("a434"),t("96cf"),t("0e0b")),o={name:"goods-label",props:{goodsTableSelect:{type:Array,default:function(){return[]}}},data:function(){return{goodsTagList:[],goodsTagAction:"",goodsTagCurrent:""}},watch:{goodsTagAction:function(e){this.goodsTagCurrent=e}},mounted:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.enterGoodsTag();case 2:case"end":return a.stop()}}),a)})))()},methods:{updateGoodsTag:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var t,l,n,r,o,u;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e.goodsTagCurrent===e.goodsTagAction){a.next=16;break}return a.next=3,e.$commodityService.addGoodsTag(e.goodsTagCurrent);case 3:if(t=a.sent,l=JSON.parse(t),200!==l.code){a.next=14;break}return a.next=8,e.$commodityService.getGoodsTagList();case 8:n=a.sent,r=JSON.parse(n),e.goodsTagList=r.data||[],e.goodsTagAction=e.goodsTagCurrent,a.next=16;break;case 14:return e.$message.error("商品标签设置失败"),a.abrupt("return");case 16:return o=e.goodsTagList.find((function(a){return a.label_name===e.goodsTagAction})),u=[],e.goodsTableSelect.forEach((function(e){u.push(Object.assign(JSON.parse(JSON.stringify(e)),{sysLabelId:o.id}))})),a.next=21,Object(i["c"])(u,e.setGoodsTag);case 21:e.$emit("goodsTagChange",{category:o});case 22:case"end":return a.stop()}}),a)})))()},setGoodsTag:function(e){var a=arguments,t=this;return Object(r["a"])(regeneratorRuntime.mark((function l(){var n,r;return regeneratorRuntime.wrap((function(l){while(1)switch(l.prev=l.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:{count:1},l.prev=1,l.next=4,t.$commodityService.addGoodsToTag(e.sysLabelId,[e.id]);case 4:r=l.sent,JSON.parse(r),l.next=11;break;case 8:l.prev=8,l.t0=l["catch"](1),t.$message.error("设置失败");case 11:return l.prev=11,n.count--,l.finish(11);case 14:case"end":return l.stop()}}),l,null,[[1,8,11,14]])})))()},enterGoodsTag:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var t,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.$commodityService.getGoodsTagList();case 2:t=a.sent,l=JSON.parse(t),e.goodsTagList=l.data||[];case 5:case"end":return a.stop()}}),a)})))()},deleteClick:function(e,a){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function l(){return regeneratorRuntime.wrap((function(l){while(1)switch(l.prev=l.next){case 0:t.goodsTagList.splice(a,1),t.$commodityService.deleteGoodsTag([e]);case 2:case"end":return l.stop()}}),l)})))()}}},u=o,s=t("2877"),c=Object(s["a"])(u,l,n,!1,null,"09897776",null);a["a"]=c.exports},5287:function(e,a,t){"use strict";t.d(a,"b",(function(){return s})),t.d(a,"c",(function(){return c})),t.d(a,"a",(function(){return b})),t.d(a,"g",(function(){return l})),t.d(a,"d",(function(){return r})),t.d(a,"e",(function(){return o})),t.d(a,"f",(function(){return u})),t.d(a,"i",(function(){return d})),t.d(a,"h",(function(){return v}));t("d81d");var l=[{value:"TW",label:"台湾"},{value:"ID",label:"印尼"},{value:"MY",label:"马来"},{value:"SG",label:"新加坡"},{value:"PH",label:"菲律宾"},{value:"VN",label:"越南"},{value:"TH",label:"泰国"},{value:"BR",label:"巴西"},{value:"MX",label:"墨西哥"}],n={TW:[{label:"本地",value:"-1"},{label:"海外",value:"-2"}],ID:[{lebel:"本地",value:"Dalam Negeri"},{lebel:"海外",value:"Luar Negeri"},{lebel:"Jabodetabek（雅博德塔别克）",value:"Jabodetabek"},{lebel:"DKI Jakarta（DKI雅加达）",value:"DKI Jakarta"},{lebel:"Jawa Barat（西爪哇）",value:"Jawa Barat"},{lebel:"Jawa Timur（东爪哇）",value:"Jawa Timur"},{lebel:"Jawa Tengah（中爪哇）",value:"Jawa Tengah"},{lebel:"Kepulauan Riau（廖内群岛）",value:"Kepulauan Riau"},{lebel:"Banten（万丹）",value:"Banten"},{lebel:"Sumatera Utara（北苏门答腊）",value:"Sumatera Utara"},{lebel:"DI Yogyakarta（在日惹）",value:"DI Yogyakarta"},{lebel:"Bali（巴厘岛）",value:"Bali"},{lebel:"Lampung（楠榜）",value:"Lampung"},{lebel:"Sumatera Selatan（南苏门答腊）",value:"Sumatera Selatan"},{lebel:"Sulawesi Selatan（南苏拉威西）",value:"Sulawesi Selatan"},{lebel:"Riau（廖内）",value:"Riau"},{lebel:"Jambi（占碑）",value:"Jambi"},{lebel:"Kalimantan Timur（东加里曼丹）",value:"Kalimantan Timur"},{lebel:"Kalimantan Selatan（南加里曼丹）",value:"Kalimantan Selatan"},{lebel:"Kalimantan Barat（西加里曼丹）",value:"Kalimantan Barat"}],MY:[{label:"本地",value:"-1"},{label:"海外",value:"-2"},{label:"West Malaysia（西马）",value:"West Malaysia"},{label:"East Malaysia（东马来西亚）",value:"East Malaysia"},{label:"Selangor（雪兰莪）",value:"Selangor"},{label:"Kuala Lumpur（吉隆坡）",value:"Kuala Lumpur"},{label:"Penang（槟城）",value:"Penang"},{label:"Johor（柔佛）",value:"Johor"},{label:"Kedah（吉打）",value:"Kedah"},{label:"Perak（霹雳州）",value:"Perak"},{label:"Melaka（马六甲）",value:"Melaka"},{label:"Pahang（彭亨）",value:"Pahang"},{label:"Negeri Sembilan（森美兰州）",value:"Negeri Sembilan"},{label:"Terengganu（登嘉楼）",value:"Terengganu"},{label:"Sarawak（砂拉越）",value:"Sarawak"},{label:"Kelantan（吉兰丹）",value:"Kelantan"},{label:"Perlis（玻璃市）",value:"Perlis"},{label:"Sabah（沙巴）",value:"Sabah"},{label:"Putrajaya（布城）",value:"Putrajaya"},{label:"Labuan（纳闽）",value:"Labuan"}],SG:[{label:"本地",value:"-1"},{label:"海外",value:"-2"}],PH:[{label:"本地",value:"-1"},{label:"海外",value:"-2"},{label:"Metro Manila（马尼拉大都会）",value:"Metro Manila"},{label:"North Luzon（北吕宋）",value:"North Luzon"},{label:"South Luzon（南吕宋岛）",value:"South Luzon"},{label:"Visayas（米沙鄢）",value:"Visayas"},{label:"Mindanao（棉兰老岛）",value:"Mindanao"}],VN:[{label:"海外",value:"Nước ngoài"},{label:"Hà Nội（河内）",value:"Hà Nội"},{label:"TP. Hồ Chí Minh（胡志明）",value:"TP. Hồ Chí Minh"},{label:"Thái Nguyên（泰阮）",value:"Thái Nguyên"},{label:"Vĩnh Phúc（永福）",value:"Vĩnh Phúc"},{label:"Hải Phòng（海防）",value:"Hải Phòng"},{label:"Đồng Nai（同奈）",value:"Đồng Nai"},{label:"Hưng Yên（红颜）",value:"Hưng Yên"},{label:"Bình Dương（平阳）",value:"Bình Dương"},{label:"Bắc Ninh（北宁）",value:"Bắc Ninh"},{label:"Đà Nẵng（岘港）",value:"Đà Nẵng"},{label:"Quảng Ninh（广宁）",value:"Quảng Ninh"},{label:"Hải Dương（海阳）",value:"Hải Dương"},{label:"Nam Định（南定）",value:"Nam Định"},{label:"Cần Thơ（芹苴）",value:"Cần Thơ"},{label:"Phú Thọ（富都）",value:"Phú Thọ"},{label:"Bà Rịa - Vũng Tàu（BA Ria 头顿）",value:"Bà Rịa - Vũng Tàu"},{label:"Đắk Lắk（多乐）",value:"Đắk Lắk"},{label:"Thanh Hóa（清化）",value:"Thanh Hóa"},{label:"Thái Bình（平静的）",value:"Thái Bình"},{label:"Nước ngoài（外国的）",value:"Nước ngoài"}],TH:[{label:"本地",value:"-1"},{label:"海外",value:"-2"},{label:"กรุงเทพและปริมณฑล（曼谷及周边地区）",value:"กรุงเทพและปริมณฑล"},{label:"ภาคกลาง（中央）",value:"ภาคกลาง"},{label:"ภาคตะวันออกเฉียงเหนือ（东北）",value:"ภาคตะวันออกเฉียงเหนือ"},{label:"ภาคใต้（南）",value:"ภาคใต้"},{label:"ภาคเหนือ（北方）",value:"ภาคเหนือ"},{label:"ภาคตะวันออก（东部地区）",value:"ภาคตะวันออก"},{label:"ภาคตะวันตก（西部地区）",value:"ภาคตะวันตก"}],BR:[{label:"本地",value:"-1"},{label:"海外",value:"-2"},{label:"São Paulo（圣保罗）",value:"São Paulo"},{label:"Acre（英亩）",value:"Acre"},{label:"Alagoas（阿拉戈斯）",value:"Alagoas"},{label:"Amapá（阿马帕）",value:"Amapá"},{label:"Amazonas（亚马逊人）",value:"Amazonas"},{label:"Bahia（巴伊亚）",value:"Bahia"},{label:"Ceará（塞阿拉）",value:"Ceará"},{label:"Distrito Federal（联邦区）",value:"Distrito Federal"},{label:"Espírito Santo（神圣的灵魂）",value:"Espírito Santo"},{label:"Goiás（戈亚斯）",value:"Goiás"},{label:"Maranhão（马拉尼昂）",value:"Maranhão"},{label:"Mato Grosso（马托格罗索州）",value:"Mato Grosso"},{label:"Mato Grosso do Sul（南马托格罗索州）",value:"Mato Grosso do Sul"},{label:"Minas Gerais（米纳斯吉拉斯州）",value:"Minas Gerais"},{label:"Pará（为了）",value:"Pará"},{label:"Paraíba（帕拉伊巴）",value:"Paraíba"},{label:"Paraná（巴拉那）",value:"Paraná"},{label:"Pernambuco（伯南布哥）",value:"Pernambuco"},{label:"Piauí（皮奥伊）",value:"Piauí"},{label:"Rio de Janeiro（里约热内卢）",value:"Rio de Janeiro"},{label:"Rio Grande do Norte（北大河）",value:"Rio Grande do Norte"},{label:"Rio Grande do Sul（南里奥格兰德）",value:"Rio Grande do Sul"},{label:"Rondônia（朗多尼亚）",value:"Rondônia"},{label:"Roraima（罗赖马）",value:"Roraima"},{label:"Santa Catarina（圣卡塔琳娜）",value:"Santa Catarina"},{label:"Sergipe（塞尔吉佩）",value:"Sergipe"},{label:"Tocantins（托坎廷斯）",value:"Tocantins"}],MX:[{label:"本地",value:"-1"},{label:"海外",value:"-2"}]},r=[{value:"TH",label:"泰国"},{value:"MY",label:"马来"},{value:"ID",label:"印尼"},{value:"VN",label:"越南"},{value:"SG",label:"新加坡"},{value:"PH",label:"菲律宾"}],i={ID:{"Lokal（本地）：":[{label:"Jawa Barat（西爪哇）",value:"1794"},{label:"DKI Jakarta（雅加达DKI）",value:"1796"},{label:"Jawa Timur（东爪哇）",value:"1795"},{label:"Banten（万丹）",value:"1791"},{label:"Jawa Tengah（中爪哇省）",value:"1797"},{label:"North Sumatra（北苏门答腊）",value:"1817"},{label:"Riau Islands（廖内群岛）",value:"1800"},{label:"Di Yogyakarta（在日惹）",value:"1818"},{label:"South Sumatra（南苏门答腊）",value:"1815"},{label:"Sulawesi Selatan（南苏拉威西岛）",value:"1813"},{label:"Riau（廖内）",value:"1809"},{label:"West Sumatra（西苏门答腊）",value:"1811"},{label:"Bali（巴厘岛）",value:"1788"},{label:"West Kalimantan（西加里曼丹）",value:"1798"}],"Luar Negeri（海外）：":[{label:"Tiongkok（中国）",value:"-49"},{label:"Amerika Serikat（美国）",value:"-231"},{label:"India（印度）",value:"-105"},{label:"Jerman（德国）",value:"-57"},{label:"Korea Selatan（南韩）",value:"-122"},{label:"Taiwan（台湾）",value:"-226"},{label:"Makau SAR Tiongkok（澳门）",value:"-148"},{label:"Malaysia（马来西亚）",value:"-158"},{label:"Kanada（加拿大）",value:"-39"}]},MY:{"Local（本地）：":[{label:"West Malaysia（西马）",value:"West Malaysia"},{label:"East Malaysia（东马）",value:"East Malaysia"}],"Overseas（海外）：":[{value:"-49",label:"China（中国）"},{value:"-226",label:"Taiwan（台湾）"},{value:"-15",label:"Australia（澳大利亚）"},{value:"-105",label:"India（印度）"},{value:"-231",label:"United States（美国）"},{value:"-122",label:"South Korea（韩国）"},{value:"-148",label:"Macau SAR China（澳门）"},{value:"-114",label:"Japan（日本）"},{value:"-47",label:"Chile（智利）"},{value:"-75",label:"France（法国）"},{value:"-14",label:"Austria（奥地利）"},{value:"-7",label:"Albania（阿尔巴尼亚）"},{value:"-167",label:"Norway（挪威）"},{value:"-4",label:"Afghanistan（阿富汗）"},{value:"-177",label:"Philippines（菲律宾）"},{value:"-22",label:"Belgium（比利时）"},{value:"-39",label:"Canada（加拿大）"},{value:"-77",label:"United Kingdom（英国）"},{value:"-117",label:"Cambodia（柬埔寨）"},{value:"-171",label:"New Zealand（新西兰）"}]},SG:{"Location（位置）：":[{label:"Singapore（新加坡）",value:"local"},{label:"China（中国）",value:"-49"},{label:"Malaysia（马来西亚）",value:"-158"},{label:"South Korea（南韩）",value:"-122"},{label:"Germany（德国）",value:"-57"},{label:"United States（美国）",value:"-231"},{label:"Macau SAR China（澳门）",value:"-148"},{label:"Canada（加拿大）",value:"-39"}]},PH:{"Location（位置）：":[{label:"NCR",value:"NCR"},{label:"South Luzon（南吕宋）",value:"South Luzon"},{label:"Visayas（米沙鄢）",value:"Visayas"},{label:"Mindanao（棉兰老）",value:"Mindanao"},{label:"North Luzon（北吕宋）",value:"North Luzon"},{label:"Overseas（海外）",value:"overseas"}]},VN:{"Nội địa（本地）：":[{label:"Hồ Chí Minh（胡志明市）",value:"Ho Chi Minh"},{label:"Hà Nội（河内）",value:"Hanoi"},{label:"Miền Nam（南方）",value:"South"},{label:"Miền Bắc（北方）",value:"North"},{label:"Miền Trung（中央）",value:"Middle"}],"Nước ngoài（海外）：":[{value:"-49",label:"Trung Quốc（中国）"},{value:"-57",label:"Germany（德国）"},{value:"-231",label:"Hoa Kỳ（美国）"},{value:"-226",label:"Đài Loan（台湾）"}]},TH:{"สถานที่（本地）：":[{value:"local",label:"ในประเทศ（本地）"},{value:"-49",label:"จีน（中国）"},{value:"-231",label:"สหรัฐอเมริกา（美国）"},{value:"-226",label:"ไต้หวัน（台湾）"},{value:"-148",label:"มาเก๊า（澳门）"},{value:"-8",label:"อาร์เมเนีย（亚美尼亚）"},{value:"-57",label:"เยอรมัน（德语）"}]}},o=[{value:"2",label:"淘宝"},{value:"8",label:"1688"}],u={1:"拼多多",1.2:"拼多多优惠采集",2:"淘宝",3:"天猫",4:"京东",5:"自有",7:"货源甲",8:"1688",9:"Lazada",10:"京喜",11:"虾皮",12:"速卖通",13:"天猫淘宝海外平台",15:"货老板云仓"};function s(e){var a=[];return Array.isArray(e)?(e.map((function(e){u[e]&&a.push({label:u[e],value:e})})),a):a}function c(e){return n[e]}function b(e){return i[e]}var v=[{value:"1",label:"拼多多"},{value:"2",label:"淘宝"},{value:"3",label:"天猫"},{value:"4",label:"京东"},{value:"10",label:"京喜"},{value:"8",label:"1688"},{value:"6",label:"货老板"},{value:"7",label:"多多进宝"},{value:"9",label:"lazada"}],d={1:"拼多多",2:"淘宝",3:"天猫",4:"京东",10:"京喜",9:"lazada",8:"1688",6:"货老版",7:"多多进宝"}},9772:function(e,a,t){},b0bd:function(e,a,t){"use strict";t("9772")},b85c:function(e,a,t){"use strict";t.d(a,"a",(function(){return n}));t("a4d3"),t("e01a"),t("d3b7"),t("d28b"),t("3ca3"),t("ddb0");var l=t("06c5");function n(e,a){var t="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=Object(l["a"])(e))||a&&e&&"number"===typeof e.length){t&&(e=t);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,u=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return o=e.done,e},e:function(e){u=!0,i=e},f:function(){try{o||null==t["return"]||t["return"]()}finally{if(u)throw i}}}}},eb09:function(e,a,t){"use strict";var l=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"category-mapp contaniner"},[t("div",{staticClass:"category_dialog"},[t("div",{staticClass:"category_box"},[t("div",{staticClass:"on_new_dialog_box",staticStyle:{"margin-bottom":"10px"}},[t("div",{staticClass:"keepRight"},[e._v("店铺站点：")]),e.country?t("div",[e._v(e._s(e._f("chineseSite")(e.country)))]):t("div",[t("el-select",{attrs:{size:"mini",filterable:""},model:{value:e.countryOption,callback:function(a){e.countryOption=a},expression:"countryOption"}},e._l(e.countriesOption,(function(e,a){return t("el-option",{key:a,attrs:{label:e.label,value:e.value}})})),1)],1)]),e._l(e.categoryList,(function(a,l){return t("div",{key:l,staticClass:"on_new_dialog_box"},[t("div",{staticClass:"keepRight"},[e._v(e._s(l+1)+"级类目：")]),t("el-select",{staticStyle:{width:"200px"},attrs:{size:"mini",filterable:""},on:{change:function(a){return e.setCategory(e.categoryAction[l],l)}},model:{value:e.categoryAction[l],callback:function(a){e.$set(e.categoryAction,l,a)},expression:"categoryAction[index]"}},[t("el-option",{attrs:{value:"",label:"全部"}}),e._l(a,(function(e){return t("el-option",{key:e.id,attrs:{label:e.category_name+"("+e.category_cn_name+")",value:e.category_id}})}))],2)],1)}))],2),t("div",{staticClass:"category_box",staticStyle:{"margin-left":"20px"}},[e._m(0),e._l(e.attributesList,(function(a,l){return t("div",{key:l,staticClass:"on_new_dialog_box line_height_28"},[t("div",{staticClass:"width_single_150"},[e._v(e._s(a.attribute_name)+"("+e._s(a.attribute_cn_name)+")")]),t("div",[t("el-select",{staticStyle:{width:"180px"},attrs:{size:"mini",filterable:""},model:{value:a.options,callback:function(t){e.$set(a,"options",t)},expression:"item.options"}},e._l(a.new_options_obj,(function(e){return t("el-option",{key:e.value_id,attrs:{label:e.value,value:e.value_id}})})),1)],1)])}))],2)]),t("div",{staticClass:"on_new_dialog_box",staticStyle:{"margin-top":"25px","justify-content":"space-evenly"}},[e.mallList[0]?t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.confirmCategory(0)}}},[e._v("　刷　新　")]):e._e(),t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.confirmCategory()}}},[e._v("　确　定　")]),t("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.$emit("categoryChange","")}}},[e._v("　取　消　")])],1)])},n=[function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"on_new_dialog_box",staticStyle:{"margin-bottom":"10px"}},[t("div",{staticClass:"width_single_150"},[e._v("属性名称：")]),t("div",[e._v("属性值"),t("span",{staticStyle:{color:"red"}},[e._v("(必填)")])])])}],r=t("1da1"),i=(t("159b"),t("7db0"),t("b0c0"),t("c740"),t("a434"),t("96cf"),{name:"category-mapping",props:{country:{type:String,default:function(){return""}},goodsCurrent:{type:Object,default:function(){return{}}},mallList:{type:Array,default:function(){return[]}}},data:function(){return{countriesOption:this.$filters.countries_option,countryOption:"TH",categoryAction:[],attributesCurrent:[],categoryList:[],attributesList:[]}},watch:{countryOption:function(e){this.enterCategory()}},mounted:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.enterCategory();case 2:case"end":return a.stop()}}),a)})))()},methods:{confirmCategory:function(){var e=arguments,a=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var l,n,r,i,o,u,s,c,b,v,d,g,m,h,p,y,f,_;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(l=e.length>0&&void 0!==e[0]?e[0]:-1,n=a.country||a.countryOption,!(a.goodsCurrent&&l<0)){t.next=8;break}r=[],a.categoryList.forEach((function(e,t){var l=e.find((function(e){return e.category_id===a.categoryAction[t]}));l&&r.push(l)})),a.$emit("categoryChange",{categoryList:r,attributesList:a.attributesList,country:n||a.countryOption}),t.next=46;break;case 8:return l=l<0?0:l,i=a.mallList[l],o=a.categoryAction[a.categoryAction.length-1],u={mallId:i.platform_mall_id,category_ids:o,brand_status:1,cursor:0,limit:100},t.next=14,a.$shopeemanService.getBrandList(n,u,{headers:{"Content-Type":"text/plain; charset=UTF-8"}});case 14:if(s=t.sent,c=JSON.parse(s),!(c.status>=200&&c.status<=300)){t.next=45;break}if(b=JSON.parse(c.data),0!==b.code){t.next=42;break}return v=b.data&&b.data.list[0]&&b.data.list[0].brand_list,d=[],v.forEach((function(e){d.push({value:e.name,value_id:e.brand_id})})),g=[{category_id:o,attribute_id:0,is_mandatory:1,attribute_name:"Brand",attribute_cn_name:"品牌",attribute_type:"STRING_TYPE",country:n,options:JSON.stringify(d),attribute_label:"",is_key_attribute:1}],t.prev=23,t.next=26,a.$shopeemanService.getAttributeTree(n,u,{headers:{"Content-Type":"text/plain; charset=UTF-8"}});case 26:m=t.sent,h=JSON.parse(m),p=JSON.parse(h.data),y=p&&p.data&&p.data.list[0]&&p.data.list[0].attribute_tree||[],y.forEach((function(e){var a=[];e.children.forEach((function(e){a.push({value:e.display_name||e.name,value_id:e.value_id})})),g.push({category_id:o,attribute_id:e.attribute_id,is_mandatory:e.mandatory?1:0,attribute_name:e.display_name||e.name,attribute_cn_name:"",attribute_type:"STRING_TYPE",country:n,options:JSON.stringify(a),attribute_label:"",is_key_attribute:0})})),t.next=35;break;case 33:t.prev=33,t.t0=t["catch"](23);case 35:return t.prev=35,t.next=38,a.$commodityService.uploadCateGoryAttr(g);case 38:return f=t.sent,_=JSON.parse(f),200===_.code?a.$message.success("同步成功"):a.$message.error("同步失败"),t.finish(35);case 42:a.$emit("categoryChange",""),t.next=46;break;case 45:a.confirmCategory(++l);case 46:case"end":return t.stop()}}),t,null,[[23,33,35,42]])})))()},getAttribute:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var t,l,n,r,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t=e.categoryAction[e.categoryAction.length-1]||e.categoryAction[e.categoryAction.length-2]||"0",l=e.country||e.countryOption,a.next=4,e.$commodityService.getAttributeInfo(l,t);case 4:n=a.sent,r=JSON.parse(n),e.attributesList=[],200===r.code&&(i=r.data&&r.data.attributes||[],i.forEach((function(a){var t=e.attributesCurrent.findIndex((function(e){return e.attribute_id===a.attribute_id})),l=e.attributesCurrent[t]&&e.attributesCurrent[t].value_id||0;a.new_options_obj=a.new_options&&JSON.parse(a.new_options)||[],a.options=t>-1&&parseInt(l)||a.new_options_obj[0]&&a.new_options_obj[0].value_id,e.attributesList.push(a)})),e.attributesCurrent=[]);case 8:case"end":return a.stop()}}),a)})))()},setCategory:function(e,a){this.categoryList.splice(a+1,this.categoryList.length-a),this.categoryAction.splice(a+1,this.categoryAction.length-a),this.enterCategory(e+"",++a)},enterCategory:function(){var e=arguments,a=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var l,n,r,i,o,u,s,c,b,v;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(l=e.length>0&&void 0!==e[0]?e[0]:"0",n=e.length>1&&void 0!==e[1]?e[1]:0,r=e.length>2&&void 0!==e[2]?e[2]:null,i=a.country||a.countryOption,0!==n){t.next=12;break}if(a.categoryAction=r&&r.categoryIdList||[],!a.goodsCurrent||!a.goodsCurrent.goodsId){t.next=12;break}return t.next=9,a.$commodityService.getCategoryRelation(a.goodsCurrent.originCategoryId,i,a.goodsCurrent.platform+"");case 9:o=t.sent,u=JSON.parse(o),a.attributesCurrent=u.data&&u.data.attributes||[];case 12:if(!l){t.next=21;break}return s=JSON.parse(JSON.stringify(a.categoryList))||[],t.next=16,a.$commodityService.getCategoryTbInfo(i,l);case 16:c=t.sent,b=JSON.parse(c),200===b.code&&(v=b.data,v&&v.categories?(s[n]=v.categories,a.categoryList=s,a.categoryAction[n]=a.categoryAction[n]||s[n][0].category_id,a.enterCategory(a.categoryAction[n]+"",++n)):a.getAttribute()),t.next=22;break;case 21:a.getAttribute(!0);case 22:case"end":return t.stop()}}),t)})))()}}}),o=i,u=(t("b0bd"),t("2877")),s=Object(u["a"])(o,l,n,!1,null,null,null);a["a"]=s.exports}}]);