(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-04a4ed67"],{"0695":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("ul",{staticClass:"wrap"},[a("li",[a("span",[e._v("一级类目：")]),a("el-select",{attrs:{filterable:"",placeholder:"请选择",size:"mini"},on:{change:function(t){e.categroyVal2="",e.categroyVal3="",e.handleChange01()}},model:{value:e.categroyVal1,callback:function(t){e.categroyVal1=t},expression:"categroyVal1"}},[a("el-option",{attrs:{label:"全部",value:0}}),e._l(e.categroyList1,(function(e,t){return a("el-option",{key:e.id,attrs:{label:e.cat_name,value:e.id}})}))],2)],1),a("li",[a("span",[e._v("二级类目：")]),a("el-select",{attrs:{filterable:"",disabled:!e.categroyVal1,placeholder:"请选择",size:"mini"},on:{change:function(t){e.categroyVal3="",e.handleChange02()}},model:{value:e.categroyVal2,callback:function(t){e.categroyVal2=t},expression:"categroyVal2"}},e._l(e.categroyList2,(function(e,t){return a("el-option",{key:e.id,attrs:{label:e.cat_name,value:e.id}})})),1)],1),a("li",[a("span",[e._v("三级类目：")]),a("el-select",{attrs:{filterable:"",disabled:!e.categroyVal2,placeholder:"请选择",size:"mini"},on:{change:function(t){return e.handleChange03()}},model:{value:e.categroyVal3,callback:function(t){e.categroyVal3=t},expression:"categroyVal3"}},e._l(e.categroyList3,(function(e,t){return a("el-option",{key:e.id,attrs:{label:e.cat_name,value:e.id}})})),1)],1)])])},n=[],o=a("1da1"),i=(a("96cf"),{name:"ProductChoose",props:{isClean:{type:Boolean,default:!1}},data:function(){return{categroyList1:[],categroyList2:[],categroyList3:[],categroyVal1:"",categroyVal2:"",categroyVal3:"",categroyData:[]}},watch:{},mounted:function(){this.init()},methods:{cleanData:function(){this.categroyVal1="",this.categroyVal2="",this.categroyVal3="",this.$emit("CateId",0)},init:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getCategoryInfo(0);case 2:e.categroyList1=e.categroyData;case 3:case"end":return t.stop()}}),t)})))()},handleChange01:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getCategoryInfo(e.categroyVal1);case 2:e.categroyList2=e.categroyData,e.$emit("CateId",e.categroyVal1);case 4:case"end":return t.stop()}}),t)})))()},handleChange02:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getCategoryInfo(e.categroyVal2);case 2:e.categroyList3=e.categroyData,e.$emit("CateId",e.categroyVal2);case 4:case"end":return t.stop()}}),t)})))()},handleChange03:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$emit("CateId",e.categroyVal3);case 1:case"end":return t.stop()}}),t)})))()},getCategoryInfo:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r="",a.prev=1,a.next=4,t.$commodityService.getCategoryInfo(e);case 4:r=a.sent,n=JSON.parse(r),200===n.status_code?t.categroyData=n.data:t.$message.error(n.message),a.next=12;break;case 9:a.prev=9,a.t0=a["catch"](1),t.$message.error("产品中心类目获取失败");case 12:case"end":return a.stop()}}),a,null,[[1,9]])})))()}}}),l=i,c=(a("4f7a"),a("2877")),s=Object(c["a"])(l,r,n,!1,null,"53cef9d3",null);t["a"]=s.exports},"4f7a":function(e,t,a){"use strict";a("6a06")},5186:function(e,t,a){"use strict";a("c037a")},"6a06":function(e,t,a){},"9d17":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"product-center"},[a("div",{staticClass:"selectBox"},[a("div",{staticClass:"select-row"},[a("div",{staticClass:"item-box"},[a("span",[e._v("商品创建时间:")]),a("el-date-picker",{staticStyle:{width:"220px"},attrs:{"unlink-panels":"",size:"mini",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.form.returnCreateTime,callback:function(t){e.$set(e.form,"returnCreateTime",t)},expression:"form.returnCreateTime"}})],1),a("div",{staticClass:"item-box"},[a("product-choose",{ref:"isClean",staticClass:"mar-left",on:{CateId:e.CateId}})],1)]),a("div",{staticClass:"select-row"},[a("div",{staticClass:"item-box"},[a("span",[e._v("商品更新时间:")]),a("el-date-picker",{staticStyle:{width:"220px"},attrs:{"unlink-panels":"",size:"mini",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.form.returnUpdateTime,callback:function(t){e.$set(e.form,"returnUpdateTime",t)},expression:"form.returnUpdateTime"}})],1),a("div",{staticClass:"item-box"},[a("span",{staticStyle:{width:"60px","margin-left":"10px"}},[e._v("Sku编码：")]),a("el-input",{staticStyle:{width:"178px"},attrs:{clearable:"",size:"mini",oninput:"value=value.replace(/\\s+/g,'')"},model:{value:e.form.returnSkuId,callback:function(t){e.$set(e.form,"returnSkuId",t)},expression:"form.returnSkuId"}})],1),a("div",{staticClass:"item-box"},[a("span",{staticStyle:{width:"60px"}},[e._v("商品名称：")]),a("el-input",{staticStyle:{width:"178px"},attrs:{clearable:"",size:"mini",oninput:"value=value.replace(/\\s+/g,'')"},model:{value:e.form.returnGoodsName,callback:function(t){e.$set(e.form,"returnGoodsName",t)},expression:"form.returnGoodsName"}})],1),a("div",{staticClass:"item-box"},[a("span",{staticStyle:{width:"60px"}},[e._v("商品ID：")]),a("el-input",{staticStyle:{width:"178px"},attrs:{clearable:"",size:"mini",oninput:"value=value.replace(/\\s+/g,'')"},model:{value:e.form.returnGoodsId,callback:function(t){e.$set(e.form,"returnGoodsId",t)},expression:"form.returnGoodsId"}})],1),a("el-button",{staticClass:"mar-left",attrs:{type:"primary",size:"mini"},on:{click:e.getProductList}},[e._v("查询")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.DerivedData}},[e._v("导出数据")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.Creategoods}},[e._v("创建商品")]),a("el-upload",{ref:"importRef",staticStyle:{margin:"0 10px"},attrs:{accept:".xls, .xlsx",action:"https://jsonplaceholder.typicode.com/posts/","on-change":e.importTemplate,"show-file-list":!1,"auto-upload":!1}},[a("el-button",{attrs:{data:e.importTemplateData,size:"mini",type:"primary"}},[e._v(" 导入商品 ")])],1),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.downloadTemplate}},[e._v("下载导入模板")]),a("el-checkbox",{staticStyle:{"margin-left":"10px"},model:{value:e.showlog,callback:function(t){e.showlog=t},expression:"showlog"}},[e._v("隐藏日志")])],1)]),a("div",{staticClass:"content"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],ref:"plTable",attrs:{"header-align":"center",height:"calc(100vh - 183px)",data:e.tableData,"header-cell-style":{backgroundColor:"#f5f7fa"}},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{align:"center",type:"selection",width:"50"}}),a("el-table-column",{attrs:{align:"center",label:"商品ID",width:"100",prop:"product_id",fixed:""}}),a("el-table-column",{attrs:{align:"center",prop:"product_name",label:"商品名称",width:"100"}}),e._e(),e._e(),e._e(),e._e(),a("el-table-column",{attrs:{align:"center",prop:"cate_name",label:"商品类目",width:"150"}}),a("el-table-column",{attrs:{width:"90",align:"center",label:"商品主图"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[r.image_url?a("el-tooltip",{staticStyle:{width:"90px",height:"50px"},attrs:{effect:"light",placement:"right-end","visible-arrow":!1,enterable:!1}},[a("div",{attrs:{slot:"content"},slot:"content"},[a("img",{attrs:{src:r.image_url,width:"400px",height:"280px"}})]),a("el-image",{staticStyle:{width:"40px",height:"40px"},attrs:{src:r.image_url}})],1):e._e()]}}])}),a("el-table-column",{attrs:{prop:"status",label:"商品状态",width:"160",align:"center"}}),a("el-table-column",{attrs:{prop:"price",label:"价格",width:"120",align:"center"}}),a("el-table-column",{attrs:{prop:"stock",label:"库存",width:"140",align:"center"}}),a("el-table-column",{attrs:{prop:"remark",label:"备注",width:"140",align:"center"}}),a("el-table-column",{attrs:{prop:"created_at",label:"创建时间",width:"90",align:"center"}}),a("el-table-column",{attrs:{prop:"updated_at",label:"更新时间",width:"90",align:"center"}}),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.Eidtgoods(r)}}},[e._v("编辑")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.del(r)}}},[e._v("删除")])]}}])})],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"","page-sizes":[20,50,100],"page-size":e.pageSize,"current-page":e.currentPage,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange}})],1)],1),a("Logs",{ref:"Logs",attrs:{clear:""},model:{value:e.showlog,callback:function(t){e.showlog=t},expression:"showlog"}})],1)},n=[],o=a("1da1"),i=(a("96cf"),a("a9e3"),a("0695")),l={components:{ProductChoose:i["a"]},data:function(){return{form:{returnCreateTime:[(new Date).getTime()-2592e6,new Date],returnCategory:"",returnStatus:-1,returnUpdateTime:[(new Date).getTime()-2592e6,new Date],returnSkuId:"",returnGoodsName:"",returnGoodsId:""},showlog:!0,tableLoading:!1,multipleSelection:[],tableData:[],pageSize:20,currentPage:1,total:0}},methods:{getProductList:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,r,n,o,i,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.form.returnCreateTime?"".concat(e.$dayjs(e.form.returnCreateTime[0]).format("YYYY-MM-DD HH:mm:ss")):"",r=e.form.returnCreateTime?"".concat(e.$dayjs(e.form.returnCreateTime[1]).format("YYYY-MM-DD HH:mm:ss")):"",n=e.form.returnUpdateTime?"".concat(e.$dayjs(e.form.returnUpdateTime[0]).format("YYYY-MM-DD HH:mm:ss")):"",o=e.form.returnUpdateTime?"".concat(e.$dayjs(e.form.returnUpdateTime[1]).format("YYYY-MM-DD HH:mm:ss")):"",i={CateId:Number(e.form.returnCategory),ProductName:e.form.returnGoodsName,ProductId:e.form.returnGoodsId,SkuId:e.form.returnSkuId,Status:e.form.returnStatus,StartTime:a,EndTime:r,UpdateStartTime:n,UpdateEndTime:o},i["page"]=e.currentPage,params["page_size"]=e.pageSize,t.next=9,e.StrockUpForegin.getProductList(i);case 9:l=t.sent,200!==l.code&&e.$message.error(l.data),e.total=l.data.total,e.tableData=l.data.data;case 13:case"end":return t.stop()}}),t)})))()},CateId:function(e){this.form.returnCategory=e},handleSelectionChange:function(e){this.multipleSelection=e},handleCurrentChange:function(e){this.currentPage=e},handleSizeChange:function(e){this.currentPage=1,this.pageSize=e}}},c=l,s=(a("5186"),a("2877")),u=Object(s["a"])(c,r,n,!1,null,"e0ad575c",null);t["default"]=u.exports},c037a:function(e,t,a){}}]);