(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-118cb158"],{"4c28":function(t,e,a){},8992:function(t,e,a){"use strict";a("4c28")},efa0:function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"detail",staticStyle:{padding:"10px"}},[a("div",{staticClass:"condition",staticStyle:{display:"flex"}},[a("store-choose",{staticStyle:{"margin-left":"-20px"},attrs:{source:"true","input-width":"160px"},on:{changeMallList:t.changeMallList}}),a("el-button",{attrs:{type:"primary",size:"mini",loading:t.isStart},on:{click:t.startCompare}},[t._v("开始同步")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.cancerCompare}},[t._v("取消同步")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.closelogData}},[t._v("清空日志")]),a("el-checkbox",{staticStyle:{margin:"4px"},model:{value:t.showlog,callback:function(e){t.showlog=e},expression:"showlog"}},[t._v("隐藏日志")])],1),a("div",{staticStyle:{color:"red",margin:"10px 0px"}},[t._v("温馨提示：此功能为同步虾皮后台已删除商品至云端")]),a("div",{staticClass:"tableDes"},[a("el-table",{attrs:{height:"calc(100vh - 70px)",data:t.tableList,"header-cell-style":{background:"#f7fafa"}}},[a("el-table-column",{attrs:{label:"序号",type:"index",align:"center",fixed:""}}),a("el-table-column",{attrs:{prop:"country",label:"站点",align:"center","min-width":"100px"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(t._s(t._f("chineseSite")(a.country)))]}}])}),a("el-table-column",{attrs:{prop:"",label:"店铺名称",align:"center","min-width":"100px"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(t._s(a.mall_alias_name?a.mall_alias_name:a.platform_mall_name))]}}])}),a("el-table-column",{attrs:{prop:"totalGoods",label:"虾皮商品总数",align:"center","min-width":"100px"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(t._s(a.totalGoods?a.totalGoods:"--"))]}}])}),a("el-table-column",{attrs:{prop:"getGoods",label:"已获取虾皮商品数量",align:"center","min-width":"100px"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(t._s(a.getGoods?a.getGoods:"--"))]}}])}),a("el-table-column",{attrs:{prop:"endstatus",label:"同步状态",align:"center","min-width":"120px",fixed:"right"}})],1),a("Logs",{ref:"autoReplyLogs",attrs:{clear:""},model:{value:t.showlog,callback:function(e){t.showlog=e},expression:"showlog"}})],1)])},r=[],s=a("ade3"),i=a("1da1"),o=(a("96cf"),a("ac1f"),a("1276"),a("a9e3"),a("c740"),a("99af"),a("d3b7"),a("25f0"),a("159b"),a("a434"),a("c4e3"),a("feb6")),n=a("e1e4"),c=a("0e0b"),u={components:{storeChoose:o["a"]},data:function(){return{platformData:{},nextTime:null,firstTime:null,isStart:!1,dataRuning:!1,showlog:!0,tableList:[],query:{country:"TH",mallGroupIds:[]},GoodsManagerAPIInstance:new n["a"](this),selectMall:[],mallTimeList:[]}},created:function(){},methods:{decryptShopeeItemSku:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var l,r,s,i,o,n,c,u;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(a.prev=0,l=/^[+-]?\d*[.]?\d*$/,!(t.length<30)){a.next=10;break}return a.next=5,e.$userInfo.user_create_time;case 5:r=a.sent,r&&(s=new Date(r).getTime(),i=new Date("2018-12-20 00:00:00").getTime(),s>i&&(e.platformData["platform"]=5,e.platformData["productId"]=t)),t.indexOf("_")>-1?(o=t.split("_"),l.test(o[0])&&l.test(o[1])?(n=Number(o[1]),1===n||2===n||3===n||5===n||6===n||7===n||8===n?(e.platformData["platform"]=n,e.platformData["productId"]=o[0]):(e.platformData["platform"]=5,e.platformData["productId"]=t)):(e.platformData["platform"]=5,e.platformData["productId"]=t)):l.test(t)?(e.platformData["platform"]=1,e.platformData["productId"]=t):(e.platformData["platform"]=5,e.platformData["productId"]=t),a.next=14;break;case 10:return a.next=12,e.$BaseUtilService.decGoodCode(t);case 12:c=a.sent,c.indexOf("-")>-1?(u=c.split("-"),e.getPlatformSimpleStr(u[0],u)):(e.platformData["platform"]=5,e.platformData["productId"]=t);case 14:a.next=18;break;case 16:a.prev=16,a.t0=a["catch"](0);case 18:case"end":return a.stop()}}),a,null,[[0,16]])})))()},getPlatformSimpleStr:function(t,e){try{var a=e[1];"pdd"===t.toLocaleLowerCase()?(this.platformData["platform"]=1,this.platformData["productId"]=a):"tb"===t.toLocaleLowerCase()||"tm"===t.toLocaleLowerCase()?(this.platformData["platform"]=2,this.platformData["productId"]=a):"tb"===t.toLocaleLowerCase()?(this.platformData["platform"]=3,this.platformData["productId"]=a):"own"===t.toLocaleLowerCase()?(this.platformData["platform"]=5,this.platformData["productId"]=a):"ghpt"===t.toLocaleLowerCase()?(this.platformData["platform"]=6,this.platformData["productId"]=a):"alibaba"===t.toLocaleLowerCase()?(this.platformData["platform"]=8,this.platformData["productId"]=a):"hyj"===t.toLocaleLowerCase()||"hlb"===t.toLocaleLowerCase()?(this.platformData["platform"]=7,this.platformData["productId"]=a,this.platformData["site"]=e[2],this.platformData["shopId"]=e[3]):"shopee"===t.toLocaleLowerCase()?(this.platformData["platform"]=11,this.platformData["productId"]=a,this.platformData["site"]=e[2],this.platformData["shopId"]=e[3]):"aliexpress"===t.toLocaleLowerCase()?(this.platformData["platform"]=12,this.platformData["productId"]=a):"lazada"===t.toLocaleLowerCase()?(this.platformData["platform"]=9,this.platformData["productId"]=a,this.platformData["site"]=e[2]):"hyjhw"===t.toLocaleLowerCase()?(this.platformData["platform"]=15,this.platformData["productId"]=a,this.platformData["site"]=e[2]):"jx"===t.toLocaleLowerCase()?(this.platformData["platform"]=10,this.platformData["productId"]=a,this.platformData["site"]=e[2]):"crossbroder"===t.toLocaleLowerCase()&&(this.platformData["platform"]=13,this.platformData["productId"]=a,this.platformData["userId"]=e.Length>2?e[2]:"")}catch(l){}},closelogData:function(){this.$refs.autoReplyLogs.consoleMsg=""},add0:function(t){return t<10?"0"+t:t},formatTime:function(t){var e=new Date(t),a=e.getFullYear(),l=e.getMonth()+1,r=e.getDate(),s=e.getHours(),i=e.getMinutes(),o=e.getSeconds();return a+"-"+this.add0(l)+"-"+this.add0(r)+" "+this.add0(s)+":"+this.add0(i)+":"+this.add0(o)},cancerCompare:function(){this.dataRuning=!0,Object(c["B"])(),this.$refs.autoReplyLogs.writeLog("正在取消同步---------")},startCompare:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.closelogData(),t.isStart=!0,t.showlog=!1,t.dataRuning=!1,e.next=6,t.getinfo();case 6:return e.next=8,Object(c["d"])(t.tableList,t.comparefun);case 8:t.$refs.autoReplyLogs.writeLog("数据请求结束---------"),t.isStart=!1;case 10:case"end":return e.stop()}}),e)})))()},comparefun:function(t){var e=arguments,a=this;return Object(i["a"])(regeneratorRuntime.mark((function l(){var r,i,o,n,c,u,m,p,f,d,h,g,_,b,w,L,y,x,S,v,I;return regeneratorRuntime.wrap((function(l){while(1)switch(l.prev=l.next){case 0:if(r=e.length>1&&void 0!==e[1]?e[1]:{count:1},l.prev=1,i={country:a.query.country,page_number:1,mallId:t.platform_mall_id,page_size:48},!a.dataRuning){l.next=5;break}return l.abrupt("return");case 5:return a.$set(t,"totalGoods",0),a.$set(t,"getGoods",0),a.$set(t,"endstatus",""),o=[],l.next=11,a.GoodsManagerAPIInstance.getSkuList(i);case 11:if(n=l.sent,0===n.ecode){l.next=16;break}return a.$set(t,"endstatus","店铺未登录"),a.$refs.autoReplyLogs.writeLog("店铺【".concat(t.mall_alias_name||t.platform_mall_name,"】平台数据：店铺未登录"),!1),l.abrupt("return");case 16:return a.$refs.autoReplyLogs.writeLog("店铺【".concat(t.mall_alias_name||t.platform_mall_name,"】正在获取平台数据")),c=t.mall_alias_name||t.platform_mall_name,l.next=20,a.$appConfig.temporaryCacheInfo("get","mallTimeList","");case 20:if(u=l.sent,m=JSON.parse(u),!m.length){l.next=38;break}if(p=m.findIndex((function(t){return t.mallName===c})),!(p>=0)){l.next=34;break}if(!(m[p].nextTime>(new Date).getTime())){l.next=31;break}return a.$set(t,"endstatus","同步时间未到,下次时间：".concat(a.formatTime(m[p].nextTime))),a.$refs.autoReplyLogs.writeLog("【店铺：".concat(c,"】每4小时可进行一次同步，下次同步时间为【").concat(a.formatTime(m[p].nextTime),"】"),!0),l.abrupt("return");case 31:m[p].nextTime=(new Date).getTime()+144e5;case 32:l.next=36;break;case 34:f={mallName:c,firstTime:(new Date).getTime(),nextTime:(new Date).getTime()+144e5},m.push(f);case 36:l.next=40;break;case 38:d={mallName:c,firstTime:(new Date).getTime(),nextTime:(new Date).getTime()+144e5},m=[d];case 40:if(a.$appConfig.temporaryCacheInfo("save","mallTimeList",m),h=0===n.ecode?n.data.list:[],g=n.data.page_info.total,g){l.next=47;break}return a.$set(t,"endstatus","平台无数据"),a.$refs.autoReplyLogs.writeLog("店铺【".concat(t.mall_alias_name||t.platform_mall_name,"】平台暂无商品"),!0),l.abrupt("return");case 47:a.$refs.autoReplyLogs.writeLog("店铺【".concat(t.mall_alias_name||t.platform_mall_name,"】平台商品总数").concat(g,"个"),!0);case 48:if(!h.length){l.next=74;break}if(!a.dataRuning){l.next=51;break}return l.abrupt("return");case 51:a.$set(t,"totalGoods",g),a.$set(t,"getGoods",Number(t.getGoods)+h.length),a.$refs.autoReplyLogs.writeLog("店铺【".concat(t.mall_alias_name||t.platform_mall_name,"】正获取第【").concat(i.page_number,"】页数据,一页").concat(i.page_size,"个"),!0),_=0;case 55:if(!(_<h.length)){l.next=63;break}return b=h[_],l.next=59,a.decryptShopeeItemSku(b.parent_sku);case 59:"5"!==a.platformData.platform&&a.platformData.productId&&o.push({homeID:a.platformData.productId,gID:b.id});case 60:_++,l.next=55;break;case 63:if(!(h.length<48)){l.next=67;break}h=[],l.next=72;break;case 67:return i.page_number++,l.next=70,a.GoodsManagerAPIInstance.getSkuList(i);case 70:w=l.sent,h=0===w.ecode?w.data.list:[];case 72:l.next=48;break;case 74:return a.$refs.autoReplyLogs.writeLog("店铺【".concat(t.mall_alias_name||t.platform_mall_name,"】平台数据获取结束")),L=[],a.$refs.autoReplyLogs.writeLog("店铺【".concat(t.mall_alias_name||t.platform_mall_name,"】正在获取服务端数据")),l.next=79,a.$commodityService.getMallAllRecordList(t.id.toString());case 79:if(y=l.sent,200!==JSON.parse(y).code){l.next=91;break}if(L=200===JSON.parse(y).code?JSON.parse(y).data.info:[],!L.length){l.next=86;break}a.$refs.autoReplyLogs.writeLog("店铺【".concat(t.mall_alias_name||t.platform_mall_name,"】服务端商品总数").concat(L.length,"个"),!0),l.next=89;break;case 86:return a.$set(t,"endstatus","服务端无数据"),a.$refs.autoReplyLogs.writeLog("店铺【".concat(t.mall_alias_name||t.platform_mall_name,"】服务端商品暂无商品信息"),!0),l.abrupt("return");case 89:l.next=93;break;case 91:return a.$refs.autoReplyLogs.writeLog("店铺【".concat(t.mall_alias_name||t.platform_mall_name,"】服务端商品数据：").concat(JSON.parse(y).msg),!1),l.abrupt("return");case 93:if(a.$refs.autoReplyLogs.writeLog("店铺【".concat(t.mall_alias_name||t.platform_mall_name,"】服务端数据获取结束")),x=[],L.forEach((function(t){var e=o.findIndex((function(e){return Number(e.homeID)===Number(t.item_sku)}));e<0&&x.push(Object(s["a"])({},t.sys_mall_id.toString(),t.item_sku))})),S=x.splice(0,100),S.length){l.next=101;break}return a.$set(t,"endstatus","已是同步状态"),a.$refs.autoReplyLogs.writeLog("店铺【".concat(t.mall_alias_name||t.platform_mall_name,"】无需删除，已是同步状态"),!0),l.abrupt("return");case 101:if(!S.length){l.next=121;break}if(!a.dataRuning){l.next=104;break}return l.abrupt("return");case 104:return l.next=106,a.$commodityService.delCloudItems(JSON.stringify(S));case 106:if(v=l.sent,I=JSON.parse(v),200!==I.code){l.next=115;break}a.$set(t,"endstatus","同步成功，同步成功数：".concat(S.length)),a.$refs.autoReplyLogs.writeLog("-----------",!0),a.$refs.autoReplyLogs.writeLog("店铺【".concat(t.mall_alias_name||t.platform_mall_name,"】服务端已删除【").concat(S.length,"】个商品"),!0),a.$refs.autoReplyLogs.writeLog("-----------",!0),l.next=118;break;case 115:return a.$set(t,"endstatus","同步失败"),a.$refs.autoReplyLogs.writeLog("店铺【".concat(t.mall_alias_name||t.platform_mall_name,"】服务端删除失败，").concat(I.msg),!1),l.abrupt("return");case 118:S=x.length<100?[]:x.splice(0,100),l.next=101;break;case 121:a.$refs.autoReplyLogs.writeLog("店铺【".concat(t.mall_alias_name||t.platform_mall_name,"】同步完成")),l.next=127;break;case 124:l.prev=124,l.t0=l["catch"](1),a.$refs.autoReplyLogs.writeLog("店铺【".concat(t.mall_alias_name||t.platform_mall_name,"】同步失败，发生异常：").concat(l.t0),!1);case 127:return l.prev=127,r.count--,l.finish(127);case 130:case"end":return l.stop()}}),l,null,[[1,124,127,130]])})))()},getinfo:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.tableList=[],t.selectMall.forEach((function(e){e.plantDate=[],t.tableList.push(e)}));case 2:case"end":return e.stop()}}),e)})))()},changeMallList:function(t){t&&(this.selectMall=t.mallList,this.query.country=t.country)}}},m=u,p=a("2877"),f=Object(p["a"])(m,l,r,!1,null,null,null);e["default"]=f.exports},feb6:function(t,e,a){"use strict";var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("ul",{staticClass:"storeChooseUL"},[t.isMall?a("li",[t._v(t._s(t._f("chineseSite")(t.countryVal)))]):a("li",{style:t.isReset&&"margin-bottom: 5px"},[a("span",{style:{width:t.spanWidth}},[t._v("所属站点：")]),a("el-select",{staticClass:"siteSelectBox",attrs:{size:"mini",filterable:"",disabled:t.isBanPerform},model:{value:t.countryVal,callback:function(e){t.countryVal=e},expression:"countryVal"}},[t.isAll?a("el-option",{attrs:{label:"全部",value:""}}):t._e(),t._l(t.countries,(function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})}))],2)],1),a("li",{style:t.isReset&&"margin-bottom: 5px"},[a("span",{style:{width:t.spanWidth}},[t._v("店铺分组：")]),a("el-select",{staticClass:"selectBox",style:{width:t.inputWidth},attrs:{disabled:t.isBanPerform,multiple:"","collapse-tags":"",filterable:"",size:"mini"},model:{value:t.groupId,callback:function(e){t.groupId=e},expression:"groupId"}},[a("el-option",{attrs:{label:"全部",value:""},nativeOn:{click:function(e){return t.changeGroupSelect(t.groupId,!0)}}}),t._l(t.groupIdList,(function(e,l){return a("el-option",{key:l,attrs:{label:e.group_name,value:e.id},nativeOn:{click:function(e){return t.changeGroupSelect(t.groupId)}}})}))],2)],1),a("li",{directives:[{name:"show",rawName:"v-show",value:t.showGrade<2,expression:"showGrade < 2"}],style:t.isReset&&"margin-bottom: 5px"},[a("span",{style:{width:t.spanWidth}},[t._v("店铺名称：")]),a("el-select",{directives:[{name:"loadmore",rawName:"v-loadmore",value:t.loadmoreMall,expression:"loadmoreMall"}],staticClass:"selectBox",style:{width:t.inputWidth},attrs:{disabled:t.isBanPerform,placeholder:"",multiple:!t.isAShop,"collapse-tags":"","filter-method":t.filterMall,size:"mini",filterable:"",clearable:""},on:{"visible-change":function(e){return t.filterMall("")}},model:{value:t.site,callback:function(e){t.site=e},expression:"site"}},[t.isAShop?t._e():a("el-option",{attrs:{label:"全部",value:""},nativeOn:{click:function(e){return t.changeSiteSelect(t.site,!0)}}}),t._l(t.siteShowList,(function(e,l){return t.showMall(e,l)?a("el-option",{key:l,attrs:{label:e.mall_alias_name||e.platform_mall_name,value:e.platform_mall_id},nativeOn:{click:function(e){return t.changeSiteSelect(t.site)}}}):t._e()}))],2)],1),t.isReset?a("li",{staticStyle:{"margin-bottom":"5px","margin-left":"25px"}},[a("el-button",{staticStyle:{"justify-self":"self-end"},attrs:{size:"mini",type:"primary",disabled:t.isBanPerform},on:{click:t.reset}},[t._v(" 　刷　　新　 ")])],1):t._e()])])},r=[],s=a("1da1"),i=a("b85c"),o=a("2909"),n=(a("96cf"),a("a9e3"),a("caad"),a("2532"),a("99af"),a("d81d"),a("fb6a"),a("d3b7"),a("6062"),a("3ca3"),a("ddb0"),a("4de4"),a("25f0"),a("7db0"),a("7646")),c=a("2b0e");c["default"].directive("loadmore",{bind:function(t,e){var a=t.querySelector(".el-select-dropdown .el-select-dropdown__wrap");a.addEventListener("scroll",(function(){this.scrollHeight-this.scrollTop<=this.clientHeight+50?e.value(!0,this):this.scrollTop<30&&e.value(!1,this)}))}});var u={name:"StoreChoose",props:{spanWidth:{type:String,default:"80px"},inputWidth:{type:String,default:"180px"},parentCountry:{type:String,default:"TH"},isMall:{type:Boolean,default:function(){return!1}},isBanPerform:{type:Boolean,default:function(){return!1}},isAll:{type:Boolean,default:function(){return!1}},isReset:{type:Boolean,default:function(){return!1}},source:{type:String,default:function(){return""}},isAShop:{type:Boolean,default:function(){return!1}},showGrade:{type:Number,default:function(){return 0}}},data:function(){return{countryVal:null,groupId:[],groupIdList:[],allSiteList:[],site:[],siteList:[],siteShowList:[],countries:this.$filters.countries_option,mallListAPIInstance:new n["a"](this),isShowName:"",isShowNameAll:!1,showMallNumber:100,mallShowIndex:0,filterMallTime:null}},watch:{siteList:function(t){this.siteShowList=t},countryVal:{handler:function(t){this.isShowName="",this.groupId=[],this.groupIdList=[],this.getMallGoodsGetMallList(1)},deep:!0}},mounted:function(){this.countryVal=!this.isAll&&this.parentCountry||""},methods:{reset:function(){this.groupId=[],this.groupIdList=[],this.getMallGoodsGetMallList(1)},changeGroupSelect:function(t,e){e?t.includes("")?this.groupId=[""].concat(Object(o["a"])(this.groupIdList.map((function(t){return t.id})))):this.groupId=[]:t.includes("")||t.length!==this.groupIdList.length?t.includes("")&&t.length===this.groupIdList.length&&(this.groupId=t.slice(1)):this.groupId.unshift(""),this.getMallGoodsGetMallList(2)},changeSiteSelect:function(t,e){var a=this.isShowName;if(!this.isAShop)if(e)if(t.includes("")){var l=a&&Object(o["a"])(this.siteShowList.map((function(t){return t.platform_mall_id})))||[""].concat(Object(o["a"])(this.siteList.map((function(t){return t.platform_mall_id})))),r=new Set([].concat(Object(o["a"])(l),Object(o["a"])(t)));this.site=Object(o["a"])(r),this.isShowNameAll=!0,a&&this.siteList.length===this.site.length&&this.site.unshift("")}else{var s=[];if(a){var n=a&&Object(o["a"])(this.siteShowList.map((function(t){return t.platform_mall_id}))),c=n.length>this.site.length&&this.site||n,u=n.length>this.site.length&&n||this.site;s=new Set(this.site);var m,p=Object(i["a"])(u);try{for(p.s();!(m=p.n()).done;){var f=m.value;c.includes(f)&&s.delete(f)}}catch(d){p.e(d)}finally{p.f()}s.delete("")}this.site=Object(o["a"])(s)}else!t.includes("")&&this.siteList.length>0&&this.siteList.length===this.site.length?this.site.unshift(""):t.includes("")&&(this.site=t.slice(1));this.changeMallList(),this.filterMall(a)},getMallGoodsGetMallList:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var l,r,s,i,n,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(1!==t){a.next=9;break}return l=e.countryVal,a.next=4,e.mallListAPIInstance.ddMallGoodsGetMallList();case 4:r=a.sent,200===r.code?(s=r.data||[],e.allSiteList=s,e.siteList=""===l?s:s.filter((function(t){return t.country===l}))):e.$message.error("获取分组、店铺列表失败"),0===e.groupIdList.length&&(i=new Set(e.siteList.map((function(t){if(t.group_id)return JSON.stringify({group_name:t.group_name,id:t.group_id})}))),i.delete(void 0),n=Object(o["a"])(i),c=n.map((function(t){return JSON.parse(t)})),c.zzSort("id"),e.groupIdList=Object(o["a"])(c),e.groupId=[""].concat(Object(o["a"])(c.map((function(t){return t.id}))))),a.next=10;break;case 9:e.siteList=e.allSiteList.filter((function(t){if(e.groupId.includes(t.group_id))return t}));case 10:e.changeSiteSelect([""],!0);case 11:case"end":return a.stop()}}),a)})))()},changeMallList:function(){var t=this,e=((new Date).getTime(),[]),a="",l=this.site;if(this.isAShop){var r=this.siteList.find((function(e){return e.platform_mall_id===t.site}));a=this.site,e.push(r)}else l.length&&""===l[0]&&(l=l.slice(1)),a=l.toString(),e=this.siteList.filter((function(t){return l.includes(t.platform_mall_id)}));!this.countryVal&&this.groupId.indexOf("")>-1&&(a=e.length!==this.siteList.length&&a||""),this.source?this.$emit("changeMallList",{mallList:e,groupIdList:this.groupId,source:this.source,searchAll:a,country:this.countryVal.toLocaleUpperCase()}):(e["country"]=this.countryVal,this.$emit("changeMallList",e))},filterMall:function(t){var e=this,a=t&&this.isShowName!==t?1e3:100;this.filterMallTime&&(clearTimeout(this.filterMallTime),this.filterMallTime=null),this.filterMallTime=setTimeout((function(){e.isShowName!==t&&(e.mallShowIndex=0),e.isShowName=t||"";var a=[];a=t?e.siteList.filter((function(e){var a=e.mall_alias_name||e.platform_mall_name;return a.includes(t)})):e.siteList,e.siteShowList=a}),a)},showMall:function(t,e){var a=t.mall_alias_name||t.platform_mall_name,l=this.site[0]===t.platform_mall_id;return l||this.mallShowIndex<=e&&e<=this.mallShowIndex+this.showMallNumber&&(!this.isShowName||a.includes(this.isShowName))},loadmoreMall:function(t,e){if(this.siteShowList.length>this.showMallNumber){var a=0;t?(a=this.mallShowIndex+10,a=a<this.siteShowList.length-this.showMallNumber&&a||this.siteShowList.length-this.showMallNumber):(a=this.mallShowIndex-10,a=a>0&&a||0),a!==this.mallShowIndex&&(e.scrollTop=t?e.scrollTop-100:30),this.mallShowIndex=a}}}},m=u,p=(a("8992"),a("2877")),f=Object(p["a"])(m,l,r,!1,null,null,null);e["a"]=f.exports}}]);